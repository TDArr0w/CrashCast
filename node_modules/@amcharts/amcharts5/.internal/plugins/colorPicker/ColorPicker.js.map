{"version":3,"file":"ColorPicker.js","sourceRoot":"","sources":["../../../../../src/.internal/plugins/colorPicker/ColorPicker.ts"],"names":[],"mappings":"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","sourcesContent":["import type { ColorPickerButton } from \"./ColorPickerButton\";\nimport type { CanvasLayer } from \"../../core/render/backend/CanvasRenderer\";\nimport type { ISpritePointerEvent } from \"../../core/render/Sprite\";\n\nimport { ColorPickerDefaultTheme } from \"./ColorPickerDefaultTheme\";\nimport { color, Color } from \"../../core/util/Color\";\nimport { ListTemplate } from \"../../core/util/List\";\nimport { p100 } from \"../../core/util/Percent\";\nimport { Template } from \"../../core/util/Template\";\nimport { Button } from \"../../core/render/Button\";\nimport { Circle } from \"../../core/render/Circle\";\nimport { Container, IContainerEvents, IContainerPrivate, IContainerSettings } from \"../../core/render/Container\";\nimport { EditableLabel } from \"../../core/render/EditableLabel\";\nimport { Graphics } from \"../../core/render/Graphics\";\nimport { Label } from \"../../core/render/Label\";\nimport { Rectangle } from \"../../core/render/Rectangle\";\nimport { RoundedRectangle } from \"../../core/render/RoundedRectangle\";\nimport { Slider } from \"../../core/render/Slider\";\nimport { LinearGradient } from \"../../core/render/gradients/LinearGradient\";\n\nimport * as $utils from \"../../core/util/Utils\";\nimport * as $type from \"../../core/util/Type\";\n\nexport interface IColorPickerSettings extends IContainerSettings {\n\t/**\n\t * Color picker button to use.\n\t */\n\tcolorButton?: ColorPickerButton;\n\n\t/*\n\t* Hue of the color picker.\n\t */\n\thue?: number;\n\n\t/**\n\t * Color of the color picker.\n\t */\n\tcolor?: Color;\n\n\t/**\n\t * Opacity of the color.\n\t */\n\tcolorOpacity?: number;\n\n\t/**\n\t * Background color of the color picker.\n\t */\n\tbackgroundColor?: Color;\n}\n\nexport interface IColorPickerPrivate extends IContainerPrivate {\n\n}\n\nexport interface IColorPickerEvents extends IContainerEvents {\n\tcolorchanged: {\n\t\tcolor?: Color;\n\t\tcolorOpacity?: number;\n\t}\n}\n\nexport class ColorPicker extends Container {\n\tpublic static className: string = \"ColorPicker\";\n\tpublic static classNames: Array<string> = Container.classNames.concat([ColorPicker.className]);\n\n\tdeclare public _settings: IColorPickerSettings;\n\tdeclare public _privateSettings: IColorPickerPrivate;\n\tdeclare public _events: IColorPickerEvents;\n\n\tprotected _currentRectangle: RoundedRectangle | undefined;\n\n\tpublic _clickOverlay = this.children.push(Rectangle.new(this._root, {\n\t\tposition: \"absolute\",\n\t\tfillOpacity: 0,\n\t\tinteractive: true,\n\t\tisMeasured: false,\n\t\tfill: color(0x000000),\n\t\tforceHidden: true\n\t}))\n\n\tpublic readonly rectangles: ListTemplate<RoundedRectangle> = new ListTemplate(\n\t\tTemplate.new({}),\n\t\t() => RoundedRectangle._new(this._root, {\n\t\t}, [this.rectangles.template])\n\t);\n\n\n\t/**\n\t * Container for color gradients.\n\t */\n\tpublic gradientsContainer: Container = this.children.push(Container.new(this._root, {\n\n\t\tthemeTagsSelf: [\"gradientscontainer\"],\n\t\twidth: p100,\n\t\tlayout: this._root.horizontalLayout\n\t}))\n\n\n\t/**\n\t * Container for color gradients.\n\t * @ignore\n\t */\n\tpublic colorGradientsContainer: Container = this.gradientsContainer.children.push(Container.new(this._root, {\n\t\twidth: p100,\n\t\tlayer: 0\n\t}));\n\n\t/**\n\t * Rectangle that displays the color gradient.\n\t * @ignore\n\t */\n\tpublic colorRectangle: Rectangle = this.colorGradientsContainer.children.push(Rectangle.new(this._root, {\n\t\tcrisp: true,\n\t\tthemeTags: [\"colorrectangle\"],\n\t\twidth: p100,\n\t\theight: p100,\n\t\tstrokeWidth: 1\n\t}));\n\n\t/**\n\t * Rectangle that displays the white overlay.\n\t * @ignore* \n\t */\n\tpublic colorRectangleWhiteOverlay: Rectangle = this.colorGradientsContainer.children.push(Rectangle.new(this._root, {\n\t\tcrisp: true,\n\t\tforceInactive: true,\n\t\twidth: p100,\n\t\theight: p100\n\t}));\n\n\t/**\n\t * Rectangle that displays the black overlay.\n\t * @ignore \n\t */\n\tpublic colorRectangleBlackOverlay: Rectangle = this.colorGradientsContainer.children.push(Rectangle.new(this._root, {\n\t\tcrisp: true,\n\t\tforceInactive: true,\n\t\twidth: p100,\n\t\theight: p100\n\t}));\n\n\t/**\n\t * Slider that displays the hue of the color.\n\t */\n\tpublic slider = this.gradientsContainer.children.push(Slider.new(this._root, {\n\t\torientation: \"vertical\",\n\t\tthemeTags: [\"gradient\"]\n\t}));\n\n\t/**\n\t * @ignore \n\t */\n\tpublic inputContainer = this.children.push(Container.new(this._root, {\n\t\tmarginTop: 10,\n\t\tlayout: this._root.horizontalLayout,\n\t\twidth: p100\n\t}));\n\n\t/**\n\t * Button that shows color picker button.\n\t */\n\tpublic pickerButton = this.inputContainer.children.push(Button.new(this._root, {\n\t\tthemeTags: [\"picker\", \"pickertool\"],\n\t\ttoggleKey: \"active\",\n\t\ticon: Graphics.new(this._root, {\n\t\t\tthemeTags: [\"icon\"]\n\t\t})\n\t}));\n\n\t/**\n\t * Button that allows to remove color.\n\t */\n\tpublic noColorButton = this.inputContainer.children.push(Button.new(this._root, {\n\t\tthemeTags: [\"nocolor\", \"pickertool\"],\n\t\ticon: Graphics.new(this._root, {\n\t\t\tthemeTags: [\"icon\"]\n\t\t})\n\t}));\n\n\t/**\n\t * Editable label that allows to input color in hex format.\n\t */\n\tpublic colorInput = this.inputContainer.children.push(EditableLabel.new(this._root, {\n\t\tthemeTags: [\"input\", \"color\"]\n\t}));\n\n\t/**\n\t * @ignore\n\t */\n\tpublic opacityContainer = this.children.push(Container.new(this._root, {\n\t\twidth: p100,\n\t\tmarginTop: 10,\n\t\tlayout: this._root.horizontalLayout\n\t}));\n\n\t/**\n\t * Slider that allows to change opacity of the color.\n\t */\n\tpublic opacitySlider = this.opacityContainer.children.push(Slider.new(this._root, {\n\t\tthemeTags: [\"opacity\"],\n\t\torientation: \"horizontal\"\n\t}));\n\n\t/**\n\t * Circle that indicates the target color.\n\t */\n\tpublic targetCircle = this.colorGradientsContainer.children.push(Circle.new(this._root, {\n\t\tthemeTags: [\"circle\", \"target\"],\n\t\tisMeasured: false,\n\t\tforceInactive: true,\n\t\tposition: \"absolute\",\n\t\tlayer: 30\n\t}));\n\n\t/**\n\t * @ignore\n\t */\n\tpublic buttonsContainer = this.children.push(Container.new(this._root, {\n\t\tmarginTop: 10,\n\t\tlayout: this._root.horizontalLayout,\n\t\twidth: p100\n\t}));\n\n\t/**\n\t * Button that allows to cancel color selection.\n\t */\n\tpublic cancelButton = this.buttonsContainer.children.push(Button.new(this._root, {\n\t\tthemeTags: [\"cancel\"],\n\t\tlabel: Label.new(this._root, {})\n\t}));\n\n\t/**\n\t * Button that allows to confirm color selection.\n\t */\n\tpublic okButton = this.buttonsContainer.children.push(Button.new(this._root, {\n\t\tthemeTags: [\"ok\"],\n\t\tlabel: Label.new(this._root, {})\n\t}));\n\n\n\tprotected _isColorDown: boolean = false;\n\tprotected _isPicking: boolean = false;\n\tprotected _isEditing: boolean = false;\n\tprotected _previousColor: Color | undefined;\n\tprotected _previousOpacity: number | undefined;\n\tprotected _prevColor: Color | undefined;\n\n\t/**\n\t * @ignore\n\t */\n\tprotected _afterNew(): void {\n\t\tthis._defaultThemes.push(ColorPickerDefaultTheme.new(this._root));\n\n\t\tthis.addTag(\"colorpicker\");\n\t\tsuper._afterNew();\n\n\t\tthis.set(\"tooltip\", this._root.systemTooltip);\n\n\t\tthis.cancelButton.events.on(\"click\", () => {\n\t\t\tthis.cancel();\n\t\t});\n\n\t\tthis.okButton.events.on(\"click\", () => {\n\t\t\tthis.set(\"colorButton\", undefined);\n\t\t\t// dispatch event\n\t\t\tthis.events.dispatch(\"colorchanged\", {\n\t\t\t\ttype: \"colorchanged\",\n\t\t\t\ttarget: this,\n\t\t\t\tcolor: this.get(\"color\"),\n\t\t\t\tcolorOpacity: this.get(\"colorOpacity\")\n\t\t\t});\n\t\t});\n\n\t\tconst container = this.root.container;\n\t\tcontainer.events.on(\"boundschanged\", () => {\n\t\t\tconst w = container.width();\n\t\t\tconst h = container.height();\n\n\t\t\tthis._clickOverlay.setAll({\n\t\t\t\twidth: w,\n\t\t\t\theight: h,\n\t\t\t\tx: 0,\n\t\t\t\ty: 0\n\t\t\t});\n\t\t})\n\n\t\tthis._clickOverlay.events.on(\"click\", () => {\n\t\t\tif (!this._isPicking && !this._isEditing) {\n\t\t\t\tthis.cancel();\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.pickerButton.set(\"active\", false);\n\t\t\t}\n\t\t})\n\n\t\tthis.set(\"layout\", this._root.verticalLayout);\n\n\t\t// remove text color input when nocolor button is pressed\n\t\tthis.noColorButton.events.on(\"click\", () => {\n\t\t\tthis.set(\"color\", undefined);\n\n\t\t\tconst colorButton = this.get(\"colorButton\");\n\t\t\tif (colorButton) {\n\t\t\t\tcolorButton.setAll({\n\t\t\t\t\tcolor: undefined,\n\t\t\t\t\tcolorOpacity: 1\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// dispatch event\n\t\t\tthis.events.dispatch(\"colorchanged\", {\n\t\t\t\ttype: \"colorchanged\",\n\t\t\t\ttarget: this,\n\t\t\t\tcolor: undefined,\n\t\t\t\tcolorOpacity: 1\n\t\t\t});\n\n\t\t\tthis.set(\"colorButton\", undefined);\n\t\t})\n\n\t\tthis.colorInput.on(\"text\", (text) => {\n\t\t\tif (text) {\n\t\t\t\ttext = text.replace(/[^abcdef0-9#]/ig, \"\");\n\n\t\t\t\tif (text.substring(0, 1) !== \"#\") {\n\t\t\t\t\ttext = \"#\" + text;\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tthis.set(\"color\", color(text));\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.colorInput.set(\"text\", text);\n\t\t\t}\n\t\t})\n\n\t\tthis.pickerButton.on(\"active\", (active) => {\n\t\t\tthis._isPicking = Boolean(active);\n\t\t\tthis.set(\"forceInactive\", active);\n\t\t})\n\n\t\tif ($utils.supports(\"keyboardevents\")) {\n\t\t\tthis._disposers.push($utils.addEventListener(document, \"keyup\", (e: KeyboardEvent) => {\n\t\t\t\tif (e.key === \"Escape\") {\n\t\t\t\t\tthis.set(\"colorButton\", undefined);\n\t\t\t\t}\n\t\t\t}));\n\t\t}\n\n\t\tthis.gradientsContainer.events.on(\"boundschanged\", () => {\n\t\t\tconst w = Math.floor(this.colorGradientsContainer.width());\n\t\t\tthis.colorGradientsContainer.setAll({ width: w, height: w });\n\n\t\t\tthis.slider.set(\"height\", w);\n\t\t})\n\n\t\tthis.targetCircle.setAll({\n\t\t\tx: this.colorRectangle.width(),\n\t\t\ty: 0\n\t\t})\n\n\t\t// limit target circle to the bounds of the color gradient\n\t\tthis.targetCircle.adapters.add(\"x\", (x) => {\n\t\t\tif ($type.isNumber(x)) {\n\t\t\t\tconst w = this.colorRectangle.width();\n\t\t\t\treturn Math.min(w, Math.max(0, x));\n\t\t\t}\n\t\t})\n\n\t\tthis.targetCircle.adapters.add(\"y\", (y) => {\n\t\t\tif ($type.isNumber(y)) {\n\t\t\t\tconst h = this.colorRectangle.height();\n\t\t\t\treturn Math.min(h, Math.max(0, y));\n\t\t\t}\n\t\t})\n\n\t\tthis.slider.on(\"start\", () => {\n\t\t\tthis.set(\"hue\", this.slider.get(\"start\", 0));\n\t\t})\n\n\t\tconst sliderBg = this.slider.get(\"background\");\n\t\tif (sliderBg) {\n\t\t\tsliderBg.set(\"layer\", 0);\n\t\t}\n\n\t\t// handle opacity slider changes\n\t\tthis.opacitySlider.on(\"start\", () => {\n\t\t\tthis.set(\"colorOpacity\", this.opacitySlider.get(\"start\", 1));\n\t\t})\n\n\t\tconst opacitySliderBg = this.opacitySlider.get(\"background\");\n\t\tif (opacitySliderBg) {\n\t\t\topacitySliderBg.set(\"layer\", 0);\n\t\t}\n\n\t\t// big rectangle events\n\t\tthis.colorRectangle.events.on(\"pointerdown\", (e) => {\n\t\t\tthis._isColorDown = true;\n\t\t\tthis._handleTargetMove(e);\n\t\t\tthis.set(\"draggable\", false);\n\t\t\tthis.dragStop(e);\n\t\t})\n\n\t\tthis.colorRectangle.events.on(\"globalpointermove\", (e) => {\n\t\t\tif (this._isColorDown) {\n\t\t\t\tthis._handleTargetMove(e);\n\t\t\t}\n\t\t\tif (this._isPicking) {\n\t\t\t\tconst display = this._root.container._display;\n\t\t\t\tconst context = (display.getLayer() as CanvasLayer).context;\n\t\t\t\tconst resolution = display._renderer.resolution;\n\t\t\t\tconst imageData = context.getImageData(Math.floor(e.point.x * resolution), Math.floor(e.point.y * resolution), 1, 1).data;\n\t\t\t\tconst fill = Color.fromRGB(imageData[0], imageData[1], imageData[2]);\n\n\t\t\t\tthis.set(\"color\", fill);\n\t\t\t}\n\t\t})\n\n\t\tthis.colorRectangle.events.on(\"globalpointerup\", (e) => {\n\t\t\tthis.set(\"draggable\", true);\n\n\t\t\tthis.dragStop(e);\n\t\t\tthis._isColorDown = false;\n\t\t})\n\n\t\tthis.colorInput.on(\"active\", (active) => {\n\t\t\tthis._isEditing = Boolean(active);\n\t\t});\n\t}\n\n\n\t/**\n\t * @ignore\n\t */\n\tpublic _updateChildren(): void {\n\t\tsuper._updateChildren();\n\n\t\tif (this.isDirty(\"colorButton\")) {\n\t\t\tthis.pickerButton.set(\"active\", false);\n\t\t\tconst colorButton = this.get(\"colorButton\");\n\t\t\tlet hidden = true;\n\n\t\t\tif (colorButton) {\n\t\t\t\tthis.opacityContainer.set(\"forceHidden\", colorButton.get(\"disableOpacity\"));\n\n\t\t\t\tthis._previousColor = colorButton.get(\"color\", colorButton.getPrivate(\"color\"));\n\t\t\t\tthis._previousOpacity = colorButton.get(\"colorOpacity\");\n\n\t\t\t\tconst parent = this.parent;\n\t\t\t\tif (parent) {\n\t\t\t\t\tparent.children.moveValue(this._clickOverlay);\n\t\t\t\t\tparent.children.moveValue(this);\n\t\t\t\t}\n\t\t\t\thidden = false;\n\t\t\t\tthis.show();\n\n\t\t\t\tthis.set(\"color\", colorButton.get(\"color\", colorButton.getPrivate(\"color\")));\n\t\t\t\tthis.set(\"colorOpacity\", colorButton.get(\"colorOpacity\") || 1);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.hide();\n\t\t\t}\n\n\t\t\tthis._clickOverlay.set(\"forceHidden\", hidden);\n\t\t}\n\n\t\tif (this.isDirty(\"hue\")) {\n\t\t\tthis._handleDirtyHue();\n\t\t\tthis._updateColor();\n\t\t}\n\n\t\tif (this.isDirty(\"colorOpacity\")) {\n\t\t\tconst opacitySlider = this.opacitySlider;\n\t\t\tconst opacity = this.get(\"colorOpacity\", 1);\n\n\t\t\topacitySlider.startGrip.set(\"tooltipText\", \"opacity:\" + Math.round(opacity * 100) + \"%\");\n\n\t\t\tif (!opacitySlider.startGrip.isDragging()) {\n\t\t\t\topacitySlider.set(\"start\", opacity)\n\t\t\t\topacitySlider.markDirtyKey(\"start\");\n\t\t\t}\n\t\t\telse {\n\t\t\t\topacitySlider.startGrip.hover();\n\t\t\t}\n\n\t\t\tconst colorButton = this.get(\"colorButton\");\n\t\t\tif (colorButton) {\n\t\t\t\tcolorButton.set(\"colorOpacity\", opacity);\n\t\t\t}\n\t\t\tthis._updateOpacitySliderGrip();\n\t\t}\n\n\t\tif (this.isDirty(\"color\")) {\n\t\t\tconst fill = this.get(\"color\");\n\t\t\tconst prevColor = this._prevColor;\n\n\t\t\tlet same = false;\n\t\t\tif (fill && prevColor && fill.toCSSHex() === prevColor.toCSSHex()) {\n\t\t\t\tsame = true;\n\t\t\t\t// void\n\t\t\t}\n\n\t\t\tif (!same) {\n\t\t\t\tif (fill) {\n\t\t\t\t\tthis.targetCircle.show();\n\t\t\t\t\tif (!this._isColorDown) {\n\t\t\t\t\t\tconst hsv = $utils.hslToHsv(fill.toHSL());\n\n\t\t\t\t\t\tthis.setRaw(\"hue\", hsv.h);\n\t\t\t\t\t\tif (!this.slider.startGrip.isDragging()) {\n\t\t\t\t\t\t\tthis.slider.set(\"start\", hsv.h);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis.targetCircle.setAll({\n\t\t\t\t\t\t\tx: this.colorRectangle.width() * hsv.s,\n\t\t\t\t\t\t\ty: this.colorRectangle.height() * (1 - hsv.v)\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\n\n\t\t\t\t\tthis.targetCircle.set(\"fill\", fill)\n\t\t\t\t\tthis._handleDirtyHue();\n\n\t\t\t\t\tthis.colorInput.set(\"text\", fill.toCSSHex().substring(1, 7));\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.targetCircle.hide();\n\t\t\t\t\tthis.colorInput.set(\"text\", \"\");\n\t\t\t\t}\n\n\t\t\t\tthis._prevColor = fill;\n\n\t\t\t\tconst opacitySliderBg = this.opacitySlider.get(\"background\");\n\n\t\t\t\tif (opacitySliderBg) {\n\t\t\t\t\topacitySliderBg.set(\"fillGradient\", LinearGradient.new(this._root, {\n\t\t\t\t\t\trotation: 0,\n\t\t\t\t\t\tstops: [\n\t\t\t\t\t\t\t{ color: fill, opacity: 0 },\n\t\t\t\t\t\t\t{ color: fill, opacity: 1 }\n\t\t\t\t\t\t]\n\t\t\t\t\t}));\n\t\t\t\t}\n\n\t\t\t\tconst colorButton = this.get(\"colorButton\");\n\t\t\t\tif (colorButton) {\n\t\t\t\t\tcolorButton.set(\"color\", fill);\n\t\t\t\t}\n\t\t\t\tthis._updateOpacitySliderGrip();\n\t\t\t}\n\t\t}\n\n\t\tif (this.isDirty(\"backgroundColor\")) {\n\t\t\tconst bgColor = this.get(\"backgroundColor\", color(0xffffff));\n\n\t\t\tthis.colorRectangle.setAll({\n\t\t\t\tstroke: bgColor\n\t\t\t});\n\n\t\t\tthis.colorRectangleBlackOverlay.setAll({\n\t\t\t\tstroke: bgColor\n\t\t\t});\n\n\t\t\tthis.colorRectangleWhiteOverlay.setAll({\n\t\t\t\tstroke: bgColor\n\t\t\t});\n\n\t\t\tthis.pickerButton.get(\"background\")?.states.applyAnimate(\"default\", 0);\n\t\t\tthis.noColorButton.get(\"background\")?.states.applyAnimate(\"default\", 0);\n\t\t\tthis.cancelButton.get(\"background\")?.states.applyAnimate(\"default\", 0);\n\t\t\tthis.okButton.get(\"background\")?.states.applyAnimate(\"default\", 0);\n\t\t}\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tprotected _handleDirtyHue(): void {\n\t\tconst start = this.slider.get(\"start\", 0);\n\t\tconst fill = Color.fromHSL(start, 1, .5);\n\t\tconst grip = this.slider.startGrip;\n\n\t\tthis.colorRectangle.setAll({\n\t\t\tfill: fill,\n\t\t\tstroke: this.get(\"backgroundColor\", color(0xffffff))\n\t\t});\n\n\t\tconst gripBg = grip.get(\"background\");\n\t\tif (gripBg) {\n\t\t\tgripBg.set(\"fill\", fill);\n\t\t\tgripBg.states.lookup(\"default\")?.set(\"fill\", fill);\n\t\t\tgripBg.states.lookup(\"hover\")?.set(\"fill\", fill);\n\t\t\tgripBg.states.lookup(\"down\")?.set(\"fill\", fill);\n\t\t}\n\n\t\tthis.colorRectangleWhiteOverlay.setAll({\n\t\t\tfillGradient: LinearGradient.new(this._root, {\n\t\t\t\trotation: 0,\n\n\t\t\t\tstops: [\n\t\t\t\t\t{ color: color(0xffffff), opacity: 1, offset: 0 },\n\t\t\t\t\t{ color: color(0xffffff), opacity: 0, offset: 1 }\n\t\t\t\t]\n\t\t\t})\n\t\t});\n\n\n\t\tthis.colorRectangleBlackOverlay.setAll({\n\t\t\tfillGradient: LinearGradient.new(this._root, {\n\t\t\t\tstops: [\n\t\t\t\t\t{ color: color(0x000000), opacity: 0, offset: 0 },\n\t\t\t\t\t{ color: color(0x000000), opacity: 1, offset: 1 }\n\t\t\t\t]\n\t\t\t})\n\t\t});\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tprotected _handleTargetMove(e: ISpritePointerEvent) {\n\t\tconst point = this.colorGradientsContainer.toLocal({ x: e.point.x, y: e.point.y });\n\t\tthis.targetCircle.setAll({\n\t\t\tx: point.x,\n\t\t\ty: point.y\n\t\t})\n\n\t\tthis._updateColor();\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tprotected _updateColor() {\n\t\tconst x = this.targetCircle.x();\n\t\tconst y = this.targetCircle.y();\n\t\tconst h = this.colorRectangle.height();\n\t\tconst w = this.colorRectangle.width();\n\n\t\tconst start = this.slider.get(\"start\", 0);\n\t\tlet hsl = $utils.hsvToHsl({ h: start, s: x / w, v: 1 - y / h });\n\n\t\tthis.set(\"color\", Color.fromHSL(hsl.h, hsl.s, hsl.l));\n\t}\n\n\t/**\n\t * @ignore\n\t */\n\tprotected _updateOpacitySliderGrip() {\n\t\tconst opacityBg = this.opacitySlider.startGrip.get(\"background\");\n\t\tif (opacityBg) {\n\t\t\tconst fill = Color.interpolate(this.get(\"colorOpacity\", 1), this.get(\"backgroundColor\", color(0xffffff)), this.get(\"color\", color(0xffffff)))\n\t\t\topacityBg.set(\"fill\", fill);\n\t\t\topacityBg.states.lookup(\"default\")?.set(\"fill\", fill);\n\t\t\topacityBg.states.lookup(\"hover\")?.set(\"fill\", fill);\n\t\t\topacityBg.states.lookup(\"down\")?.set(\"fill\", fill);\n\t\t}\n\t}\n\n\t/**\n\t * Cancels color selection and restores previous color.\n\t */\n\tpublic cancel() {\n\t\tthis.get(\"colorButton\")?.setAll({\n\t\t\tcolor: this._previousColor,\n\t\t\tcolorOpacity: this._previousOpacity\n\t\t});\n\t\tthis._isEditing = false;\n\t\tthis._isPicking = false;\n\t\tthis.set(\"color\", this._previousColor);\n\t\tthis.set(\"colorButton\", undefined);\n\t}\n}\n"]}