"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = default_1;
const is_1 = require("@plq/is");
function default_1(key, initialValue, persist) {
    let initialPersist;
    try {
        initialPersist = persist ? JSON.parse(persist) : {};
    }
    catch {
        initialPersist = {};
    }
    let initialOrPersistedValue = (0, is_1.isFunction)(initialValue) ? initialValue() : initialValue;
    if (initialPersist && key in initialPersist) {
        initialOrPersistedValue = initialPersist[key] ?? initialOrPersistedValue;
    }
    return initialOrPersistedValue;
}
//# sourceMappingURL=get-persisted-value.js.map