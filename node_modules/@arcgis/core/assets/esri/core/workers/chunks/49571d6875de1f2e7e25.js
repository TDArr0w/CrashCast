"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[3474],{4341:(t,e,n)=>{n.d(e,{I:()=>i});var r=n(26390);class i{constructor(t){this._allocator=t,this._items=[],this._itemsPtr=0,this._grow()}get(){return 0===this._itemsPtr&&(0,r.d)(()=>this._reset()),this._itemsPtr===this._items.length&&this._grow(),this._items[this._itemsPtr++]}_reset(){const t=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*s);this._items.length=Math.min(t,this._items.length),this._itemsPtr=0}_grow(){for(let t=0;t<Math.max(8,Math.min(this._items.length,s));t++)this._items.push(this._allocator())}}const s=1024},15976:(t,e,n)=>{n.d(e,{o:()=>i});var r=n(74333);class i extends r.n{constructor(t,e){super(t,"sampler2D",2,(n,r,i)=>n.bindTexture(t,e(r,i)))}}},20304:(t,e,n)=>{n.d(e,{m:()=>i});var r=n(74333);class i extends r.n{constructor(t,e,n){super(t,"float",1,(r,i,s)=>r.setUniform1f(t,e(i,s),n))}}},25634:(t,e,n)=>{n.d(e,{m8:()=>u,NV:()=>a});var r=n(97768),i=n(74887);class s{constructor(t){this._material=t.material,this._techniques=t.techniques,this._output=t.output}dispose(){}get _stippleTextures(){return this._techniques.context?.stippleTextures}get _markerTextures(){return this._techniques.context?.markerTextures}getTechnique(t,e){return this._techniques.get(t,this._material.getConfiguration(this._output,e))}ensureResources(t){return 2}}var o=n(65786);class u extends s{constructor(t){super(t),this._numLoading=0,this._disposed=!1,this._textures=t.textures,this.updateTexture(t.textureId),this._acquire(t.normalTextureId,t=>this._textureNormal=t),this._acquire(t.emissiveTextureId,t=>this._textureEmissive=t),this._acquire(t.occlusionTextureId,t=>this._textureOcclusion=t),this._acquire(t.metallicRoughnessTextureId,t=>this._textureMetallicRoughness=t)}dispose(){super.dispose(),this._texture=(0,r.Gz)(this._texture),this._textureNormal=(0,r.Gz)(this._textureNormal),this._textureEmissive=(0,r.Gz)(this._textureEmissive),this._textureOcclusion=(0,r.Gz)(this._textureOcclusion),this._textureMetallicRoughness=(0,r.Gz)(this._textureMetallicRoughness),this._disposed=!0}ensureResources(t){return 0===this._numLoading?2:1}get textureBindParameters(){return new a(this._texture?.glTexture??null,this._textureNormal?.glTexture??null,this._textureEmissive?.glTexture??null,this._textureOcclusion?.glTexture??null,this._textureMetallicRoughness?.glTexture??null)}updateTexture(t){null!=this._texture&&t===this._texture.id||(this._texture=(0,r.Gz)(this._texture),this._acquire(t,t=>this._texture=t))}_acquire(t,e){if(null==t)return void e(null);const n=this._textures.acquire(t);if((0,i.$X)(n))return++this._numLoading,void n.then(t=>{if(this._disposed)return(0,r.Gz)(t),void e(null);e(t)}).finally(()=>--this._numLoading);e(n)}}class c extends o.Y{constructor(t=null){super(),this.textureEmissive=t}}class a extends c{constructor(t,e,n,r,i,s,o){super(n),this.texture=t,this.textureNormal=e,this.textureOcclusion=r,this.textureMetallicRoughness=i,this.scale=s,this.normalTextureTransformMatrix=o}}},27993:(t,e,n)=>{n.d(e,{F:()=>s}),n(91218);var r=n(16930),i=n(65806);function s(t,e,n,r,s){return!(null==e||null==r||t.length<2)&&(o.x=t[0],o.y=t[1],o.z=t[2],o.spatialReference=e,(0,i.g)(o,n,r,s))}const o={x:0,y:0,z:0,hasZ:!0,hasM:!1,spatialReference:r.A.WGS84,type:"point"}},28421:(t,e,n)=>{n.d(e,{J:()=>i});var r=n(74333);class i extends r.n{constructor(t,e,n){super(t,"float",2,(r,i,s)=>r.setUniform1f(t,e(i,s),n))}}},31821:(t,e,n)=>{n.d(e,{H:()=>r,If:()=>i});const r=(t,...e)=>{let n="";for(let r=0;r<e.length;r++)n+=t[r]+e[r];return n+=t[t.length-1],n};function i(t,e,n=""){return t?e:n}r.int=t=>Math.round(t).toString(),r.float=t=>t.toPrecision(8)},33079:(t,e,n)=>{n.d(e,{t:()=>i});var r=n(74333);class i extends r.n{constructor(t,e,n){super(t,"vec3",1,(r,i,s)=>r.setUniform3fv(t,e(i,s),n))}}},40710:(t,e,n)=>{n.d(e,{W:()=>i});var r=n(74333);class i extends r.n{constructor(t,e,n){super(t,"vec3",2,(r,i,s,o)=>r.setUniform3fv(t,e(i,s,o),n))}}},46140:(t,e,n)=>{n.d(e,{R:()=>i});var r=n(49186);let i=class t{constructor(t,e,n=""){this.major=t,this.minor=e,this._context=n}lessThan(t,e){return this.major<t||t===this.major&&this.minor<e}greaterEqual(t,e){return!this.lessThan(t,e)}validate(t){if(this.major!==t.major){const e=this._context&&this._context+":",n=this._context&&this._context+" ";throw new r.A(e+"unsupported-version",`Required major ${n}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:t})}}clone(){return new t(this.major,this.minor,this._context)}static parse(e,n=""){const[i,s]=e.split("."),o=/^\s*\d+\s*$/;if(!i?.match||!o.test(i))throw new r.A((n&&n+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:e});if(!s?.match||!o.test(s))throw new r.A((n&&n+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:e});const u=parseInt(i,10),c=parseInt(s,10);return new t(u,c,n)}}},49255:(t,e,n)=>{function r(t){return 4===t||5===t||6===t||7===t||8===t}function i(t){return function(t){return o(t)||u(t)}(t)||3===t}function s(t){return function(t){return 0===t}(t)||c(t)}function o(t){return s(t)||function(t){return 9===t||10===t}(t)}function u(t){return 2===t}function c(t){return 1===t}function a(t){return u(t)||r(t)}n.d(e,{Bf:()=>r,Dz:()=>a,LG:()=>c,Mb:()=>o,RN:()=>s,iq:()=>i})},53466:(t,e,n)=>{n.d(e,{U:()=>s});var r=n(21818),i=n(31821);function s(t,e){switch(e.textureCoordinateType){case 1:return t.attributes.add("uv0","vec2"),t.varyings.add("vuv0","vec2"),void t.vertex.code.add(i.H`void forwardTextureCoordinates() { vuv0 = uv0; }`);case 2:return t.attributes.add("uv0","vec2"),t.attributes.add("uvRegion","vec4"),t.varyings.add("vuv0","vec2"),t.varyings.add("vuvRegion","vec4"),void t.vertex.code.add(i.H`void forwardTextureCoordinates() {
vuv0 = uv0;
vuvRegion = uvRegion;
}`);default:(0,r.Xb)(e.textureCoordinateType);case 0:return void t.vertex.code.add(i.H`void forwardTextureCoordinates() {}`);case 3:return}}},63201:(t,e,n)=>{n.d(e,{NL:()=>f});var r=n(49255),i=n(99208),s=n(40876),o=n(31821);function u(t){t.code.add(o.H`
    const float GAMMA = ${o.H.float(s.Tf)};
    const float INV_GAMMA = ${o.H.float(1/s.Tf)};

    vec4 delinearizeGamma(vec4 color) {
      return vec4(pow(color.rgb, vec3(INV_GAMMA)), color.a);
    }

    vec3 linearizeGamma(vec3 color) {
      return pow(color, vec3(GAMMA));
    }
  `)}var c=n(40710),a=n(33079),l=n(28421),d=n(20304),h=n(15976),m=n(63761);n(25634);const v=1;function f(t,e){if(!(0,r.RN)(e.output))return;t.fragment.include(u);const{emissionSource:n,hasEmissiveTextureTransform:s,bindType:f}=e,x=3===n||4===n||5===n;x&&(t.include(i.r,e),t.fragment.uniforms.add(1===f?new m.N("texEmission",t=>t.textureEmissive):new h.o("texEmission",t=>t.textureEmissive)));const g=2===n||x;g&&t.fragment.uniforms.add(1===f?new a.t("emissiveBaseColor",t=>t.emissiveBaseColor):new c.W("emissiveBaseColor",t=>t.emissiveBaseColor));const _=0!==n;_&&7!==n&&6!==n&&4!==n&&5!==n&&t.fragment.uniforms.add(1===f?new d.m("emissiveStrength",t=>t.emissiveStrength):new l.J("emissiveStrength",t=>t.emissiveStrength));const p=7===n,b=5===n,M=1===n||6===n||p;t.fragment.code.add(o.H`
    vec4 getEmissions(vec3 symbolColor) {
      vec4 emissions = ${g?b?"emissiveSource == 0 ? vec4(emissiveBaseColor, 1.0): vec4(linearizeGamma(symbolColor), 1.0)":"vec4(emissiveBaseColor, 1.0)":M?p?"emissiveSource == 0 ? vec4(0.0): vec4(linearizeGamma(symbolColor), 1.0)":"vec4(linearizeGamma(symbolColor), 1.0)":"vec4(0.0)"};
      ${(0,o.If)(x,`${(0,o.If)(b,`if(emissiveSource == 0) {\n              vec4 emissiveFromTex = textureLookup(texEmission, ${s?"emissiveUV":"vuv0"});\n              emissions *= vec4(linearizeGamma(emissiveFromTex.rgb), emissiveFromTex.a);\n           }`,`vec4 emissiveFromTex = textureLookup(texEmission, ${s?"emissiveUV":"vuv0"});\n           emissions *= vec4(linearizeGamma(emissiveFromTex.rgb), emissiveFromTex.a);`)}\n        emissions.w = emissions.rgb == vec3(0.0) ? 0.0: emissions.w;`)}
      ${(0,o.If)(_,`emissions.rgb *= emissiveStrength * ${o.H.float(v)};`)}
      return emissions;
    }
  `)}},63761:(t,e,n)=>{n.d(e,{N:()=>i});var r=n(74333);class i extends r.n{constructor(t,e){super(t,"sampler2D",1,(n,r,i)=>n.bindTexture(t,e(r,i)))}}},65786:(t,e,n)=>{n.d(e,{Y:()=>r});const r=class{};new r},65806:(t,e,n)=>{n.d(e,{g:()=>o});var r=n(51850),i=n(91218),s=n(9762);function o(t,e,n,r){if((0,i.canProjectWithoutEngine)(t.spatialReference,n)){u[0]=t.x,u[1]=t.y;const i=t.z;return u[2]=i??r??0,(0,s.projectBuffer)(u,t.spatialReference,0,e,n,0)}const o=(0,i.tryProjectWithZConversion)(t,n);return!!o&&(e[0]=o?.x,e[1]=o?.y,e[2]=o?.z??r??0,!0)}const u=(0,r.vt)()},71351:(t,e,n)=>{n.d(e,{C:()=>d,Cr:()=>h,LV:()=>l,fA:()=>m,kb:()=>v,oC:()=>f,vt:()=>c}),n(4576);var r=n(4341),i=(n(77690),n(29242)),s=n(38954),o=n(51850),u=n(32114);function c(t){return t?a((0,o.o8)(t.origin),(0,o.o8)(t.direction)):a((0,o.vt)(),(0,o.vt)())}function a(t,e){return{origin:t,direction:e}}function l(t,e){const n=x.get();return n.origin=t,n.direction=e,n}function d(t,e=c()){return m(t.origin,t.direction,e)}function h(t,e,n=c()){return(0,s.d)(n.origin,t),(0,s.e)(n.direction,e,t),n}function m(t,e,n=c()){return(0,s.d)(n.origin,t),(0,s.d)(n.direction,e),n}function v(t,e){const n=(0,s.i)(u.rq.get(),(0,s.n)(u.rq.get(),t.direction),(0,s.e)(u.rq.get(),e,t.origin));return(0,s.f)(n,n)}function f(t,e,n){const r=(0,s.f)(t.direction,(0,s.e)(n,e,t.origin));return(0,s.g)(n,t.origin,(0,s.h)(n,t.direction,r)),n}const x=new r.I(()=>c());(0,o.vt)(),(0,o.vt)(),(0,o.vt)(),(0,i.vt)()},74333:(t,e,n)=>{n.d(e,{n:()=>r}),n(44208);class r{constructor(t,e,n,r,i=null){if(this.name=t,this.type=e,this.arraySize=i,this.bind={0:null,1:null,2:null},r)switch(n){case void 0:break;case 0:this.bind[0]=r;break;case 1:this.bind[1]=r;break;case 2:this.bind[2]=r}}equals(t){return this.type===t.type&&this.name===t.name&&this.arraySize===t.arraySize}}},97937:(t,e,n)=>{n.d(e,{B:()=>I,a:()=>y,b:()=>M,c:()=>f,d:()=>E,e:()=>g,f:()=>v,g:()=>T,j:()=>x,m:()=>b,n:()=>C,o:()=>w,s:()=>B,w:()=>j,x:()=>R}),n(44208),n(53966);var r=n(34727),i=n(58083),s=n(38954),o=n(51850),u=n(91829),c=n(34304),a=n(71351);function l(t,e){const n=(0,s.b)(t),i=(0,r.YN)(t[2]/n),o=Math.atan2(t[1]/n,t[0]/n);return(0,s.j)(e,n,i,o),e}var d=n(44280),h=n(32114);const m=f();function v(t,e,n,r){return new Array(t,e,n,r)}function f(){return v(0,0,0,0)}function x(t,e){return v(t[0],t[1],t[2],e)}function g(t,e,n){return _(t,e[0],e[1],e[2],n)}function _(t,e,n,r,i){return t[0]=e,t[1]=n,t[2]=r,t[3]=i,t}function p(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function b(t,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function M(t,e){return t[0]=0,t[1]=0,t[2]=0,t[3]=e,t}function T(t){return t[3]}function C(t,e){return(0,s.j)(e,t[0],t[1],t[2])}function y(t){return(0,s.j)(N,t[0],t[1],t[2])}function w(t,e){t[0]=e[0],t[1]=e[1],t[2]=e[2]}function R(t,e){t[0]=e[0],t[1]=e[1],t[2]=e[2]}function q(t,e,n){if(null==e)return!1;if(!A(t,e,S))return!1;let{t0:r,t1:i}=S;if((r<0||i<r&&i>0)&&(r=i),r<0)return!1;if(n){const{origin:t,direction:i}=e;n[0]=t[0]+i[0]*r,n[1]=t[1]+i[1]*r,n[2]=t[2]+i[2]*r}return!0}const S={t0:0,t1:0};function A(t,e,n){const{origin:r,direction:i}=e,s=z;s[0]=r[0]-t[0],s[1]=r[1]-t[1],s[2]=r[2]-t[2];const o=i[0]*i[0]+i[1]*i[1]+i[2]*i[2];if(0===o)return!1;const u=2*(i[0]*s[0]+i[1]*s[1]+i[2]*s[2]),c=u*u-4*o*(s[0]*s[0]+s[1]*s[1]+s[2]*s[2]-t[3]*t[3]);if(c<0)return!1;const a=Math.sqrt(c);return n.t0=(-u-a)/(2*o),n.t1=(-u+a)/(2*o),!0}const z=(0,o.vt)();function j(t,e){return q(t,e,null)}function G(t,e,n){const r=h.rq.get(),o=h.Rc.get();(0,s.i)(r,e.origin,e.direction);const u=T(t);(0,s.i)(n,r,e.origin),(0,s.h)(n,n,1/(0,s.b)(n)*u);const c=$(t,e.origin),a=(0,d.g7)(e.origin,n);return(0,i.$0)(o,a+c,r),(0,s.t)(n,n,o),n}function E(t,e,n,r){const i=T(t),s=i*i,o=e+.5*Math.PI,u=n*n+s-2*Math.cos(o)*n*i,c=Math.sqrt(u),a=u-s;if(a<=0)return.5;const l=Math.sqrt(a),d=Math.acos(l/c)-Math.asin(i/(c/Math.sin(o)));return Math.min(1,(d+.5*r)/r)}function V(t,e,n){const r=(0,s.e)(h.rq.get(),e,y(t)),i=(0,s.h)(h.rq.get(),r,t[3]/(0,s.b)(r));return(0,s.g)(n,i,y(t))}function $(t,e){const n=(0,s.e)(h.rq.get(),e,y(t)),i=(0,s.b)(n),o=T(t),u=o+Math.abs(o-i);return(0,r.XM)(o/u)}const k=(0,o.vt)();function P(t,e,n,r){const i=(0,s.e)(k,e,y(t));switch(n){case 0:{const t=l(i,k)[2];return(0,s.j)(r,-Math.sin(t),Math.cos(t),0)}case 1:{const t=l(i,k),e=t[1],n=t[2],o=Math.sin(e);return(0,s.j)(r,-o*Math.cos(n),-o*Math.sin(n),Math.cos(e))}case 2:return(0,s.n)(r,i);default:return}}function U(t,e){const n=(0,s.e)(H,e,y(t));return(0,s.b)(n)-t[3]}function I(t,e){const n=(0,s.s)(y(t),e),r=T(t);return n<=r*r}const N=(0,o.vt)(),F=(0,o.vt)(),L=f(),H=(0,o.vt)(),B=Object.freeze(Object.defineProperty({__proto__:null,NullSphere:m,altitudeAt:U,angleToSilhouette:$,axisAt:P,cameraFrustumCoverage:E,clear:function(t){t[0]=0,t[1]=0,t[2]=0,t[3]=0},clone:function(t){return v(t[0],t[1],t[2],t[3])},closestPoint:function(t,e,n){return q(t,e,n)?n:((0,a.oC)(e,y(t),n),V(t,n,n))},closestPointOnSilhouette:G,containsPoint:I,copy:b,copyCenter:R,create:f,distanceToSilhouette:function(t,e){const n=(0,s.e)(h.rq.get(),e,y(t)),r=(0,s.m)(n),i=t[3]*t[3];return Math.sqrt(Math.abs(r-i))},elevate:function(t,e,n){return t!==n&&(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=t[3]+e,n},equals:p,exactEquals:function(t,e){return p(t,e)},fromCenterAndRadius:x,fromRadius:M,fromValues:v,fromVec4:function(t){return v(t[0],t[1],t[2],t[3])},getCenter:C,getCenterTemp:y,getExtent:function(t,e){return e},getRadius:T,intersectLine:function(t,e,n){const r=(0,a.Cr)(e,n);if(!A(t,r,S))return[];const{origin:i,direction:u}=r,{t0:l,t1:d}=S,h=e=>{const n=(0,o.vt)();return(0,s.c)(n,i,u,e),V(t,n,n)};return Math.abs(l-d)<(0,c.FD)()?[h(l)]:[h(l),h(d)]},intersectRay:q,intersectRayClosestSilhouette:function(t,e,n){if(q(t,e,n))return n;const r=G(t,e,h.rq.get());return(0,s.g)(n,e.origin,(0,s.h)(h.rq.get(),e.direction,(0,s.k)(e.origin,r)/(0,s.b)(e.direction))),n},intersectsRay:j,projectPoint:V,set:_,setAltitudeAt:function(t,e,n,r){const i=U(t,e),o=P(t,e,2,H),u=(0,s.h)(H,o,n-i);return(0,s.g)(r,e,u)},setCenter:w,setCenterFromValues:function(t,e,n,r){t[0]=e,t[1]=n,t[2]=r},setExtent:function(t,e,n){return t!==n&&b(t,n),n},setFromCenterAndRadius:g,setFromValues:function(t,e,n,r,i){t[0]=e,t[1]=n,t[2]=r,t[3]=i},setTransformedCenter:function(t,e,n){w(t,(0,s.t)(N,e,n))},tmpSphere:L,toVec4:function(t){return(0,u.fA)(t[0],t[1],t[2],t[3])},union:function(t,e,n=f()){const r=(0,s.k)(y(t),C(e,F)),i=t[3],o=e[3];return r+o<i?(b(t,n),n):r+i<o?(b(e,n),n):((0,s.l)(N,y(t),C(e,F),(r+o-i)/(2*r)),g(n,N,(r+i+o)/2),n)}},Symbol.toStringTag,{value:"Module"}))},99208:(t,e,n)=>{n.d(e,{r:()=>o});var r=n(53466),i=n(31821);function s(t){t.fragment.code.add(i.H`vec4 textureAtlasLookup(sampler2D tex, vec2 textureCoordinates, vec4 atlasRegion) {
vec2 atlasScale = atlasRegion.zw - atlasRegion.xy;
vec2 uvAtlas = fract(textureCoordinates) * atlasScale + atlasRegion.xy;
float maxdUV = 0.125;
vec2 dUVdx = clamp(dFdx(textureCoordinates), -maxdUV, maxdUV) * atlasScale;
vec2 dUVdy = clamp(dFdy(textureCoordinates), -maxdUV, maxdUV) * atlasScale;
return textureGrad(tex, uvAtlas, dUVdx, dUVdy);
}`)}function o(t,e){const{textureCoordinateType:n}=e;if(0===n||3===n)return;t.include(r.U,e);const o=2===n;o&&t.include(s),t.fragment.code.add(i.H`
    vec4 textureLookup(sampler2D tex, vec2 uv) {
      return ${o?"textureAtlasLookup(tex, uv, vuvRegion)":"texture(tex, uv)"};
    }
  `)}}}]);