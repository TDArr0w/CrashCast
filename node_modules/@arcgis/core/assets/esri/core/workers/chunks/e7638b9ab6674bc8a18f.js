"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[61],{5682:(e,t,o)=>{o.d(t,{s1:()=>c});var r=o(78888),n=(o(4576),o(49186),o(44208),o(58083),o(9093)),i=(o(38954),o(51850)),s=(o(91218),o(16930),o(27993),o(19419));o(97937),o(30524),o(61956);var a=o(59418);o(73941),o(48353),o(68197);var u=o(91829);(0,u.fA)(0,0,0,.2);(0,u.fA)(0,0,0,.2),o(34727);var l=o(57005);async function c(e,t,o,n,i,s,u,l){const c=[];for(const r of t)if(r&&i.includes(r.name)){const t=`${e}/nodes/${o}/attributes/${r.key}/0`;c.push({url:t,storageInfo:r})}const d=await Promise.allSettled(c.map(e=>(0,r.A)(e.url,{responseType:"array-buffer",query:{...u,token:s},signal:l?.signal}).then(t=>(0,a.m0)(e.storageInfo,t.data)))),p=[];for(const e of n){const t={};for(let o=0;o<d.length;o++){const r=d[o];if("fulfilled"===r.status){const n=r.value;t[c[o].storageInfo.name]=(0,a.E5)(n,e)}}p.push(t)}return p}o(63201),(0,s.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,i.vt)(),(0,s.vt)(),(0,s.vt)(),new l.ab,(0,i.vt)(),new Array(72),(0,n.vt)()},37203:(e,t,o)=>{o.d(t,{Ax:()=>b,Me:()=>l,mb:()=>y});var r=o(49186);const n=!0,i={identifierOffset:0,identifierLength:10,versionOffset:10,checksumOffset:12,byteCount:16};function s(e,t,o){return{identifier:String.fromCharCode.apply(null,new Uint8Array(e,o+i.identifierOffset,i.identifierLength)),version:t.getUint16(o+i.versionOffset,n),checksum:t.getUint32(o+i.checksumOffset,n)}}const a={sizeLo:0,sizeHi:4,minX:8,minY:16,minZ:24,maxX:32,maxY:40,maxZ:48,errorX:56,errorY:64,errorZ:72,count:80,reserved:84,byteCount:88};function u(e,t){return{sizeLo:e.getUint32(t+a.sizeLo,n),sizeHi:e.getUint32(t+a.sizeHi,n),minX:e.getFloat64(t+a.minX,n),minY:e.getFloat64(t+a.minY,n),minZ:e.getFloat64(t+a.minZ,n),maxX:e.getFloat64(t+a.maxX,n),maxY:e.getFloat64(t+a.maxY,n),maxZ:e.getFloat64(t+a.maxZ,n),errorX:e.getFloat64(t+a.errorX,n),errorY:e.getFloat64(t+a.errorY,n),errorZ:e.getFloat64(t+a.errorZ,n),count:e.getUint32(t+a.count,n),reserved:e.getUint32(t+a.reserved,n)}}function l(e){const t=new DataView(e,0);let o=0;const{identifier:n,version:l}=s(e,t,o);if(o+=i.byteCount,"LEPCC     "!==n)throw new r.A("lepcc-decode-error","Bad identifier");if(l>1)throw new r.A("lepcc-decode-error","Unknown version");const d=u(t,o);if(o+=a.byteCount,d.sizeHi*2**32+d.sizeLo!==e.byteLength)throw new r.A("lepcc-decode-error","Bad size");const p=new Float64Array(3*d.count),f=[],y=[],g=[],h=[];if(o=c(e,o,f),o=c(e,o,y),o=c(e,o,g),o=c(e,o,h),o!==e.byteLength)throw new r.A("lepcc-decode-error","Bad length");let b=0,w=0;for(let e=0;e<f.length;e++){w+=f[e];let t=0;for(let o=0;o<y[e];o++){t+=g[b];const e=h[b];p[3*b]=Math.min(d.maxX,d.minX+2*d.errorX*t),p[3*b+1]=Math.min(d.maxY,d.minY+2*d.errorY*w),p[3*b+2]=Math.min(d.maxZ,d.minZ+2*d.errorZ*e),b++}}return{errorX:d.errorX,errorY:d.errorY,errorZ:d.errorZ,result:p}}function c(e,t,o){const r=[];t=d(e,t,r);const n=[];for(let i=0;i<r.length;i++){n.length=0,t=d(e,t,n);for(let e=0;e<n.length;e++)o.push(n[e]+r[i])}return t}function d(e,t,o){const i=new DataView(e,t),s=i.getUint8(0),a=31&s,u=!!(32&s),l=(192&s)>>6;let c=0;if(0===l)c=i.getUint32(1,n),t+=5;else if(1===l)c=i.getUint16(1,n),t+=3;else{if(2!==l)throw new r.A("lepcc-decode-error","Bad count type");c=i.getUint8(1),t+=2}if(u)throw new r.A("lepcc-decode-error","LUT not implemented");const d=Math.ceil(c*a/8),p=new Uint8Array(e,t,d);let f=0,y=0,g=0;const h=-1>>>32-a;for(let e=0;e<c;e++){for(;y<a;)f|=p[g]<<y,y+=8,g+=1;o[e]=f&h,f>>>=a,y-=a,y+a>32&&(f|=p[g-1]>>8-y)}return t+g}const p={sizeLo:0,sizeHi:4,count:8,colorMapCount:12,lookupMethod:14,compressionMethod:15,byteCount:16};function f(e,t){return{sizeLo:e.getUint32(t+p.sizeLo,n),sizeHi:e.getUint32(t+p.sizeHi,n),count:e.getUint32(t+p.count,n),colorMapCount:e.getUint16(t+p.colorMapCount,n),lookupMethod:e.getUint8(t+p.lookupMethod),compressionMethod:e.getUint8(t+p.compressionMethod)}}function y(e){const t=new DataView(e,0);let o=0;const{identifier:n,version:a}=s(e,t,o);if(o+=i.byteCount,"ClusterRGB"!==n)throw new r.A("lepcc-decode-error","Bad identifier");if(a>1)throw new r.A("lepcc-decode-error","Unknown version");const u=f(t,o);if(o+=p.byteCount,u.sizeHi*2**32+u.sizeLo!==e.byteLength)throw new r.A("lepcc-decode-error","Bad size");if((2===u.lookupMethod||1===u.lookupMethod)&&0===u.compressionMethod){if(3*u.colorMapCount+u.count+o!==e.byteLength||u.colorMapCount>256)throw new r.A("lepcc-decode-error","Bad count");const t=new Uint8Array(e,o,3*u.colorMapCount),n=new Uint8Array(e,o+3*u.colorMapCount,u.count),i=new Uint8Array(3*u.count);for(let e=0;e<u.count;e++){const o=n[e];i[3*e]=t[3*o],i[3*e+1]=t[3*o+1],i[3*e+2]=t[3*o+2]}return i}if(0===u.lookupMethod&&0===u.compressionMethod){if(3*u.count+o!==e.byteLength||0!==u.colorMapCount)throw new r.A("lepcc-decode-error","Bad count");return new Uint8Array(e,o).slice()}if(u.lookupMethod<=2&&1===u.compressionMethod){if(o+3!==e.byteLength||1!==u.colorMapCount)throw new r.A("lepcc-decode-error","Bad count");const n=t.getUint8(o),i=t.getUint8(o+1),s=t.getUint8(o+2),a=new Uint8Array(3*u.count);for(let e=0;e<u.count;e++)a[3*e]=n,a[3*e+1]=i,a[3*e+2]=s;return a}throw new r.A("lepcc-decode-error","Bad method "+u.lookupMethod+","+u.compressionMethod)}const g={sizeLo:0,sizeHi:4,count:8,scaleFactor:12,bitsPerPoint:14,reserved:15,byteCount:16};function h(e,t){return{sizeLo:e.getUint32(t+g.sizeLo,n),sizeHi:e.getUint32(t+g.sizeHi,n),count:e.getUint32(t+g.count,n),scaleFactor:e.getUint16(t+g.scaleFactor,n),bitsPerPoint:e.getUint8(t+g.bitsPerPoint),reserved:e.getUint8(t+g.reserved)}}function b(e){const t=new DataView(e,0);let o=0;const{identifier:n,version:a}=s(e,t,o);if(o+=i.byteCount,"Intensity "!==n)throw new r.A("lepcc-decode-error","Bad identifier");if(a>1)throw new r.A("lepcc-decode-error","Unknown version");const u=h(t,o);if(o+=g.byteCount,u.sizeHi*2**32+u.sizeLo!==e.byteLength)throw new r.A("lepcc-decode-error","Bad size");const l=new Uint16Array(u.count);if(8===u.bitsPerPoint){if(u.count+o!==e.byteLength)throw new r.A("lepcc-decode-error","Bad size");const t=new Uint8Array(e,o,u.count);for(let e=0;e<u.count;e++)l[e]=t[e]*u.scaleFactor}else if(16===u.bitsPerPoint){if(2*u.count+o!==e.byteLength)throw new r.A("lepcc-decode-error","Bad size");const t=new Uint16Array(e,o,u.count);for(let e=0;e<u.count;e++)l[e]=t[e]*u.scaleFactor}else{const t=[];if(d(e,o,t)!==e.byteLength)throw new r.A("lepcc-decode-error","Bad size");for(let e=0;e<u.count;e++)l[e]=t[e]*u.scaleFactor}return l}},37352:(e,t,o)=>{o.d(t,{A:()=>l});var r,n=o(31635),i=o(7762),s=o(25482),a=o(10107),u=(o(44208),o(53966),o(87811),o(64108));let l=r=class extends s.o{constructor(e){super(e),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new i.A}clone(){return new r({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};(0,n.Cg)([(0,a.MZ)({type:String,json:{write:{isRequired:!0}}})],l.prototype,"floorField",void 0),(0,n.Cg)([(0,a.MZ)({json:{read:!1,write:!1}})],l.prototype,"viewAllMode",void 0),(0,n.Cg)([(0,a.MZ)({json:{read:!1,write:!1}})],l.prototype,"viewAllLevelIds",void 0),l=r=(0,n.Cg)([(0,u.$)("esri.layers.support.LayerFloorInfo")],l)},45671:(e,t,o)=>{o.d(t,{D8:()=>i,TO:()=>n});var r=o(30524);async function n(e,t=e.popupTemplate){if(null==t)return[];const o=await t.getRequiredFields(e.fieldsIndex),{lastEditInfoEnabled:n}=t,{objectIdField:i,typeIdField:s,globalIdField:a,relationships:u}=e;if(o.includes("*"))return["*"];const l=n?(0,r.eX)(e):[],c=(0,r.DB)(e.fieldsIndex,[...o,...l]);return s&&c.push(s),c&&i&&e.fieldsIndex?.has(i)&&!c.includes(i)&&c.push(i),c&&a&&e.fieldsIndex?.has(a)&&!c.includes(a)&&c.push(a),u?.forEach(t=>{const{keyField:o}=t;c&&o&&e.fieldsIndex?.has(o)&&!c.includes(o)&&c.push(o)}),c}function i(e,t){return e&&"object"==typeof e?t?.checkPopupEnabled&&"popupEnabled"in e&&!e.popupEnabled?null:"popupTemplate"in e&&e.popupTemplate?e.popupTemplate:null!=t&&t.defaultPopupTemplateEnabled&&"defaultPopupTemplate"in e&&e.defaultPopupTemplate?e.defaultPopupTemplate:null:null}},50805:(e,t,o)=>{o.d(t,{L0:()=>b,Ot:()=>f,W4:()=>u,uV:()=>d});var r=o(31635),n=o(25482),i=o(10107),s=(o(44208),o(53966),o(87811),o(93223)),a=o(64108);let u=class extends n.o{constructor(){super(...arguments),this.nodesPerPage=null,this.rootIndex=0,this.lodSelectionMetricType=null}};(0,r.Cg)([(0,i.MZ)({type:Number})],u.prototype,"nodesPerPage",void 0),(0,r.Cg)([(0,i.MZ)({type:Number})],u.prototype,"rootIndex",void 0),(0,r.Cg)([(0,i.MZ)({type:String})],u.prototype,"lodSelectionMetricType",void 0),u=(0,r.Cg)([(0,a.$)("esri.layers.support.I3SLayerDefinitions.I3SNodePageDefinition")],u);let l=class extends n.o{constructor(){super(...arguments),this.factor=1}};(0,r.Cg)([(0,i.MZ)({type:Number,json:{read:{source:"textureSetDefinitionId"}}})],l.prototype,"id",void 0),(0,r.Cg)([(0,i.MZ)({type:Number})],l.prototype,"factor",void 0),l=(0,r.Cg)([(0,a.$)("esri.layers.support.I3SLayerDefinitions.I3SMaterialTexture")],l);let c=class extends n.o{constructor(){super(...arguments),this.baseColorFactor=[1,1,1,1],this.baseColorTexture=null,this.metallicRoughnessTexture=null,this.metallicFactor=1,this.roughnessFactor=1}};(0,r.Cg)([(0,i.MZ)({type:[Number]})],c.prototype,"baseColorFactor",void 0),(0,r.Cg)([(0,i.MZ)({type:l})],c.prototype,"baseColorTexture",void 0),(0,r.Cg)([(0,i.MZ)({type:l})],c.prototype,"metallicRoughnessTexture",void 0),(0,r.Cg)([(0,i.MZ)({type:Number})],c.prototype,"metallicFactor",void 0),(0,r.Cg)([(0,i.MZ)({type:Number})],c.prototype,"roughnessFactor",void 0),c=(0,r.Cg)([(0,a.$)("esri.layers.support.I3SLayerDefinitions.I3SMaterialPBRMetallicRoughness")],c);let d=class extends n.o{constructor(){super(...arguments),this.alphaMode="opaque",this.alphaCutoff=.25,this.doubleSided=!1,this.cullFace="none",this.normalTexture=null,this.occlusionTexture=null,this.emissiveTexture=null,this.emissiveFactor=null,this.pbrMetallicRoughness=null}};(0,r.Cg)([(0,s.e)({opaque:"opaque",mask:"mask",blend:"blend"})],d.prototype,"alphaMode",void 0),(0,r.Cg)([(0,i.MZ)({type:Number})],d.prototype,"alphaCutoff",void 0),(0,r.Cg)([(0,i.MZ)({type:Boolean})],d.prototype,"doubleSided",void 0),(0,r.Cg)([(0,s.e)({none:"none",back:"back",front:"front"})],d.prototype,"cullFace",void 0),(0,r.Cg)([(0,i.MZ)({type:l})],d.prototype,"normalTexture",void 0),(0,r.Cg)([(0,i.MZ)({type:l})],d.prototype,"occlusionTexture",void 0),(0,r.Cg)([(0,i.MZ)({type:l})],d.prototype,"emissiveTexture",void 0),(0,r.Cg)([(0,i.MZ)({type:[Number]})],d.prototype,"emissiveFactor",void 0),(0,r.Cg)([(0,i.MZ)({type:c})],d.prototype,"pbrMetallicRoughness",void 0),d=(0,r.Cg)([(0,a.$)("esri.layers.support.I3SLayerDefinitions.I3SMaterialDefinition")],d);let p=class extends n.o{};(0,r.Cg)([(0,i.MZ)({type:String,json:{read:{source:["name","index"],reader:(e,t)=>null!=e?e:`${t.index}`}}})],p.prototype,"name",void 0),(0,r.Cg)([(0,s.e)({jpg:"jpg",png:"png",dds:"dds","ktx-etc2":"ktx-etc2",ktx2:"ktx2",basis:"basis"})],p.prototype,"format",void 0),p=(0,r.Cg)([(0,a.$)("esri.layers.support.I3SLayerDefinitions.I3STextureFormat")],p);let f=class extends n.o{constructor(){super(...arguments),this.atlas=!1}};(0,r.Cg)([(0,i.MZ)({type:[p]})],f.prototype,"formats",void 0),(0,r.Cg)([(0,i.MZ)({type:Boolean})],f.prototype,"atlas",void 0),f=(0,r.Cg)([(0,a.$)("esri.layers.support.I3SLayerDefinitions.I3STextureSetDefinition")],f);let y=class extends n.o{};(0,r.Cg)([(0,s.e)({Float32:"Float32",UInt64:"UInt64",UInt32:"UInt32",UInt16:"UInt16",UInt8:"UInt8"})],y.prototype,"type",void 0),(0,r.Cg)([(0,i.MZ)({type:Number})],y.prototype,"component",void 0),y=(0,r.Cg)([(0,a.$)("esri.layers.support.I3SLayerDefinitions.I3SGeometryAttribute")],y);let g=class extends n.o{};(0,r.Cg)([(0,s.e)({draco:"draco"})],g.prototype,"encoding",void 0),(0,r.Cg)([(0,i.MZ)({type:[String]})],g.prototype,"attributes",void 0),g=(0,r.Cg)([(0,a.$)("esri.layers.support.I3SLayerDefinitions.I3SGeometryCompressedAttributes")],g);let h=class extends n.o{constructor(){super(...arguments),this.offset=0}};(0,r.Cg)([(0,i.MZ)({type:Number})],h.prototype,"offset",void 0),(0,r.Cg)([(0,i.MZ)({type:y})],h.prototype,"position",void 0),(0,r.Cg)([(0,i.MZ)({type:y})],h.prototype,"normal",void 0),(0,r.Cg)([(0,i.MZ)({type:y})],h.prototype,"uv0",void 0),(0,r.Cg)([(0,i.MZ)({type:y})],h.prototype,"color",void 0),(0,r.Cg)([(0,i.MZ)({type:y})],h.prototype,"uvRegion",void 0),(0,r.Cg)([(0,i.MZ)({type:y})],h.prototype,"featureId",void 0),(0,r.Cg)([(0,i.MZ)({type:y})],h.prototype,"faceRange",void 0),(0,r.Cg)([(0,i.MZ)({type:g})],h.prototype,"compressedAttributes",void 0),h=(0,r.Cg)([(0,a.$)("esri.layers.support.I3SLayerDefinitions.I3SGeometryBuffer")],h);let b=class extends n.o{};(0,r.Cg)([(0,s.e)({triangle:"triangle"})],b.prototype,"topology",void 0),(0,r.Cg)([(0,i.MZ)()],b.prototype,"geometryBuffers",void 0),b=(0,r.Cg)([(0,a.$)("esri.layers.support.I3SLayerDefinitions.I3SGeometryDefinition")],b)},59418:(e,t,o)=>{o.d(t,{wH:()=>g,MA:()=>p,E5:()=>f,m0:()=>b});var r=o(49186),n=o(4718),i=o(53966),s=o(34275),a=o(37203);const u=()=>i.A.getLogger("esri.views.3d.layers.i3s.I3SBinaryReader");function l(e,t,o){let n="",i=0;for(;i<o;){const s=e[t+i];if(s<128)n+=String.fromCharCode(s),i++;else if(s>=192&&s<224){if(i+1>=o)throw new r.A("utf8-decode-error","UTF-8 Decode failed. Two byte character was truncated.");const a=(31&s)<<6|63&e[t+i+1];n+=String.fromCharCode(a),i+=2}else if(s>=224&&s<240){if(i+2>=o)throw new r.A("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");const a=(15&s)<<12|(63&e[t+i+1])<<6|63&e[t+i+2];n+=String.fromCharCode(a),i+=3}else{if(!(s>=240&&s<248))throw new r.A("utf8-decode-error","UTF-8 Decode failed. Invalid multi byte sequence.");{if(i+3>=o)throw new r.A("utf8-decode-error","UTF-8 Decode failed. Multi byte character was truncated.");const a=(7&s)<<18|(63&e[t+i+1])<<12|(63&e[t+i+2])<<6|63&e[t+i+3];if(a>=65536){const e=55296+(a-65536>>10),t=56320+(1023&a);n+=String.fromCharCode(e,t)}else n+=String.fromCharCode(a);i+=4}}}return n}function c(e,t){const o={byteOffset:0,byteCount:0,fields:Object.create(null)};let r=0;for(let n=0;n<t.length;n++){const i=t[n],s=i.valueType||i.type,a=v[s];o.fields[i.property]=a(e,r),r+=w[s].BYTES_PER_ELEMENT}return o.byteCount=r,o}function d(e,t,o){const n=[];let i,s,a=0;for(s=0;s<e;s+=1){if(i=t[s],i>0){if(n.push(l(o,a,i-1)),0!==o[a+i-1])throw new r.A("string-array-error","Invalid string array: missing null termination.")}else n.push(null);a+=i}return n}function p(e,t){return new(0,w[t.valueType])(e,t.byteOffset,t.count*t.valuesPerElement)}function f(e,t){if(!e)return null;const o=e[t];return(0,s.IY)(e)?o===s.PI?null:o:(0,s._G)(e)?o===s.h2?null:o:o!=o?null:o}function y(e,t,o){if(t!==e&&u().error(`Invalid ${o} buffer size\n expected: ${e}, actual: ${t})`),t<e)throw new r.A("buffer-too-small","Binary buffer is too small",{expectedSize:e,actualSize:t})}function g(e,t){const o=c(e,t&&t.header);let r=o.byteCount;const n={isDraco:!1,header:o,byteOffset:o.byteCount,byteCount:0,vertexAttributes:{}},i=o.fields,s=null!=i.vertexCount?i.vertexCount:i.count;for(const e of t.ordering){if(!t.vertexAttributes[e])continue;const o={...t.vertexAttributes[e],byteOffset:r,count:s},i=h[e]||"_"+e;n.vertexAttributes[i]=o,r+=C(o.valueType)*o.valuesPerElement*s}const a=i.faceCount;if(t.faces&&a){n.faces={};for(const e of t.ordering){if(!t.faces[e])continue;const o={...t.faces[e],byteOffset:r,count:a};n.faces[e]=o,r+=C(o.valueType)*o.valuesPerElement*a}}const u=i.featureCount;if(t.featureAttributes&&t.featureAttributeOrder&&u){n.featureAttributes={};for(const e of t.featureAttributeOrder){if(!t.featureAttributes[e])continue;const o={...t.featureAttributes[e],byteOffset:r,count:u};n.featureAttributes[e]=o,r+=("UInt64"===o.valueType?8:C(o.valueType))*o.valuesPerElement*u}}return y(r,e.byteLength,"geometry"),n.byteCount=r-n.byteOffset,n}const h={position:"position",normal:"normal",color:"color",uv0:"uv0",region:"uvRegion"};function b(e,t,o,i=!1){if("lepcc-rgb"===e.encoding)return i?(0,a.mb)(t):function(e){return Array.isArray(e)?e.length<s.y9?e:new Uint8Array(e):e.length<s.y9?Array.from(e):e}((0,a.mb)(t));if("lepcc-intensity"===e.encoding)return i?(0,a.Ax)(t):function(e){return Array.isArray(e)?e.length<s.y9?e:new Uint16Array(e):e.length<s.y9?Array.from(e):e}((0,a.Ax)(t));if(null!=e.encoding&&""!==e.encoding)throw new r.A("unknown-attribute-storage-info-encoding","Unknown Attribute Storage Info Encoding");e["attributeByteCounts "]&&!e.attributeByteCounts&&(u().warn("Warning: Trailing space in 'attributeByteCounts '."),e.attributeByteCounts=e["attributeByteCounts "]),"ObjectIds"===e.ordering[0]&&e.hasOwnProperty("objectIds")&&(u().warn("Warning: Case error in objectIds"),e.ordering[0]="objectIds");const l=function(e,t,o){const i=null!=t.header?c(e,t.header):{byteOffset:0,byteCount:0,fields:{count:o}},s={header:i,byteOffset:i.byteCount,byteCount:0,entries:Object.create(null)};let a=i.byteCount;for(let e=0;e<t.ordering.length;e++){const o=t.ordering[e],u=(0,n.o8)(t[o]);if(u.count=i.fields.count??0,"String"===u.valueType){if(u.byteOffset=a,u.byteCount=i.fields[o+"ByteCount"],"UTF-8"!==u.encoding)throw new r.A("unsupported-encoding","Unsupported String encoding.",{encoding:u.encoding});if(u.timeEncoding&&"ECMA_ISO8601"!==u.timeEncoding)throw new r.A("unsupported-time-encoding","Unsupported time encoding.",{timeEncoding:u.timeEncoding})}else{if(!m(u.valueType))throw new r.A("unsupported-value-type","Unsupported binary valueType",{valueType:u.valueType});{const e=C(u.valueType);a+=a%e!==0?e-a%e:0,u.byteOffset=a,u.byteCount=e*u.valuesPerElement*u.count}}a+=u.byteCount??0,s.entries[o]=u}return s.byteCount=a-s.byteOffset,s}(t,e,o);y(l.byteOffset+l.byteCount,t.byteLength,"attribute");const g=l.entries.attributeValues||l.entries.objectIds;if(g){if("String"===g.valueType){const e=l.entries.attributeByteCounts,o=p(t,e),r=function(e,t){return new Uint8Array(e,t.byteOffset,t.byteCount)}(t,g);return g.timeEncoding?function(e,t,o){return d(e,t,o).map(e=>{const t=e?Date.parse(e):null;return null==t||Number.isNaN(t)?null:t})}(e.count,o,r):d(e.count,o,r)}return i?p(t,g):function(e,t){const o=p(e,t);if(o.length>=s.y9)return o;const r=new Array;return o.forEach((e,t)=>r.push(f(o,t))),r}(t,g)}throw new r.A("bad-attribute-storage-info","Bad attributeStorageInfo specification.")}const w={Float32:Float32Array,Float64:Float64Array,UInt8:Uint8Array,Int8:Int8Array,UInt16:Uint16Array,Int16:Int16Array,UInt32:Uint32Array,Int32:Int32Array},v={Float32:(e,t)=>new DataView(e,0).getFloat32(t,!0),Float64:(e,t)=>new DataView(e,0).getFloat64(t,!0),UInt8:(e,t)=>new DataView(e,0).getUint8(t),Int8:(e,t)=>new DataView(e,0).getInt8(t),UInt16:(e,t)=>new DataView(e,0).getUint16(t,!0),Int16:(e,t)=>new DataView(e,0).getInt16(t,!0),UInt32:(e,t)=>new DataView(e,0).getUint32(t,!0),Int32:(e,t)=>new DataView(e,0).getInt32(t,!0)};function m(e){return w.hasOwnProperty(e)}function C(e){return m(e)?w[e].BYTES_PER_ELEMENT:0}}}]);