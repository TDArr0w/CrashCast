"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[547,3169,5549,8125],{40547:(t,e,s)=>{s.d(e,{convert:()=>C,convertFromSpatialReferenceUnit:()=>x,convertToSpatialReferenceUnit:()=>b,meters:()=>i.L2,squareMeters:()=>i.A7,toAreaUnit:()=>_,toLengthUnit:()=>P});var n=s(59534),r=s(85935),i=s(71409);const a=[];function o(t){return 0===t.length?'""':t.startsWith('"')||t.startsWith(".")||t[0]>="0"&&t[0]<="9"?t:'"'+t.trim()+'"'}function c(t){let e="",s="",n=!1;for(let r=0;r<t.length;r++){const i=t[r];n?'"'===i?'"'===t[r+1]?(e+=`\\${i}`,r+=1):n=!1:e+=i:/\s/.test(i)||(","===i?(s+=""!==e?o(e)+",":",",e=""):")"===i||"]"===i?(s+=""!==e?o(e)+"]}":"]}",e=""):"("===i||"["===i?(s+='{ "entity": "'+e.toUpperCase().trim()+'", "values":[',e=""):'"'===i?(n=!0,e=""):e+=i)}return JSON.parse(s)}function u(t){try{for(let e=0;e<a.length;e++)if(a[e].spatialReferenceWkt===t)return a[e].unit;const e=l(c(t));if(null===e)return null;let s=null;for(const t of e.values)if("object"==typeof t&&("UNIT"===t.entity||"ANGLEUNIT"===t.entity||"LENGTHUNIT"===t.entity)){s=t;break}if(null===s)return null;const n=function(t,e,s){if(null!=s)try{if("EPSG"===s.values[0])return{type:t,wkid:Number.parseInt(s.values[1],10),factor:e}}catch(t){}return{type:t,factor:e}}("GEOGCS"===e.entity||"GEOGCRS"===e.entity?"angular":"linear",s.values[1],s.values[2]);return a.push({spatialReferenceWkt:t,unit:n}),a.length>10&&a.shift(),n}catch(t){return null}}function l(t){if(null===t)return null;switch(t.entity){case"GEOGCRS":case"GEOGCS":case"PROJCRS":case"PROJCS":return t}const e=[];for(const s of t.values)if("object"==typeof s&&void 0!==s.entity)switch(s.entity){case"GEOGCRS":case"GEOGCS":case"PROJCRS":case"PROJCS":return s;default:e.push(s)}for(const t of e){const e=l(t);if(null!=e)return e}return null}s(44208);var m=s(83047),h=s(22530);const f=-1;function d(t,e){let s;switch(t){case"linear":s=i.s9;break;case"angular":s=i.zD;break;case"area":s=i.y6;break;default:return null}return s.get(e)}function y(t){const e=t.wkid;if(null!=e){const t=h.A.units[h.A[e]];if(null!=t)switch(t){case"Meter":return d("linear",9001);case"Foot":return d("linear",9002);case"Foot_US":return d("linear",9003);case"Foot_Clarke":return d("linear",9005);case"Yard_Clarke":return d("linear",9037);case"Link_Clarke":return d("linear",9039);case"Yard_Sears":return d("linear",9040);case"Foot_Sears":return d("linear",9041);case"Chain_Sears":return d("linear",9042);case"Chain_Benoit_1895_B":return d("linear",9062);case"Yard_Indian":return d("linear",9084);case"Yard_Indian_1937":return d("linear",9085);case"Foot_Gold_Coast":return d("linear",9094);case"Chain":return d("linear",9097);case"Chain_Sears_1922_Truncated":return d("linear",9301);case"50_Kilometers":return d("linear",109030);case"150_Kilometers":return d("linear",109031);default:throw new Error(`Unknown unit name: ${t}`)}return m.yD.has(e)?d("angular",9105):d("angular",9102)}const s=t.wkt2||t.wkt;if(null!=s){const t=u(s);if(null!=t){if(null!=t.wkid){const e=d(t.type,t.wkid);if(null!=e)return e}return{type:t.type,wkid:f,factor:t.factor}}}return null}function p(t){if("linear"!==t.type)return null;if(t.wkid===f)return{type:"area",wkid:f,factor:t.factor**2};const e=i.SQ.get(t.wkid);return null==e?null:d("area",e)}function _(t){if(null!=t){if("number"==typeof t)return i.y6.get(t)??i.s9.get(t)??i.zD.get(t);if("string"!=typeof t)throw new r.D$(null,"InvalidParameter",null);switch((0,n.B)(t)){case"meters":case"meter":case"m":case"squaremeters":case"squaremeter":return i.y6.get(109404);case"miles":case"mile":case"squaremile":case"squaremiles":return i.y6.get(109439);case"kilometers":case"kilometer":case"squarekilometers":case"squarekilometer":case"km":return i.y6.get(109414);case"acres":case"acre":case"ac":return i.y6.get(109402);case"hectares":case"hectare":case"ha":return i.y6.get(109401);case"yard":case"yd":case"yards":case"squareyards":case"squareyard":return i.y6.get(109442);case"feet":case"ft":case"foot":case"squarefeet":case"squarefoot":return i.y6.get(109405);case"nmi":case"nauticalmile":case"nauticalmiles":case"squarenauticalmile":case"squarenauticalmiles":return i.y6.get(109409);case"millimeter":case"millimeters":case"squaremillimeter":case"squaremillimeters":return i.y6.get(109452);case"centimeter":case"centimeters":case"squarecentimeter":case"squarecentimeters":return i.y6.get(109451);case"decimeter":case"decimeters":case"squaredecimeter":case"squaredecimeters":return i.y6.get(109450);case"inch":case"inches":case"squareinch":case"squareinches":return i.y6.get(109453);case"usfoot":case"usfeet":case"squareusfoot":case"squareusfeet":return i.y6.get(109406);case"usmile":case"usmiles":case"squareusmile":case"squareusmiles":return i.y6.get(109413)}}}function P(t){if(null!=t){if("number"==typeof t)return i.s9.get(t)??i.zD.get(t)??i.y6.get(t);if("string"!=typeof t)throw new r.D$(null,"InvalidParameter",null);switch((0,n.B)(t)){case"meters":case"meter":case"m":case"squaremeters":case"squaremeter":case"hectares":case"hectare":case"ha":return i.s9.get(9001);case"miles":case"mile":case"squaremile":case"squaremiles":return i.s9.get(9093);case"kilometers":case"kilometer":case"squarekilometers":case"squarekilometer":case"km":return i.s9.get(9036);case"yard":case"yd":case"yards":case"squareyards":case"squareyard":case"acres":case"acre":case"ac":return i.s9.get(9096);case"feet":case"ft":case"foot":case"squarefeet":case"squarefoot":return i.s9.get(9002);case"nmi":case"nauticalmile":case"nauticalmiles":case"squarenauticalmile":case"squarenauticalmiles":return i.s9.get(9030);case"millimeter":case"millimeters":case"squaremillimeter":case"squaremillimeters":return i.s9.get(109007);case"centimeter":case"centimeters":case"squarecentimeter":case"squarecentimeters":return i.s9.get(109006);case"decimeter":case"decimeters":case"squaredecimeter":case"squaredecimeters":return i.s9.get(109005);case"inch":case"inches":case"squareinch":case"squareinches":return i.s9.get(109008);case"usfoot":case"usfeet":case"squareusfoot":case"squareusfeet":return i.s9.get(9003);case"usmile":case"usmiles":case"squareusmile":case"squareusmiles":return i.s9.get(9035)}}}function g(t,e,s){if(t.type!==e.type)throw new Error(`Incompatible unit types. src=${t.type} dest=${e.type}`);return s*(t.factor/e.factor)}function x(t,e,s){if(null==t||null==e)return s;const n=y(t);if(null==n)throw new Error("Unknown spatial reference unit.");const r="area"===e.type&&"linear"===n.type?p(n):n;if(null==r)throw new Error(`Unknown spatial reference ${e.type} unit.`);return g(r,e,s)}function b(t,e,s){if(null==t||null==e)return s;const n=y(e);if(null==n)throw new Error("Unknown spatial reference unit.");const r="area"===t.type&&"linear"===n.type?p(n):n;if(null==r)throw new Error(`Unknown spatial reference ${t.type} unit.`);return g(t,r,s)}function C(t,e,s){return null==t||null==e?s:g(t,e,s)}},59534:(t,e,s)=>{s.d(e,{B:()=>r,b:()=>i});var n=s(85935);function r(t){return t.toLowerCase().replaceAll(/[\s-]+/g,"")}class i{constructor(t,e){const s=new Map;for(const e of t){const t=r(e);if(s.has(t))throw new Error(`${e} already added as ${s.get(t)}`);s.set(t,e)}if(null!=e)for(const[t,n]of e){const e=r(t);if(s.has(e))throw new Error(`${t} already associated with ${s.get(e)}`);s.set(e,n)}this._enumMap=s}lookup(t){return this._enumMap.get(r(t))}get(t){const e=this.lookup(t);if(null==e)throw new n.D$(null,"InvalidParameter",null);return e}}},66070:(t,e,s)=>{s.d(e,{g7:()=>p,zo:()=>_});var n=s(76061),r=s(95213),i=s(55537),a=s(88885),o=s(83661);const c=1.4142135623730951,u=.017453292519943295,l=256,m=1024;class h{static construct(t,e,s){const n=new h;return n.x=t.x,n.y=t.y,n.m_next=-1,n.m_prev=-1,n.z=e,n.m=s,n.type=0,n}clone(){const t=new h;return t.x=this.x,t.y=this.y,t.m_next=this.m_next,t.m_prev=this.m_prev,t.z=this.z,t.m=this.m,t.type=this.type,t}asPoint2D(){return new o.P(this.x,this.y)}}class f{constructor(t){this.m_distance=-1,this.m_tolerance=-1,this.m_miterLimit=10,this.m_joins=0,this.m_progressCounter=0,this.m_bUseZ=!1,this.m_bUseM=!1,this.m_srcPts=[],this.m_srcPtCount=0,this.m_offsetPts=[],this.m_offsetPtCount=0,this.m_a1=0,this.m_a2=0,this.m_progressTracker=t}constructOffset(){const t=this.m_inputGeometry.getGeometryType();if(t===i.G.enumLine)return this.offsetLine();if(t===i.G.enumEnvelope)return this.offsetEnvelope();if((0,i.f)(t)){const t=new a.P;return t.addSegment(this.m_inputGeometry,!0),this.m_inputGeometry=t,this.constructOffset()}if(t===i.G.enumPolyline){const t=new a.P;return this.offsetMultiPath(t),t}if(t===i.G.enumPolygon){const t=new a.a;return this.offsetMultiPath(t),t}(0,i.t)("")}offsetLine(){const t=this.m_inputGeometry,e=t.getStartXY(),s=t.getEndXY(),n=new o.P;n.setSub(s,e),n.normalize(),n.leftPerpendicularThis(),n.scale(this.m_distance),e.addThis(n),s.addThis(n);const r=t.clone();return r.setStartXY(e),r.setEndXY(s),r}offsetEnvelope(){const t=this.m_inputGeometry;if(this.m_distance>0&&2!==this.m_joins){const e=new a.a;return e.addEnvelope(t,!1),this.m_inputGeometry=e,this.constructOffset()}const e=t.clone();return e.inflateCoords(this.m_distance,this.m_distance),e}progress(){}static buildPoint(t,e,s,n){n.x=t.x+e*Math.cos(s),n.y=t.y+e*Math.sin(s),n.type=t.type,n.z=t.z,n.m=t.m,n.m_next=-1,n.m_prev=-1}addPoint(t){this.m_offsetPts.push(t.clone()),this.m_offsetPtCount++}addPointEx(t,e){if(0===this.m_offsetPtCount)return void this.addPoint(t);const s=this.m_srcPtCount,n=this.m_srcPts[0===e?s-1:e-1],r=this.m_srcPts[e],i=f.dotSign(n,r,this.m_offsetPts[this.m_offsetPtCount-1],t);if(i>0)this.addPoint(t);else if(i<0)if(f.dotSign(n,r,r,this.m_offsetPts[this.m_offsetPtCount-1])>0){const r=new h;let i;i=0===e?s-2:1===e?s-1:e-2;const a=this.m_srcPts[i],c=Math.atan2(n.y-a.y,n.x-a.x);if(f.buildPoint(n,this.m_distance,c-o.o,r),this.m_offsetPts[this.m_offsetPtCount-1]=r.clone(),1===this.m_joins||2===this.m_joins){r.x=.5*(r.x+n.x),r.y=.5*(r.y+n.y),this.addPoint(r),f.buildPoint(n,this.m_distance,this.m_a1+o.o,r);const t=r.clone();t.x=.5*(t.x+n.x),t.y=.5*(t.y+n.y),t.type|=l,this.addPoint(t),this.addPoint(r)}else f.buildPoint(n,this.m_distance,this.m_a1+o.o,r),r.type|=l,this.addPoint(r);this.addPointEx(t,e)}else{const t=new h;if(f.buildPoint(r,this.m_distance,this.m_a1+o.o,t),this.addPoint(t),1===this.m_joins||2===this.m_joins){t.x=.5*(t.x+r.x),t.y=.5*(t.y+r.y),this.addPoint(t),f.buildPoint(r,this.m_distance,this.m_a2-o.o,t);const e=t.clone();e.x=.5*(e.x+r.x),e.y=.5*(e.y+r.y),e.type|=l,this.addPoint(e),this.addPoint(t)}else f.buildPoint(r,this.m_distance,this.m_a2-o.o,t),t.type|=l,this.addPoint(t)}}buildOffset(){const t=new h,e=this.m_srcPtCount;this.m_offsetPtCount=0;const s=.5*this.m_tolerance;let n=0,r=0;for(let i=0;i<e;i++){const a=this.m_srcPts[i],h=0===i?this.m_srcPts[e-1]:this.m_srcPts[i-1],d=i===e-1?this.m_srcPts[0]:this.m_srcPts[i+1];let y,p,_=0;{const t=h.x-a.x,e=h.y-a.y,s=d.x-a.x,c=d.y-a.y;y=Math.atan2(e,t),p=Math.atan2(c,s),this.m_a1=y,this.m_a2=p,0===i&&(n=y,r=p),_=o.P.orientationRobust(a.asPoint2D(),h.asPoint2D(),d.asPoint2D())}const P=p;if(p<y&&(p+=o.p),!(Math.abs(Math.abs(y-p)-Math.PI)<1e-8))if(_*this.m_distance>0)if(1===this.m_joins||2===this.m_joins){f.buildPoint(a,this.m_distance,y+o.o,t),this.addPoint(t);const e=.001;t.x=a.x+(t.x-a.x)*e,t.y=a.y+(t.y-a.y)*e,this.addPoint(t),f.buildPoint(a,this.m_distance,p-o.o,t);const s=t.clone();s.x=a.x+(s.x-a.x)*e,s.y=a.y+(s.y-a.y)*e,s.type|=l,this.addPoint(s),this.addPoint(t)}else{const e=.5*(p-y),s=0===e?this.m_distance:this.m_distance/Math.abs(Math.sin(e));f.buildPoint(a,s,.5*(y+p),t),this.addPointEx(t,i)}else{if(512&a.type){const e=1-s/Math.abs(this.m_distance);let n=1,r=this.m_distance<0?-Math.PI:Math.PI;if(e>-1&&e<1){let t=2*Math.acos(e);t<u&&(t=u),n=Math.trunc(Math.PI/t+1.5),n>1&&(r/=n)}n<=1&&(n=2,r/=2);let c=y+o.o;f.buildPoint(a,this.m_distance,c,t),0===i&&(t.type|=m),this.addPointEx(t,i);const l=this.m_distance/Math.cos(r/2);for(c+=r/2,f.buildPoint(a,l,c,t),t.type|=m,this.addPoint(t);--n>0;)c+=r,f.buildPoint(a,l,c,t),t.type|=m,this.addPoint(t);f.buildPoint(a,this.m_distance,p-o.o,t),t.type|=m,this.addPoint(t);continue}if(1!==this.m_joins){if(0===this.m_joins){const e=1-s/Math.abs(this.m_distance);let n=1,r=p-o.o-(y+o.o);if(e>-1&&e<1){let t=2*Math.acos(e);t<u&&(t=u),n=Math.trunc(Math.abs(r)/t+1.5),n>1&&(r/=n)}const c=this.m_distance/Math.cos(.5*r);let l=y+o.o+.5*r;for(f.buildPoint(a,c,l,t),this.addPointEx(t,i);--n>0;)l+=r,f.buildPoint(a,c,l,t),this.addPoint(t);continue}if(2===this.m_joins){const e=h.x-a.x,s=h.y-a.y,n=d.x-a.x,r=d.y-a.y;let u=(e*n+s*r)/Math.sqrt(e*e+s*s)/Math.sqrt(n*n+r*r);if(u=Math.max(u,-1),u>1-1e-8){f.buildPoint(a,c*this.m_distance,p-.25*Math.PI,t),this.addPointEx(t,i),f.buildPoint(a,c*this.m_distance,p+.25*Math.PI,t),this.addPoint(t);continue}const l=Math.abs(this.m_distance/Math.sin(.5*Math.acos(u))),m=Math.abs(this.m_miterLimit*this.m_distance);if(l>m){const e=.5*(p-y),s=this.m_distance/Math.abs(Math.sin(e));f.buildPoint(a,s,.5*(y+p),t);const n=o.P.construct(t.x,t.y),r=o.P.construct(a.x,a.y),c=new o.P;c.setSub(n,r);const u=new o.P;u.setScaleAdd(m/c.length(),c,r);const h=Math.sqrt(l*l-this.m_distance*this.m_distance),d=(l-m)*Math.abs(this.m_distance)/h;this.m_distance>0?c.rightPerpendicularThis():c.leftPerpendicularThis(),c.scale(d/c.length());const _=new o.P;_.setAdd(u,c);const P=new o.P;P.setSub(u,c),t.x=_.x,t.y=_.y,this.addPointEx(t,i),t.x=P.x,t.y=P.y,this.addPoint(t);continue}const _=.5*(p-y),P=this.m_distance/Math.abs(Math.sin(_));f.buildPoint(a,P,.5*(y+p),t),this.addPointEx(t,i);continue}{let e;if(p=P,this.m_distance>0?(p>y&&(p-=o.p),e=y-p<o.o):(p<y&&(p+=o.p),e=p-y<o.o),e){const e=this.m_distance*c;let s;s=e<0?y+.25*Math.PI:y+3*Math.PI*.25,f.buildPoint(a,e,s,t),this.addPointEx(t,i),s=e<0?p-.25*Math.PI:p-3*Math.PI*.25,f.buildPoint(a,e,s,t),this.addPoint(t)}else{const e=.5*(p-y),s=this.m_distance/Math.abs(Math.sin(e));p<y&&(p+=o.p),f.buildPoint(a,s,(y+p)/2,t),this.addPointEx(t,i)}}}else f.buildPoint(a,this.m_distance,y+o.o,t),this.addPointEx(t,i),f.buildPoint(a,this.m_distance,p-o.o,t),this.addPoint(t)}}return this.m_a1=n,this.m_a2=r,this.addPointEx(this.m_offsetPts[0],0),this.m_offsetPts[0]=this.m_offsetPts[this.m_offsetPtCount-1].clone(),this.removeBadSegsFast()}removeBadSegsFast(){let t=!1;for(let t=0;t<this.m_offsetPtCount;t++){const e=this.m_offsetPts[t];e.m_next=t+1,e.m_prev=t-1}this.m_offsetPts[0].m_prev=this.m_offsetPtCount-2,this.m_offsetPts[this.m_offsetPtCount-2].m_next=0;let e=0;for(let s=0;s<this.m_offsetPtCount;s++)if(this.m_offsetPts[e].type&l){const s=this.deleteClosedSeg(e);if(-1===s){t=!0;break}e=s}else e=this.m_offsetPts[e].m_next;return!t&&(this.compressOffsetArray(e),!0)}deleteClosedSeg(t){const e=this.m_offsetPtCount-1;let s,n,r=t;for(let i=1;i<=e-2;i++){r=this.m_offsetPts[r].m_next,s=r,n=t;for(let t=1;t<=i;t++){if(n=this.m_offsetPts[n].m_prev,0===(this.m_offsetPts[n].type&l)&&0===(this.m_offsetPts[s].type&l)){const t=this.handleClosedIntersection(n,s);if(-1!==t)return t}s=this.m_offsetPts[s].m_prev}}return-1}handleClosedIntersection(t,e){const s=this.m_offsetPts[this.m_offsetPts[t].m_prev],n=this.m_offsetPts[t],r=this.m_offsetPts[this.m_offsetPts[e].m_prev],i=this.m_offsetPts[e];if(!this.sectGraphicRect(s,n,r,i))return-1;const a={pt:new h,bAtExistingPt:!1};if(((n.x-s.x)*(i.y-r.y)-(n.y-s.y)*(i.x-r.x))*this.m_distance<0&&this.findIntersection(s,n,r,i,a)&&!a.bAtExistingPt){const o=1e-8,c=Math.sqrt((n.x-s.x)*(n.x-s.x)+(n.y-s.y)*(n.y-s.y)),u=(n.x-s.x)/c,l=(n.y-s.y)/c,m=Math.sqrt((i.x-r.x)*(i.x-r.x)+(i.y-r.y)*(i.y-r.y)),h=(i.x-r.x)/m,f=(i.y-r.y)/m;let d=!1;const y=a.pt.clone();y.x+=(u+h)*o,y.y+=(l+f)*o;let p=r,_=a.pt,P=this.m_offsetPts[t].m_prev;for(;_.y>y.y!=p.y>y.y&&y.x<(p.x-_.x)*(y.y-_.y)/(p.y-_.y)+_.x&&(d=!d),p=_,P=this.m_offsetPts[P].m_next,P!==e;)_=this.m_offsetPts[P];if(d)return-1;const g=this.m_offsetPts[t].m_prev;return a.pt.type=n.type,a.pt.m_next=e,a.pt.m_prev=g,this.m_offsetPts[t]=a.pt,this.m_offsetPts[e].m_prev=t,e}return-1}sectGraphicRect(t,e,s,n){return Math.max(t.x,e.x)>=Math.min(s.x,n.x)&&Math.max(s.x,n.x)>=Math.min(t.x,e.x)&&Math.max(t.y,e.y)>=Math.min(s.y,n.y)&&Math.max(s.y,n.y)>=Math.min(t.y,e.y)}findIntersection(t,e,s,n,r){let i,a,o,c;return r.bAtExistingPt=!1,i=(e.y-t.y)*(n.x-s.x)-(e.x-t.x)*(n.y-s.y),a=(s.y-t.y)*(e.x-t.x)-(s.x-t.x)*(e.y-t.y),o=0===i?2:a/i,o>=0&&o<=1&&(c=o,i=(n.y-s.y)*(e.x-t.x)-(n.x-s.x)*(e.y-t.y),a=(t.y-s.y)*(n.x-s.x)-(t.x-s.x)*(n.y-s.y),o=0===i?2:a/i,o>=0&&o<=1)&&(r.pt.x=t.x+o*(e.x-t.x),r.pt.y=t.y+o*(e.y-t.y),this.m_bUseZ&&(r.pt.z=s.z+c*(n.z-s.z)),this.m_bUseM&&(r.pt.m=s.m+c*(n.m-s.m)),0!==c&&1!==c||0!==o&&1!==o||(r.bAtExistingPt=!0),!((0===c||1===c)&&o>0&&o<1||(0===o||1===o)&&c>0&&c<1))}compressOffsetArray(t){for(;this.m_offsetPts[t].m_prev<t;)t=this.m_offsetPts[t].m_prev;let e=0,s=t;do{const t=this.m_offsetPts[s].clone();this.m_offsetPts[e]=t,s=t.m_next,e++}while(s!==t);this.m_offsetPts[e]=this.m_offsetPts[0].clone(),this.m_offsetPtCount=e+1}addPart(t,e){if(!(e<2))for(let s=0;s<e;s++){const e=this.m_offsetPts[t+s];if(s?this.m_bUseZ?this.m_resultPath.lineTo3DCoords(e.x,e.y,e.z):this.m_resultPath.lineToCoords(e.x,e.y):this.m_bUseZ?this.m_resultPath.startPath3DCoords(e.x,e.y,e.z):this.m_resultPath.startPathCoords(e.x,e.y),this.m_bUseM){const t=this.m_resultPath.getPointCount()-1;this.m_resultPath.setAttribute(2,t,0,e.m)}}}offsetMultiPath(t){const e=(0,a.d)(this.m_inputGeometry,0,this.m_tolerance,0,this.m_progressTracker,12e3),s=e.querySegmentIterator();s.resetToFirstPath();let n=-1;for(;s.nextPath();)n++,this.offsetPath(e,n,t)}offsetPath(t,e,s){let n=t.getPathStart(e),r=t.getPathEnd(e);if(this.m_resultPath=s,t.isClosedPath(e)){const e=t.getXY(n);for(;r>n&&t.getXY(r-1).equals(e);)r--;if(r-n>=2){this.m_srcPtCount=r-n,this.m_srcPts.length=this.m_srcPtCount;for(let e=n;e<r;e++)this.progress(),this.m_srcPts[e-n]=h.construct(t.getXY(e),this.m_bUseZ?t.getAttributeAsDbl(1,e,0):0,this.m_bUseM?t.getAttributeAsDbl(2,e,0):0);this.buildOffset()&&this.addPart(0,this.m_offsetPtCount-1)}}else{const e=t.getXY(n);for(;n<r-1&&t.getXY(n+1).equals(e);)n++;const s=t.getXY(r-1);for(;n<r-1&&t.getXY(r-2).equals(s);)r--;if(r-n>=2){this.m_srcPtCount=2*(r-n)-2,this.m_srcPts.length=this.m_srcPtCount;let s=h.construct(e,this.m_bUseZ?t.getAttributeAsDbl(1,n,0):0,this.m_bUseM?t.getAttributeAsDbl(2,n,0):0);s.type|=1536,this.m_srcPts[0]=s;let i=1,a=this.m_srcPtCount-1;for(let e=n+1;e<r-1;e++,i++,a--)this.progress(),s=h.construct(t.getXY(e),this.m_bUseZ?t.getAttributeAsDbl(1,e,0):0,this.m_bUseM?t.getAttributeAsDbl(2,e,0):0),this.m_srcPts[i]=s.clone(),s.type|=m,this.m_srcPts[a]=s.clone();if(s=h.construct(t.getXY(r-1),this.m_bUseZ?t.getAttributeAsDbl(1,r-1,0):0,this.m_bUseM?t.getAttributeAsDbl(2,r-1,0):0),s.type|=512,this.m_srcPts[i]=s.clone(),this.buildOffset())if(this.m_offsetPts.length>=2){let t=-1,e=-1,s=0!==(this.m_offsetPts[this.m_offsetPtCount-1].type&m);s||(t=0);for(let n=1;n<this.m_offsetPtCount;n++){this.progress();const r=0!==(this.m_offsetPts[n].type&m);r?s||(e=n-1,e-t+1>1&&this.addPart(t,e-t+1)):s&&(t=n-1),s=r}s||(e=this.m_offsetPtCount-1,e-t+1>1&&this.addPart(t,e-t+1))}else{const t=0,e=this.m_offsetPtCount-1;e-t>=1&&this.addPart(t,e-t+1)}}}this.m_srcPts.length=0,this.m_srcPtCount=0,this.m_offsetPts.length=0,this.m_offsetPtCount=0}static dotSign(t,e,s,n){const r=e.x-t.x,i=e.y-t.y,a=n.x-s.x,c=n.y-s.y,u=(0,o.t)(r,i,a,c);return(0,o.e)(u)}}class d extends n.G{constructor(t,e,s,n,r,i,a){super(),this.m_progressTracker=a,this.m_index=-1,this.m_inputGeoms=t,this.m_spatialReference=e,this.m_distance=s,this.m_joins=n,this.m_miterLimit=r,this.m_flattenError=i}tock(){return!0}getRank(){return 1}next(){if(!this.m_inputGeoms)return null;let t;for(;t=this.m_inputGeoms.next();)return this.m_index=this.m_inputGeoms.getGeometryID(),this.offset(t);return null}getGeometryID(){return this.m_index}offset(t){let e;return(0,i.c)(t),e=this.m_flattenError<=0?(0,r.b)(this.m_spatialReference,t,!0).total():this.m_flattenError,function(t,e,s,n,r,a){if(null===t&&(0,i.a)(""),t.getDimension()<1&&(0,i.a)(""),r>0||(0,i.a)(""),(0,i.c)(t),0===e||t.isEmpty())return t;const o=new f(a);return o.m_bUseZ=t.hasAttribute(1),o.m_bUseM=t.hasAttribute(2),o.m_inputGeometry=t,o.m_distance=e,o.m_tolerance=r,o.m_joins=s,o.m_miterLimit=n>1?n:1,o.m_progressCounter=0,o.constructOffset()}(t,this.m_distance,this.m_joins,this.m_miterLimit,e,this.m_progressTracker)}}const y=new class{getOperatorType(){return 10108}accelerateGeometry(t,e,s){return!1}canAccelerateGeometry(t){return!1}supportsCurves(){return!0}executeMany(t,e,s,n,r,i,a){return new d(t,e,s,n,r,i,a)}execute(t,e,s,n,r,i,a){return new d(null,e,s,n,r,i,a).offset(t)}};function p(t,e,s,n,r,i){return y.execute(t,e,s,n,r,i,null)}function _(t,e,s,r,i,a){const o=y.executeMany(new n.S(t),e,s,r,i,a,null);return Array.from(o)}},71409:(t,e,s)=>{s.d(e,{A7:()=>h,L2:()=>u,SQ:()=>n,s9:()=>c,y6:()=>m,zD:()=>a});const n=new Map([[1025,109452],[1033,109451],[9001,109404],[9002,109405],[9003,109406],[9005,109407],[9014,109408],[9030,109409],[9031,109410],[9033,109411],[9034,109412],[9035,109413],[9036,109414],[9037,109415],[9038,109416],[9039,109417],[9040,109418],[9041,109419],[9042,109420],[9043,109421],[9050,109422],[9051,109423],[9052,109424],[9053,109425],[9060,109426],[9061,109427],[9062,109428],[9063,109429],[9070,109430],[9080,109431],[9081,109432],[9082,109433],[9083,109434],[9084,109435],[9085,109436],[9086,109437],[9087,109438],[9093,109439],[9094,109440],[9095,109441],[9096,109442],[9097,109444],[9098,109445],[9099,109446],[9300,109447],[9301,109448],[9302,109449],[109001,109442],[109002,109443],[109003,109444],[109004,109445],[109005,109450],[109006,109451],[109007,109452],[109008,109453],[109009,109454],[109010,109455],[109011,109456],[109012,109457],[109013,109458],[109014,109459],[109015,109462],[109016,109464],[109017,109465],[109018,109466],[109030,109460],[109031,109461]]);function r(t){return(e,s)=>[e,{type:t,wkid:e,factor:s}]}const i=r("angular"),a=new Map([i(1031,4.84813681109536e-9),i(9101,1),i(9102,.017453292519943295),i(9103,.0002908882086657216),i(9104,484813681109536e-20),i(9105,.015707963267948967),i(9106,.015707963267948967),i(9109,1e-6),i(9112,.00015707963267948965),i(9113,15707963267948967e-22),i(9114,.0009817477042468104)]),o=r("linear"),c=new Map([o(1025,.001),o(1033,.01),o(9001,1),o(9002,.3048),o(9003,.30480060960121924),o(9005,.3047972654),o(9014,1.8288),o(9030,1852),o(9031,1.0000135965),o(9033,20.11684023368047),o(9034,.2011684023368047),o(9035,1609.3472186944375),o(9036,1e3),o(9037,.9143917962),o(9038,20.1166195164),o(9039,.201166195164),o(9040,.9143984146160287),o(9041,.3047994715386762),o(9042,20.116765121552632),o(9043,.2011676512155263),o(9050,.9143992),o(9051,.3047997333333333),o(9052,20.1167824),o(9053,.201167824),o(9060,.9143992042898124),o(9061,.30479973476327077),o(9062,20.116782494375872),o(9063,.2011678249437587),o(9070,.30480083333333335),o(9080,.30479951024814694),o(9081,.30479841),o(9082,.3047996),o(9083,.3047995),o(9084,.9143985307444408),o(9085,.91439523),o(9086,.9143988),o(9087,.9143985),o(9093,1609.344),o(9094,.3047997101815088),o(9095,.3048007491),o(9096,.9144),o(9097,20.1168),o(9098,.201168),o(9099,.914398),o(9300,.30479933333333337),o(9301,20.116756),o(9302,.20116756),o(109001,.9144),o(109002,.9144018288036576),o(109003,20.1168),o(109004,.201168),o(109005,.1),o(109006,.01),o(109007,.001),o(109008,.0254),o(109009,.025400050800101603),o(109010,5.0292),o(109011,5.029210058420118),o(109012,1853.248),o(109013,1853.184),o(109014,1.7018),o(109015,.8466683600033867),o(109016,.00035277777777777776),o(109017,1e-6),o(109018,1e-9),o(109030,5e4),o(109031,15e4)]),u=c.get(9001),l=r("area"),m=new Map([l(109401,1e4),l(109402,4046.8564224),l(109403,4046.872609874252),l(109404,1),l(109405,.09290304),l(109406,.09290341161327487),l(109407,.09290137299531805),l(109408,3.34450944),l(109409,3429904),l(109410,1.000027193184865),l(109411,404.6872609874253),l(109412,.04046872609874252),l(109413,2589998.470319522),l(109414,1e6),l(109415,.8361123569578626),l(109416,404.6783807676053),l(109417,.04046783807676053),l(109418,.8361244606523066),l(109419,.09290271785025629),l(109420,404.6842389557165),l(109421,.04046842389557164),l(109422,.83612589696064),l(109423,.0929028774400711),l(109424,404.6849341289498),l(109425,.04046849341289498),l(109426,.836125904805842),l(109427,.09290287831176021),l(109428,404.6849379260275),l(109429,.04046849379260275),l(109430,.09290354800069446),l(109431,.09290274144751023),l(109432,.09290207073852812),l(109433,.09290279616016),l(109434,.09290273520025),l(109435,.836124673027592),l(109436,.8361186366467529),l(109437,.8361251654414399),l(109438,.83612461680225),l(109439,2589988.110336),l(109440,.09290286332673177),l(109441,.09290349665192114),l(109442,.83612736),l(109443,.8361307045194736),l(109444,404.68564224),l(109445,.040468564224),l(109446,.836123702404),l(109447,.09290263360044447),l(109448,404.683871963536),l(109449,.0404683871963536),l(109450,.01),l(109451,1e-4),l(109452,1e-6),l(109453,64516e-8),l(109454,.0006451625806477421),l(109455,25.29285264),l(109456,25.29295381171408),l(109457,3434528.149504),l(109458,3434290.937856),l(109459,2.89612324),l(109460,25e8),l(109461,225e8),l(109462,.7168473118308245),l(109463,100),l(109464,1.244521604938271e-7),l(109465,1e-12),l(109466,1e-18)]),h=m.get(109404)},76061:(t,e,s)=>{s.d(e,{G:()=>n,S:()=>r});class n{*[Symbol.iterator](){let t=this.next();for(;t;)yield t,t=this.next()}}class r extends n{constructor(t){super(),this.m_iGeom=-1,this.m_aGeoms=t?t.slice():[]}next(){if(this.m_iGeom<this.m_aGeoms.length-1){const t=this.m_aGeoms[++this.m_iGeom];return this.m_aGeoms[this.m_iGeom]=null,t}return null}tock(){return!1}getGeometryID(){return this.m_iGeom}getRank(){return 1}}},78125:(t,e,s)=>{s.r(e),s.d(e,{fromExtent:()=>g,fromGeometry:()=>P,fromMultipoint:()=>x,fromPoint:()=>b,fromPolygon:()=>C,fromPolyline:()=>M,fromSpatialReference:()=>w,getSpatialReference:()=>_,toExtent:()=>v,toGeometry:()=>E,toMultipoint:()=>G,toPoint:()=>k,toPolygon:()=>S,toPolyline:()=>q});var n=s(83661),r=(s(79187),s(55537)),i=s(95213),a=s(88885),o=s(39117),c=s(5443),u=s(48526),l=s(86738),m=s(39829),h=s(82799),f=(s(90293),s(83299));const d="_gxVersion",y=2,p=1;function _(t){return Array.isArray(t)?t[0].spatialReference:t.spatialReference}function P(t){switch(t.type){case"point":return b(t);case"multipoint":return x(t);case"polyline":return M(t);case"polygon":return C(t);case"extent":return g(t);default:throw new Error(`Unsupported geometry type: ${t.type}`)}}function g(t){if(!t.getCacheValue(d)){const e=new i.E;e.setCoords(t.xmin,t.ymin,t.xmax,t.ymax),t.hasM&&e.setInterval(y,0,t.mmin,t.mmax),t.hasZ&&e.setInterval(p,0,t.zmin,t.zmax),t.setCacheValue(d,e)}return t.getCacheValue(d)}function x(t){if(!t.getCacheValue(d)){const e=new a.M,s=new i.P,n=t.points,r=t.hasM,o=t.hasZ,c=o?3:2;for(let t=0,i=n.length;t<i;t++){const i=n[t];s.setXYCoords(i[0],i[1]),o&&s.setZ(i[2]??0),r&&s.setM(i[c]??NaN),e.add(s)}t.setCacheValue(d,e)}return t.getCacheValue(d)}function b(t){if(!t.getCacheValue(d)){const e=new i.P;e.setXYCoords(t.x,t.y),t.hasM&&e.setM(t.m),t.hasZ&&e.setZ(t.z),t.setCacheValue(d,e)}return t.getCacheValue(d)}function C(t){if(!t.getCacheValue(d)){const{curveRings:e,hasM:s,hasZ:n,rings:r}=t,i=(0,f.fromGeometryToGXGeometry)({curveRings:e,hasM:s,hasZ:n,rings:r});t.setCacheValue(d,i)}return t.getCacheValue(d)}function M(t){if(!t.getCacheValue(d)){const{curvePaths:e,hasM:s,hasZ:n,paths:r}=t,i=(0,f.fromGeometryToGXGeometry)({curvePaths:e,hasM:s,hasZ:n,paths:r});t.setCacheValue(d,i)}return t.getCacheValue(d)}function w(t){if(t.wkid)return(0,o.c)(t.wkid);const e=t.wkt2||t.wkt;return e?(0,o.b)(e):null}function E(t,e){if(t)switch(t.getGeometryType()){case r.G.enumPoint:return k(t,e);case r.G.enumEnvelope:return v(t,e);case r.G.enumMultiPoint:return G(t,e);case r.G.enumPolyline:return q(t,e);case r.G.enumPolygon:return S(t,e)}return null}function v(t,e){if(t.isEmpty())return null;const s=new c.A({xmin:t.getXMin(),ymin:t.getYMin(),xmax:t.getXMax(),ymax:t.getYMax(),spatialReference:e}),n=t.getDescription();if(n.hasM()){const e=t.queryInterval(y,0);s.mmin=e.vmin,s.mmax=e.vmax}if(n.hasZ()){const e=t.queryInterval(p,0);s.zmin=e.vmin,s.zmax=e.vmax}return s.setCacheValue(d,t),s}function G(t,e){if(t.isEmpty())return null;const s=t.getDescription(),n=s.hasM(),r=s.hasZ(),a=[],o=new i.P;for(let e=0,s=t.getPointCount();e<s;e++){t.getPointByVal(e,o);const s=[o.getX(),o.getY()];r&&s.push(o.getZ()),n&&s.push(o.getM()),a.push(s)}const c=new u.A({hasM:n,hasZ:r,points:a,spatialReference:e});return c.setCacheValue(d,t),c}function k(t,e){if(t instanceof n.P)return new l.A({x:t.x,y:t.y,spatialReference:e});if(t.isEmpty())return null;const s=new l.A({x:t.getX(),y:t.getY(),spatialReference:e}),r=t.getDescription();return r.hasM()&&(s.m=t.getM()),r.hasZ()&&(s.z=t.getZ()),s.setCacheValue(d,t),s}function S(t,e){if(t.isEmpty())return null;const s=m.A.fromJSON({spatialReference:e,...(0,f.toGeometry)(t,null)});return s.setCacheValue(d,t),s}function q(t,e){if(t.isEmpty())return null;const s=h.A.fromJSON({spatialReference:e,...(0,f.toGeometry)(t,null)});return s.setCacheValue(d,t),s}},85549:(t,e,s)=>{s.d(e,{executeOffsetJson:()=>u,r:()=>c});var n=s(40547),r=s(66070),i=s(78125),a=s(83299);const o={round:0,bevel:1,miter:2,square:3};function c(t,e,s,r,a,o){e=(0,n.convertToSpatialReferenceUnit)((0,n.toLengthUnit)(s),t.spatialReference,e);const c=(0,i.fromGeometry)(t),u=(0,i.getSpatialReference)(t),m=l(c,(0,i.fromSpatialReference)(u),e,r,a,o);return(0,i.toGeometry)(m,u)}function u(t,e,s,r,i,o){e=(0,n.convertToSpatialReferenceUnit)((0,n.toLengthUnit)(s),t.spatialReference,e);const c=(0,a.fromGeometry)(t),u=c.getGeometry(),m=c.getSpatialReference(),h=l(u,m,e,r,i,o);return(0,a.toGeometry)(h,m)}function l(t,e,s,n,i,a){const c=(0,r.g7)(t,e,s,o[n],i,a);if(!c.isEmpty())return c;{const c=t.clone();c.reverseAllPaths();const u=(0,r.g7)(c,e,-s,o[n],i,a);if(!u.isEmpty())return u.reverseAllPaths(),u}const u=Math.abs(s)/10,l=u/10;let m=a;if("round"===n&&(m+=l),"bevel"===n||"square"===n){const c=(0,r.g7)(t,e,s,o[n="miter"],i,a);if(!c.isEmpty())return c}if("miter"===n){const c=(0,r.g7)(t,e,s,o[n="round"],i,a);if(!c.isEmpty())return c}if("round"===n)for(;m<=u;m+=l){const a=(0,r.g7)(t,e,s,o[n],i,m);if(!a.isEmpty())return a}return null}},85935:(t,e,s)=>{s.d(e,{D$:()=>o,Nh:()=>m,O$:()=>l,mT:()=>u,ps:()=>f});var n=s(799);const r={TypeNotAllowedInFeature:"Feature attributes only support dates, numbers, strings, guids.",LogicError:"Logic error - {reason}",CannotCompareDateAndTime:"Cannot compare date or dateonly with timeonly types",NeverReach:"Encountered unreachable logic",AsyncNotEnabled:"Async Arcade must be enabled for this script",ModuleAccessorMustBeString:"Module accessor must be a string",ModuleExportNotFound:"Module has no export with provided identifier",ModulesNotSupported:"Current profile does not support modules",ArrayAccessMustBeNumber:"Array accessor must be a number",FunctionNotFound:"Function not found",FieldNotFound:"Key not found - {key}",CircularModules:"Circular module dependencies are not allowed",Cancelled:"Execution cancelled",UnsupportedHashType:"Type not supported in hash function",IllegalResult:"Value is not a supported return type",PortalRequired:"Portal is required",InvalidParameter:"Invalid parameter",WrongNumberOfParameters:"Call with wrong number of parameters",Unrecognized:"Unrecognized code structure",UnrecognizedType:"Unrecognized type",WrongSpatialReference:"Cannot work with geometry in this spatial reference. It is different to the execution spatial reference",BooleanConditionRequired:"Conditions must use booleans",NoFunctionInDictionary:"Dictionaries cannot contain functions.",NoFunctionInArray:"Arrays cannot contain functions.",NoFunctionInTemplateLiteral:"Template Literals do not expect functions by value.",KeyAccessorMustBeString:"Accessor must be a string",KeyMustBeString:"Object keys must be a string",Immutable:"Object is immutable",UnexpectedToken:"Unexpected token",MemberOfNull:"Cannot access property of null object",MaximumCallDepth:"Exceeded maximum function depth",OutOfBounds:"Out of bounds",InvalidIdentifier:"Identifier not recognized",CallNonFunction:"Expression is not a function",InvalidMemberAccessKey:"Cannot access value using a key of this type",AssignModuleFunction:"Cannot assign function to module variable",UnsupportUnaryOperator:"Unsupported unary operator",UnsupportedOperator:"Unsupported operator",LogicalExpressionOnlyBoolean:"Logical expressions must be boolean",LogicExpressionOrAnd:"Logical expression can only be combined with || or &&",CannotChangeTimeZoneTime:"Cannot change the timezone of a Time",CannotChangeTimeZoneDateOnly:"Cannot change the timezone of a DateOnly",FeatureSetDoesNotHaveSubtypes:"FeatureSet does not have subtypes"};class i extends Error{constructor(...t){super(...t)}}class a extends i{constructor(t,e){super(c(e)+t.message,{cause:t}),this.loc=null,Error.captureStackTrace&&Error.captureStackTrace(this,a),e?.loc&&(this.loc=e.loc)}}class o extends Error{constructor(t,e,s,i){super("Execution error - "+c(s)+(0,n.HC)(r[e],i)),this.loc=null,this.declaredRootClass="esri.arcade.arcadeexecutionerror",Error.captureStackTrace&&Error.captureStackTrace(this,o),s?.loc&&(this.loc=s.loc)}}function c(t){return t&&t.loc?`Line : ${t.loc.start?.line}, ${t.loc.start?.column}: `:""}class u extends Error{constructor(t,e,s,i){super("Compilation error - "+c(s)+(0,n.HC)(r[e],i)),this.loc=null,this.declaredRootClass="esri.arcade.arcadecompilationerror",Error.captureStackTrace&&Error.captureStackTrace(this,u),s?.loc&&(this.loc=s.loc)}}class l extends Error{constructor(){super("Uncompilable code structures"),this.declaredRootClass="esri.arcade.arcadeuncompilableerror",Error.captureStackTrace&&Error.captureStackTrace(this,l)}}function m(t,e,s){return"esri.arcade.arcadeexecutionerror"===s.declaredRootClass||"esri.arcade.arcadecompilationerror"===s.declaredRootClass?null===s.loc&&e?.loc?new a(s,{cause:s}):s:("esri.arcade.featureset.support.featureseterror"===s.declaredRootClass||"esri.arcade.featureset.support.sqlerror"===s.declaredRootClass||s.declaredRootClass,e?.loc?new a(s,{cause:s}):s)}const h={UnrecognizedUri:"Unrecognized uri - {uri}",UnsupportedUriProtocol:"Unrecognized uri protocol"};class f extends Error{constructor(t,e){super((0,n.HC)(h[t],e)),this.declaredRootClass="esri.arcade.arcademoduleerror",Error.captureStackTrace&&Error.captureStackTrace(this,f)}}}}]);