"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[5613],{159:(e,t,n)=>{n.d(t,{A:()=>c});var a,r=n(31635),s=n(65008),l=n(10107),i=(n(44208),n(53966),n(87811),n(64108)),u=n(99157);let c=a=class extends s.A{constructor(e){super(e),this.steps=[]}getInverse(){const e=new a;for(let t=this.steps.length-1;t>=0;t--){const n=this.steps[t];e.steps.push(n.getInverse())}return e}};(0,r.Cg)([(0,l.MZ)({type:[u.A],nonNullable:!0})],c.prototype,"steps",void 0),c=a=(0,r.Cg)([(0,i.$)("esri.geometry.operators.support.GeographicTransformation")],c)},9762:(e,t,n)=>{n.r(t),n.d(t,{projectBuffer:()=>r});var a=n(37539);function r(e,t,n,r,s,l,i=Math.floor(e.length/3)){const u=(0,a.jd)(t,s);if(null==u)return!1;if(u===a.pO){if(e===r&&n===l)return!0;const t=n+3*i;for(let a=n,s=l;a<t;a++,s++)r[s]=e[a];return!0}const c=n+3*i;for(let t=n,a=l;t<c;t+=3,a+=3)u(e,t,r,a);return!0}},10407:(e,t,n)=>{n.d(t,{It:()=>y,LG:()=>l,OM:()=>c,Sm:()=>o,Y:()=>i,bK:()=>u,mm:()=>p,sQ:()=>f});var a=n(91218),r=n(16930),s=n(28735);function l(e,t){if(!i(e,t)){const n=e.typeKeywords;n?n.push(t):e.typeKeywords=[t]}}function i(e,t){return!!e.typeKeywords?.includes(t)}function u(e){return i(e,p.HOSTED_SERVICE)}function c(e,t){const n=e.typeKeywords;if(n){const e=n.indexOf(t);e>-1&&n.splice(e,1)}}function o(e,t,n){n?l(e,t):c(e,t)}async function f(e){const t=e.clone().normalize();let n;if(t.length>1)for(const e of t)n?e.width>n.width&&(n=e):n=e;else n=t[0];return async function(e){const t=e.spatialReference;if(t.isWGS84)return e.clone();if(t.isWebMercator)return(0,s.ci)(e);const n=r.A.WGS84;return await(0,a.initializeProjection)(t,n),(0,a.project)(e,n)}(n)}const p={CHARTS:"Charts",DYNAMIC:"Dynamic",DEVELOPER_BASEMAP:"DeveloperBasemap",GROUP_LAYER_MAP:"Map",HOSTED_SERVICE:"Hosted Service",JSAPI:"ArcGIS API for JavaScript",LOCAL_SCENE:"ViewingMode-Local",METADATA:"Metadata",MULTI_LAYER:"Multilayer",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer",SINGLE_LAYER:"Singlelayer",SUBTYPE_GROUP_LAYER:"SubtypeGroupLayer",SUBTYPE_GROUP_TABLE:"SubtypeGroupTable",TABLE:"Table",TILED_IMAGERY:"Tiled Imagery"};function y(e){const{portal:t,isOrgItem:n,itemControl:a}=e,r=t.user?.privileges;let s=!r||r.includes("features:user:edit"),l=!!n&&!!r?.includes("features:user:fullEdit");const i="update"===a||"admin"===a;return i?l=s=!0:l&&(s=!0),{features:{edit:s,fullEdit:l},content:{updateItem:i}}}},22429:(e,t,n)=>{n.d(t,{v:()=>r});var a=n(24183);class r{constructor(){this._serviceMetadatas=new Map,this._itemDatas=new Map}async fetchServiceMetadata(e,t){const n=this._serviceMetadatas.get(e);if(n)return n;const r=await(0,a.V)(e,t);return this._serviceMetadatas.set(e,r),r}async fetchItemData(e){const{id:t}=e;if(!t)return null;const{_itemDatas:n}=this;if(n.has(t))return n.get(t);const a=await e.fetchData();return n.set(t,a),a}async fetchCustomParameters(e,t){const n=await this.fetchItemData(e);return n&&"object"==typeof n&&(t?t(n):n.customParameters)||null}}},37539:(e,t,n)=>{n.d(t,{pO:()=>m,jd:()=>p,Tp:()=>y,w5:()=>f});var a=n(34727),r=n(83047),s=n(73941),l=n(79258);Math.PI;const i=l.$O.radius,u=l.$O.eccentricitySquared,c={a1:i*u,a2:i*u*i*u,a3:i*u*u/2,a4:i*u*i*u*2.5,a5:i*u+i*u*u/2,a6:1-u};l.$O.radius,l.$O.flattening,l.Sw.radius,l.Sw.flattening,l.sH.radius,l.sH.flattening,l.sH.radius;var o=n(21325);const f={2:{5:m,7:null,9:null,10:m,1:v,6:null,8:null,0:null,3:g,11:w,2:m,4:x},5:{5:m,7:null,9:null,10:m,1:v,6:null,8:null,0:null,3:g,11:w,2:m,4:x},7:{5:null,7:m,9:null,10:m,1:null,6:I,8:null,0:null,3:null,11:null,2:null,4:null},9:{5:null,7:null,9:m,10:m,1:null,6:null,8:L,0:null,3:null,11:null,2:null,4:null},3:{5:h,7:null,9:null,10:h,1:function(e,t,n,a){const r=e[t]/E,s=O-2*Math.atan(Math.exp(-e[t+1]/E)),l=E+e[t+2],i=Math.cos(s)*l;n[a]=Math.cos(r)*i,n[a+1]=Math.sin(r)*i,n[a+2]=Math.sin(s)*l},6:null,8:null,0:null,3:m,11:function(e,t,n,a){h(e,t,n,a),w(n,a,n,a)},2:h,4:function(e,t,n,a){h(e,t,n,a),x(n,a,n,a)}},4:{5:G,7:null,9:null,10:G,1:function(e,t,n,a){G(e,t,n,a),v(n,a,n,a)},6:null,8:null,0:null,3:function(e,t,n,a){G(e,t,n,a),g(n,a,n,a)},11:function(e,t,n,a){G(e,t,n,a),w(n,a,n,a)},2:G,4:m},1:{5:N,7:null,9:null,10:N,1:m,6:null,8:null,0:null,3:function(e,t,n,a){N(e,t,n,a),g(n,a,n,a)},11:function(e,t,n,a){N(e,t,n,a),w(n,a,n,a)},2:N,4:function(e,t,n,a){N(e,t,n,a),x(n,a,n,a)}},6:{5:null,7:A,9:null,10:A,1:null,6:m,8:null,0:null,3:null,11:null,2:null,4:null},8:{5:null,7:null,9:P,10:P,1:null,6:null,8:m,0:null,3:null,11:null,2:null,4:null},0:{5:null,7:null,9:null,10:null,1:null,6:null,8:null,0:m,3:null,11:null,2:null,4:null},10:{5:m,7:m,9:m,10:m,1:v,6:I,8:L,0:null,3:g,11:w,2:m,4:x},11:{5:M,7:null,9:null,10:M,1:function(e,t,n,a){M(e,t,n,a),v(n,a,n,a)},6:null,8:null,0:null,3:function(e,t,n,a){M(e,t,n,a),g(n,a,n,a)},11:m,2:M,4:function(e,t,n,a){M(e,t,n,a),x(n,a,n,a)}}};function p(e,t){return y(e,t)?.projector}function y(e,t){if(null==e||null==t)return null;if(b.source.spatialReference===e&&b.dest.spatialReference===t)return b;const n=d(e,b.source),a=d(t,b.dest);return 0===n&&0===a?(0,o.aI)(e,t)?b.projector=m:b.projector=null:b.projector=f[n][a],b}function d(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=(0,r.GA)(e,1)),(0,s.jA)(e)?t.spatialReferenceId=1:(0,o.oT)(e)?t.spatialReferenceId=2:(0,o.K8)(e)?t.spatialReferenceId=3:(0,o.r1)(e)?t.spatialReferenceId=11:e.wkt===s.Ro.wkt?t.spatialReferenceId=4:4490===e.wkid?t.spatialReferenceId=5:e.wkt===s.FY.wkt?t.spatialReferenceId=6:e.wkt===s.LJ.wkt?t.spatialReferenceId=8:(0,o.q8)(e)?t.spatialReferenceId=7:(0,o.KQ)(e)?t.spatialReferenceId=9:t.spatialReferenceId=0):0}function m(e,t,n,a){e!==n&&(n[a++]=e[t++],n[a++]=e[t++],n[a]=e[t])}function h(e,t,n,a){n[a]=j*(e[t]/E),n[a+1]=j*(O-2*Math.atan(Math.exp(-e[t+1]/E))),n[a+2]=e[t+2]}function g(e,t,n,r){!function(e,t,n,r,s){const l=.4999999*Math.PI,i=(0,a.qE)(T*e[t+1],-l,l),u=Math.sin(i);n[r++]=T*e[t]*s.radius,n[r++]=s.halfSemiMajorAxis*Math.log((1+u)/(1-u)),n[r]=e[t+2]}(e,t,n,r,l.$O)}function w(e,t,n,a){n[a]=e[t]*C,n[a+1]=e[t+1]*C,n[a+2]=e[t+2]}function M(e,t,n,a){n[a]=e[t]*k,n[a+1]=e[t+1]*k,n[a+2]=e[t+2]}function S(e,t,n,a,r){const s=r+e[t+2],l=T*e[t+1],i=T*e[t],u=Math.cos(l)*s;n[a]=Math.cos(i)*u,n[a+1]=Math.sin(i)*u,n[a+2]=Math.sin(l)*s}function L(e,t,n,a){S(e,t,n,a,l.Sw.radius)}function I(e,t,n,a){S(e,t,n,a,l.sH.radius)}function v(e,t,n,a){S(e,t,n,a,l.$O.radius)}function R(e,t,n,r,s){const l=e[t],i=e[t+1],u=e[t+2],c=Math.sqrt(l*l+i*i+u*u),o=(0,a.YN)(u/(0===c?1:c)),f=Math.atan2(i,l);n[r++]=j*f,n[r++]=j*o,n[r]=c-s}function P(e,t,n,a){R(e,t,n,a,l.Sw.radius)}function A(e,t,n,a){R(e,t,n,a,l.sH.radius)}function N(e,t,n,a){R(e,t,n,a,l.$O.radius)}function x(e,t,n,a){!function(e,t,n,a,r){const s=T*e[t],l=T*e[t+1],i=e[t+2],u=Math.sin(l),c=Math.cos(l),o=r.radius/Math.sqrt(1-r.eccentricitySquared*u*u);n[a++]=(o+i)*c*Math.cos(s),n[a++]=(o+i)*c*Math.sin(s),n[a++]=(o*(1-r.eccentricitySquared)+i)*u}(e,t,n,a,l.$O)}function G(e,t,n,a){const r=c,s=e[t],i=e[t+1],u=e[t+2];let o,f,p,y,d,m,h,g,w,M,S,L,I,v,R,P,A,N,x,G,b;o=Math.abs(u),f=s*s+i*i,p=Math.sqrt(f),y=f+u*u,d=Math.sqrt(y),G=Math.atan2(i,s),m=u*u/y,h=f/y,v=r.a2/d,R=r.a3-r.a4/d,h>.3?(g=o/d*(1+h*(r.a1+v+m*R)/d),x=Math.asin(g),M=g*g,w=Math.sqrt(1-M)):(w=p/d*(1-m*(r.a5-v-h*R)/d),x=Math.acos(w),M=1-w*w,g=Math.sqrt(M)),S=1-l.$O.eccentricitySquared*M,L=l.$O.radius/Math.sqrt(S),I=r.a6*L,v=p-L*w,R=o-I*g,A=w*v+g*R,P=w*R-g*v,N=P/(I/S+A),x+=N,b=A+P*N/2,u<0&&(x=-x),n[a++]=j*G,n[a++]=j*x,n[a]=b}const b={source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:m},T=(0,a.kU)(1),j=(0,a.KJ)(1),O=.5*Math.PI,E=l.$O.radius,C=E*Math.PI/180,k=180/(E*Math.PI)},45613:(e,t,n)=>{n.d(t,{fromItem:()=>p,n:()=>y});var a=n(49186),r=n(92009),s=n(23154),l=n(22429),i=n(77548),u=n(4513),c=n(80812),o=n(66964),f=n(10407);async function p(e){let{portalItem:t}=e;!t||t instanceof c.default||(t=new c.default(t));const n=await async function(e){await e.load();const t=new l.v;return async function(e){const t=e.className,n=u.S[t];return{constructor:await n(),properties:e.properties}}(await y(e,t))}(t);return new(0,n.constructor)({portalItem:t,...n.properties})}async function y(e,t){switch(e.type){case"3DTiles Service":return e.typeKeywords.includes("3DObject")?{className:"UnsupportedLayer"}:e.typeKeywords.includes("GaussianSplat")?{className:"GaussianSplatLayer"}:{className:"IntegratedMesh3DTilesLayer"};case"CSV":return{className:"CSVLayer"};case"Feature Collection":return async function(e){await e.load();const t=(0,f.Y)(e,"Map Notes"),n=(0,f.Y)(e,"Markup");if(t||n)return{className:"MapNotesLayer"};if((0,f.Y)(e,"Route Layer"))return{className:"RouteLayer"};const a=await e.fetchData();return 1===(0,o.XH)(a)?{className:"FeatureLayer"}:{className:"GroupLayer"}}(e);case"Feature Service":return async function(e,t){const n=await d(e,t);if("object"==typeof n){const{sourceJSON:e,className:t}=n,a={sourceJSON:e};return null!=n.id&&(a.layerId=n.id),{className:t||"FeatureLayer",properties:a}}return{className:"GroupLayer"}}(e,t);case"Feed":case"Stream Service":return{className:"StreamLayer"};case"GeoJson":return{className:"GeoJSONLayer"};case"Group Layer":return{className:"GroupLayer"};case"Image Service":return async function(e,t){await e.load();const n=e.typeKeywords?.map(e=>e.toLowerCase())??[];if(n.includes("elevation 3d layer"))return{className:"ElevationLayer"};if(n.includes("tiled imagery"))return{className:"ImageryTileLayer"};const a=await t.fetchItemData(e),r=a?.layerType;if("ArcGISTiledImageServiceLayer"===r)return{className:"ImageryTileLayer"};if("ArcGISImageServiceLayer"===r)return{className:"ImageryLayer"};const s=await t.fetchServiceMetadata(e.url,{customParameters:await t.fetchCustomParameters(e)}),l=s.cacheType?.toLowerCase(),i=s.capabilities?.toLowerCase().includes("tilesonly"),u=s.tileInfo?.format?.toLowerCase()??"",c=null==l&&["jpg","jpeg","png","png8","png24","png32","mixed"].includes(u);return"map"===l||c||i?{className:"ImageryTileLayer"}:{className:"ImageryLayer"}}(e,t);case"KML":return{className:"KMLLayer"};case"Knowledge Graph Layer":return{className:"KnowledgeGraphLayer"};case"Map Service":return async function(e,t){return await async function(e,t){const{tileInfo:n}=await t.fetchServiceMetadata(e.url,{customParameters:await t.fetchCustomParameters(e)});return n}(e,t)?{className:"TileLayer"}:{className:"MapImageLayer"}}(e,t);case"Media Layer":return{className:"MediaLayer"};case"Scene Service":return async function(e,t){const n=await d(e,t,async()=>{try{if(!e.url)return[];const{serverUrl:n}=await(0,r.L)(e.url,{sceneLayerItem:e}),a=await t.fetchServiceMetadata(n);return a?.tables??[]}catch{return[]}});if("object"==typeof n){const a={};let r;if(null!=n.id?(a.layerId=n.id,r=`${e.url}/layers/${n.id}`):r=e.url,e.typeKeywords?.length)for(const t of Object.keys(i.XX))if(e.typeKeywords.includes(t))return{className:i.XX[t]};const s=await t.fetchServiceMetadata(r,{customParameters:await t.fetchCustomParameters(e,e=>(0,o.pJ)(e)?.customParameters)});return{className:i.XX[s?.layerType]||"SceneLayer",properties:a}}if(!1===n){const n=await t.fetchServiceMetadata(e.url);if("Voxel"===n?.layerType)return{className:"VoxelLayer"}}return{className:"GroupLayer"}}(e,t);case"Video Service":return async function(e,t){return"object"==typeof await d(e,t)?{className:"VideoLayer"}:{className:"GroupLayer"}}(e,t);case"Vector Tile Service":return{className:"VectorTileLayer"};case"WCS":return{className:"WCSLayer"};case"WFS":return{className:"WFSLayer"};case"WMS":return{className:"WMSLayer"};case"WMTS":return{className:"WMTSLayer"};default:throw new a.A("portal:unknown-item-type","Unknown item type '${type}'",{type:e.type})}}async function d(e,t,n){const{url:a,type:r}=e,l="Feature Service"===r;if(!a)return{};if(/\/\d+$/.test(a)){if(l){const n=await t.fetchServiceMetadata(a,{customParameters:await t.fetchCustomParameters(e,e=>(0,o.pJ)(e)?.customParameters)});return(0,i.Gh)(e,(0,i.G$)()),{id:n.id,className:(0,s.K)(n.type),sourceJSON:n}}return{}}if("Video Service"===r){const e=await t.fetchServiceMetadata(a);return!((e.layers?.length??0)>1)&&{}}await e.load();let u=await t.fetchItemData(e);if(l){const{data:n,preferredHost:r}=await(0,o.bO)(u,a,t);(0,i.Gh)(e,r);const s=m(n);if("object"==typeof s){const e=(0,o.rc)(n,s.id);s.className=(0,o.K8)(e?.layerType)}return s}if("Scene Service"===r&&(u=await(0,o.nu)(e,u,t)),(0,o.XH)(u)>0)return m(u);const c=await t.fetchServiceMetadata(a);return n&&(c.tables=await n()),m(c)}function m(e){return 1===(0,o.XH)(e)&&{id:(0,o.pJ)(e)?.id}}},62815:(e,t,n)=>{n.d(t,{N:()=>l});var a=n(83047),r=n(73941),s=n(21325);function l(e,t,n){if(null==t||null==n||n.vcsWkid||(0,s.aI)(t,n)||(0,r.xP)(t)||(0,r.xP)(n))return null;const l=(0,a.G9)(t)/(0,a.G9)(n);if(1===l)return null;switch(e){case"point":case"esriGeometryPoint":return e=>function(e,t){null!=e?.z&&(e.z*=t)}(e,l);case"polyline":case"esriGeometryPolyline":return e=>function(e,t){if(e)for(const n of e.paths)for(const e of n)e.length>2&&(e[2]*=t)}(e,l);case"polygon":case"esriGeometryPolygon":return e=>function(e,t){if(e)for(const n of e.rings)for(const e of n)e.length>2&&(e[2]*=t)}(e,l);case"multipoint":case"esriGeometryMultipoint":return e=>function(e,t){if(e)for(const n of e.points)n.length>2&&(n[2]*=t)}(e,l);case"extent":case"esriGeometryEnvelope":return e=>function(e,t){e&&null!=e.zmin&&null!=e.zmax&&(e.zmin*=t,e.zmax*=t)}(e,l);default:return null}}},66964:(e,t,n)=>{n.d(t,{Ju:()=>o,K8:()=>y,XH:()=>f,_r:()=>l,bO:()=>i,l:()=>p,nu:()=>d,pJ:()=>u,rc:()=>c});var a=n(92009),r=n(23154),s=n(77548);function l(e){const t={id:e.id,name:e.name},n=(0,r.K)(e.type);return"FeatureLayer"!==n&&(t.layerType=n),t}async function i(e,t,n){let a;if(null==e?.layers||null==e?.tables){const r=await n.fetchServiceMetadata(t,{customParameters:u(e)?.customParameters});a=(0,s.G$)(),(e=e||{}).layers=e.layers||r?.layers?.map(l),e.tables=e.tables||r?.tables?.map(l)}return{data:e,preferredHost:a}}function u(e){if(!e)return null;const{layers:t,tables:n}=e;return t?.length?t[0]:n?.length?n[0]:null}function c(e,t){return null==t?null:[...e.layers||[],...e.tables||[]].find(e=>e.id===t)}function o(e,t){return[...e.layers||[],...e.tables||[]].filter(({layerType:e})=>e?t.includes(e):t.includes("ArcGISFeatureLayer"))}function f(e){return(e?.layers?.length??0)+(e?.tables?.length??0)}function p(e){switch(e){case"catalog":return["CatalogLayer"];case"feature":return["ArcGISFeatureLayer"];case"oriented-imagery":return["OrientedImageryLayer"];case"subtype-group":return["SubtypeGroupLayer","SubtypeGroupTable"]}return null}function y(e){switch(e){case"CatalogLayer":return"CatalogLayer";case"OrientedImageryLayer":return"OrientedImageryLayer";case"SubtypeGroupLayer":case"SubtypeGroupTable":return"SubtypeGroupLayer"}return"FeatureLayer"}async function d(e,t,n){if(!e?.url)return t??{};if(t??={},!t.layers){const a=await n.fetchServiceMetadata(e.url);t.layers=a.layers?.map(l)}const{serverUrl:r,portalItem:s}=await(0,a.L)(e.url,{sceneLayerItem:e,customParameters:u(t)?.customParameters}).catch(()=>({serverUrl:null,portalItem:null}));if(null==r)return t.tables=[],t;if(!t.tables&&s){const e=await s.fetchData().catch(()=>null);if(e?.tables)t.tables=e.tables.map(l);else{const a=await n.fetchServiceMetadata(r,{customParameters:u(e)?.customParameters}).catch(()=>null);t.tables=a?.tables?.map(l)}}if(t.tables)for(const e of t.tables)e.url=`${r}/${e.id}`;return t}},91218:(e,t,n)=>{n.r(t),n.d(t,{canProjectWithoutEngine:()=>U,initializeProjection:()=>q,isEqualBaseGCS:()=>Y,isLoaded:()=>b,isLoadedOrLoad:()=>T,isLoadedOrLoadFor:()=>j,load:()=>E,project:()=>C,projectExtent:()=>ne,projectMany:()=>k,projectMultipoint:()=>V,projectOrLoad:()=>K,projectOrLoadMany:()=>D,projectPoint:()=>F,projectPolygon:()=>ee,projectPolyline:()=>X,projectWithZConversion:()=>H,projectWithoutEngine:()=>Z,requiresLoad:()=>O,test:()=>z,tryProjectWithZConversion:()=>W,unload:()=>_});var a=n(49186),r=n(74887),s=n(62788),l=n(95488),i=n(51850),u=n(21276),c=n(73941),o=n(5443),f=n(91075),p=n(48526),y=n(86738),d=n(39829),m=n(82799),h=n(16930),g=n(159),w=n(9762),M=n(37539);function S(e,t,n,a,r,s){return L[0]=e,L[1]=t,L[2]=n,(0,w.projectBuffer)(L,a,0,r,s,0)}const L=(0,i.vt)();var I=n(21325),v=n(62815);let R=null,P=null,A=null,N=null,x={};const G=new l.I;function b(){return!!(P?.isLoaded()&&A?.isLoaded()&&N?.isLoaded())}function T(){return!!b()||((0,s.gc)(G),E(),!1)}function j(e,t){return!e||!t||U(e,t)||T()}function O(e,t){return!U(e,t)&&!b()}async function E(e){null==R&&(R=Promise.all([n.e(3276).then(n.bind(n,83276)).then(e=>(P=e,P.load())),n.e(8377).then(n.bind(n,8377)).then(e=>(A=e,A.load())),n.e(2158).then(n.bind(n,12158)).then(e=>(N=e,N.load()))])),await R,(0,r.Te)(e),G.notify()}function C(e,t,n){return Array.isArray(e)?0===e.length?[]:((0,u.H)(e),k(e,e[0].spatialReference,t,n)):((0,u.f)(e),k([e],e.spatialReference,t,n)[0])}function k(e,t,n,a){if(null==t||null==n)return e;if(U(t,n,a))return e.map(e=>Z(e,t,n));if(null==a?.geographicTransformation&&(0,c.jA)(t))return e.map(e=>Z(e,t,h.A.WGS84)).map(e=>W(e,n));if(null==a?.geographicTransformation&&(0,c.jA)(n))return e.map(e=>W(e,h.A.WGS84)).map(e=>Z(e,h.A.WGS84,n));if(!b())throw new $;if(!a?.geographicTransformation)if(a?.extendedParams)a={...a,geographicTransformation:N.getTransformation(t,n,a.areaOfInterestExtent)||new g.A};else if(!a?.areaOfInterestExtent){const e=function(e,t){return[e.wkid?.toString()??"-1",e.wkt?.toString()??"",e.wkt2?.toString()??"",t.wkid?.toString()??"-1",t.wkt?.toString()??"",t.wkt2?.toString()??""].join()}(t,n);let r=x[e];r||(r=N.getTransformation(t,n)||new g.A,x[e]=r),a={geographicTransformation:r}}return e[0].spatialReference||(e[0].spatialReference=t),e[0]instanceof f.A?P.executeMany(e,n,a):A.executeMany(e,n,a)}function K(e,t){const n=D([e],t);return null!=n.pending?{pending:n.pending,geometry:null}:null!=n.geometries?{pending:null,geometry:n.geometries[0]}:{pending:null,geometry:null}}function D(e,t){if(!b())for(const n of e)if(null!=n&&!(0,I.aI)(n.spatialReference,t)&&(0,I.fn)(n.spatialReference)&&(0,I.fn)(t)&&!U(n.spatialReference,t))return(0,s.gc)(G),{pending:E(),geometries:null};return{pending:null,geometries:e.map(e=>null==e?null:(0,I.aI)(e.spatialReference,t)?e:(0,I.fn)(e.spatialReference)&&(0,I.fn)(t)?W(e,t):null)}}class $ extends a.A{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function _(){R=null,P=null,A=null,N=null,x={}}const z={get loadPromise(){return R}};function W(e,t){try{const n=C(e,t);if(null==n)return null;"xmin"in e&&"xmin"in n&&(n.zmin=e.zmin,n.zmax=e.zmax);const a=(0,v.N)(n.type,e.spatialReference,t);return null!=a&&a(n),n}catch(e){if(!(e instanceof $))throw e;return null}}async function H(e,t,n){const a=e.spatialReference;return null!=a&&null!=t&&await q(a,t,null,n),W(e,t)}function U(e,t,n){return!(n?.areaOfInterestExtent||n?.extendedParams||n?.geographicTransformation)&&(!!(0,I.aI)(e,t)||(0,I.fn)(e)&&(0,I.fn)(t)&&!!(0,M.jd)(e,t))}function Y(e,t){if((0,I.aI)(e,t))return!0;if(!(0,I.fn)(e)||!(0,I.fn)(t))return!1;const n=(0,I.oT)(e)||(0,I.K8)(e)||(0,I.x1)(e),a=(0,I.oT)(t)||(0,I.K8)(t)||(0,I.x1)(t);return n&&a}async function q(e,t,n,a){if(b())return(0,r.NO)(a);if(Array.isArray(e)){for(const{source:t,dest:n,options:r}of e)if(t&&n&&!U(t,n,r))return E(a)}else if(e&&t&&!U(e,t,n))return E(a);return(0,r.NO)(a)}function Z(e,t,n){return e?"x"in e?J(e,t,new y.A,n,0):"xmin"in e?ae(e,t,new o.A,n,0):"rings"in e?te(e,t,new d.A,n,0):"paths"in e?Q(e,t,new m.A,n,0):"points"in e?B(e,t,new p.A,n,0):null:null}function F(e,t,n=t.spatialReference,a=0){return null!=n&&null!=e.spatialReference&&null!=J(e,e.spatialReference,t,n,a)}function J(e,t,n,a,r){se[0]=e.x,se[1]=e.y;const s=e.z;return se[2]=void 0!==s?s:r,(0,w.projectBuffer)(se,t,0,se,a,0)?(n.x=se[0],n.y=se[1],n.spatialReference=a,void 0!==s||(0,c.xP)(a)?(n.z=se[2],n.hasZ=!0):(n.z=void 0,n.hasZ=!1),void 0===e.m?(n.m=void 0,n.hasM=!1):(n.m=e.m,n.hasM=!0),n):null}function V(e,t,n=t.spatialReference,a=0){return null!=e.spatialReference&&null!=n&&null!=B(e,e.spatialReference,t,n,a)}function B(e,t,n,a,r){const{points:s,hasZ:l,hasM:i}=e,u=[],o=s.length,f=[];for(const e of s)f.push(e[0],e[1],l?e[2]:r);if(!(0,w.projectBuffer)(f,t,0,f,a,0,o))return null;const p=l||(0,c.xP)(a);for(let e=0;e<o;++e){const t=3*e,n=f[t],a=f[t+1];p&&i?u.push([n,a,f[t+2],s[e][3]]):p?u.push([n,a,f[t+2]]):i?u.push([n,a,s[e][2]]):u.push([n,a])}return n.points=u,n.spatialReference=a,n.hasZ=l,n.hasM=i,n}function X(e,t,n=t.spatialReference,a=0){return null!=e.spatialReference&&null!=n&&null!=Q(e,e.spatialReference,t,n,a)}function Q(e,t,n,a,r){const{paths:s,hasZ:l,hasM:i}=e,u=[];if(!re(s,l??!1,i??!1,t,u,a,r))return null;const o=l||(0,c.xP)(a);return n.paths=u,n.spatialReference=a,n.hasZ=o,n.hasM=i,n}function ee(e,t,n=t.spatialReference,a=0){return null!=e.spatialReference&&null!=n&&null!=te(e,e.spatialReference,t,n,a)}function te(e,t,n,a,r){const{rings:s,hasZ:l,hasM:i}=e,u=[];if(!re(s,l??!1,i??!1,t,u,a,r))return null;const o=l||(0,c.xP)(a);return n.rings=u,n.spatialReference=a,n.hasZ=o,n.hasM=i,n}function ne(e,t,n=t.spatialReference,a=0){return null!=e.spatialReference&&null!=n&&null!=ae(e,e.spatialReference,t,n,a)}function ae(e,t,n,a,r){const{xmin:s,ymin:l,xmax:i,ymax:u,hasZ:o,hasM:f}=e;if(!S(s,l,o?e.zmin:r,t,se,a))return null;const p=o||(0,c.xP)(a);return n.xmin=se[0],n.ymin=se[1],p&&(n.zmin=se[2]),S(i,u,o?e.zmax:r,t,se,a)?(n.xmax=se[0],n.ymax=se[1],p&&(n.zmax=se[2]),f&&(n.mmin=e.mmin,n.mmax=e.mmax),n.spatialReference=a,n):null}function re(e,t,n,a,r,s,l=0){const i=new Array;for(const n of e)for(const e of n)i.push(e[0],e[1],t?e[2]:l);if(!(0,w.projectBuffer)(i,a,0,i,s,0))return!1;let u=0;r.length=0;const o=t||(0,c.xP)(s);for(const t of e){const e=new Array;for(const a of t)o&&n?e.push([i[u++],i[u++],i[u++],a[3]]):o?e.push([i[u++],i[u++],i[u++]]):n?(e.push([i[u++],i[u++],a[2]]),u++):(e.push([i[u++],i[u++]]),u++);r.push(e)}return!0}const se=(0,i.vt)()},99157:(e,t,n)=>{n.d(t,{A:()=>u});var a,r=n(31635),s=n(65008),l=n(10107),i=(n(44208),n(53966),n(87811),n(64108));let u=a=class extends s.A{constructor(e){super(e),this.isInverse=!1,this.wkt=null,this.wkid=null}getInverse(){return new a({isInverse:!this.isInverse,wkid:this.wkid,wkt:this.wkt})}};(0,r.Cg)([(0,l.MZ)()],u.prototype,"isInverse",void 0),(0,r.Cg)([(0,l.MZ)()],u.prototype,"wkt",void 0),(0,r.Cg)([(0,l.MZ)()],u.prototype,"wkid",void 0),u=a=(0,r.Cg)([(0,i.$)("esri.geometry.operators.support.GeographicTransformationStep")],u)}}]);