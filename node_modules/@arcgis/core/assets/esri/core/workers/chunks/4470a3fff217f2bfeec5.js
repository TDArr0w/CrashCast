"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[1874,7694,9644],{159:(e,t,n)=>{n.d(t,{A:()=>u});var i,r=n(31635),o=n(65008),l=n(10107),s=(n(44208),n(53966),n(87811),n(64108)),a=n(99157);let u=i=class extends o.A{constructor(e){super(e),this.steps=[]}getInverse(){const e=new i;for(let t=this.steps.length-1;t>=0;t--){const n=this.steps[t];e.steps.push(n.getInverse())}return e}};(0,r.Cg)([(0,l.MZ)({type:[a.A],nonNullable:!0})],u.prototype,"steps",void 0),u=i=(0,r.Cg)([(0,s.$)("esri.geometry.operators.support.GeographicTransformation")],u)},4197:(e,t,n)=>{n.d(t,{Vj:()=>u,cj:()=>a,jh:()=>o,l5:()=>s,xm:()=>l});var i=n(34275),r=n(9093);function o(e){return e<=i.y9?new Array(e).fill(0):new Float64Array(e)}function l(e){return((0,i.iu)(e)?e.byteLength/8:e.length)<=i.y9?Array.from(e):new Float64Array(e)}function s(e,t,n){return Array.isArray(e)?e.slice(t,t+n):e.subarray(t,t+n)}function a(e){return[...e]}function u(e){const t=(0,r.vt)();for(let n=0;n<16;++n)t[n]=e[n];return t}},6797:(e,t,n)=>{n.d(t,{Ui:()=>f});var i=n(65008),r=n(7762),o=n(88620);const l=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function s(e){return e instanceof i.A}function a(e){return e instanceof r.A?Object.keys(e.items):s(e)?(0,o.oY)(e).keys():e?Object.keys(e):[]}function u(e,t){return e instanceof r.A?e.items[t]:e[t]}function c(e){return e?e.declaredClass:null}function p(e,t){const n=e.diff;if(n&&"function"==typeof n)return n(e,t);const i=a(e),r=a(t);if(0===i.length&&0===r.length)return;if(!i.length||!r.length||function(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&e.length!==t.length}(e,t))return{type:"complete",oldValue:e,newValue:t};const o=r.filter(e=>!i.includes(e)),f=i.filter(e=>!r.includes(e)),d=i.filter(n=>r.includes(n)&&u(e,n)!==u(t,n)).concat(o,f).sort(),h=c(e);if(h&&l.has(h)&&d.length)return{type:"complete",oldValue:e,newValue:t};let m;const g=s(e)&&s(t);for(const i of d){const r=u(e,i),o=u(t,i);let l;if((g||"function"!=typeof r&&"function"!=typeof o)&&r!==o&&(null!=r||null!=o)){if(n&&n[i]&&"function"==typeof n[i])l=n[i]?.(r,o);else if(r instanceof Date&&o instanceof Date){if(r.getTime()===o.getTime())continue;l={type:"complete",oldValue:r,newValue:o}}else l="object"==typeof r&&"object"==typeof o&&c(r)===c(o)?p(r,o):{type:"complete",oldValue:r,newValue:o};null!=l&&(null!=m?m.diff[i]=l:m={type:"partial",diff:{[i]:l}})}}return m}function f(e,t){if("function"!=typeof e&&"function"!=typeof t&&(null!=e||null!=t))return null==e||null==t||"object"==typeof e&&"object"==typeof t&&c(e)!==c(t)?{type:"complete",oldValue:e,newValue:t}:p(e,t)}},9093:(e,t,n)=>{function i(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}n.d(t,{o8:()=>r,vt:()=>i,zK:()=>o});const o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:o,clone:r,create:i,fromValues:function(e,t,n,i,r,o,l,s,a,u,c,p,f,d,h,m){return[e,t,n,i,r,o,l,s,a,u,c,p,f,d,h,m]}},Symbol.toStringTag,{value:"Module"}))},9762:(e,t,n)=>{n.r(t),n.d(t,{projectBuffer:()=>r});var i=n(37539);function r(e,t,n,r,o,l,s=Math.floor(e.length/3)){const a=(0,i.jd)(t,o);if(null==a)return!1;if(a===i.pO){if(e===r&&n===l)return!0;const t=n+3*s;for(let i=n,o=l;i<t;i++,o++)r[o]=e[i];return!0}const u=n+3*s;for(let t=n,i=l;t<u;t+=3,i+=3)a(e,t,r,i);return!0}},13069:(e,t,n)=>{n.d(t,{AG:()=>s,lk:()=>r,vD:()=>l,yS:()=>o});const i="randomUUID"in crypto;function r(){if(i)return crypto.randomUUID();const e=crypto.getRandomValues(new Uint16Array(8));e[3]=4095&e[3]|16384,e[4]=16383&e[4]|32768;const t=t=>e[t].toString(16).padStart(4,"0");return t(0)+t(1)+"-"+t(2)+"-"+t(3)+"-"+t(4)+"-"+t(5)+t(6)+t(7)}function o(){return`{${r().toUpperCase()}}`}function l(){return`{${r()}}`}function s(e){const t=e.toUpperCase();return e.startsWith("{")?t:`{${t}}`}},16494:(e,t,n)=>{n.d(t,{Nd:()=>s,W5:()=>l});var i=n(37330);const r=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"].reduce((e,t)=>(e[t]=[],e),{}),o=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],l=new i.I({whiteList:r,onTagAttr:(e,t,n)=>{const i=`${t}="${n}"`;if(o.includes(t))return i},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0),s=new i.I({whiteList:{br:[]},stripIgnoreTag:!0,escapeHtml:e=>e},!1)},17311:(e,t,n)=>{n.d(t,{A:()=>h});var i=n(31635),r=n(65008),o=n(4576),l=n(60999),s=n(7762),a=n(16494),u=n(10107),c=(n(44208),n(53966),n(64108)),p=n(30524),f=n(43668);const d=/<br\s*\/*>/gi;let h=class extends r.A{constructor(e){super(e),this._featureUtils=null,this.effectivePopupTemplate=null}get _arcadeTask(){return this.expressionsUsedInTitle.length>0?this._get("_arcadeTask")||(0,l.UT)(()=>(0,f.l)()):null}get featureUtilsPromise(){return this._get("featureUtilsPromise")??n.e(9926).then(n.bind(n,29926)).then(e=>this._featureUtils=e)}get calculatedExpressions(){const e=new s.A;if(!this.expressionsUsedInTitle.length)return e;if(!this._arcadeTask?.value){for(const t of this.expressionsUsedInTitle??[])e.push({name:t.name,invalid:!0});return e}for(const t of this.expressionsUsedInTitle)try{const n=this._arcadeTask.value.arcade.parseScript(t.expression,["$layer","$map","$datastore"]);if(n.isAsync){e.push({name:t.name,invalid:!0});break}e.push({name:t.name,syntax:n,invalid:!1,func:this._arcadeTask.value.arcade.compileScript(n,{vars:{$feature:"any"}})})}catch{e.push({name:t.name,invalid:!0});break}return e}get expressionsUsedInTitle(){let e=this.effectivePopupTemplate?.title??"";return"string"!=typeof e?[]:(e=e.toLowerCase(),this.effectivePopupTemplate?.expressionInfos?.filter(t=>e.includes(`{expression/${t.name.toLowerCase()}}`))??[])}get fieldInfoMap(){return this._featureUtils?this._createFieldInfoMap(this._featureUtils.getAllFieldInfos(this.effectivePopupTemplate)):null}get hasBadExpressions(){return this.calculatedExpressions.some(e=>!0===e.invalid)}get requiredFields(){const e=new Set;if(this._arcadeTask?.value&&!this.hasBadExpressions)for(const t of this.calculatedExpressions?.toArray()??[])try{const n=this._arcadeTask.value.arcade.extractFieldLiterals(t.syntax);for(const t of n){const n=t.split("."),i=this.fieldsIndex.get(n.at(-1)??"");i&&e.add(i.name)}}catch{}const t=this._extractFieldNames(this.workingTitle);for(const n of t){const t=this.fieldsIndex.get(n);t&&e.add(t.name)}return null!=this.objectIdField&&e.add(this.objectIdField),e}get titleFromDisplayField(){let e="";return this.displayField&&(e=this.fieldsIndex.get(this.displayField)?.name??""),e||(e=this.fieldsIndex.get(this.objectIdField)?.name??""),e?`{${e}}`:""}get workingTitle(){const e=this.effectivePopupTemplate?this.effectivePopupTemplate.title:"";return""===e||null==e||this.hasBadExpressions||"string"!=typeof e?this.titleFromDisplayField:e}async getTitle(e,t,n){const i=t.getObjectId()??t.attributes[e.objectIdField];return(await this.getTitles(e,[t],n)).get(i)??""}async getTitles(e,t,n){const i=new Map,r=n?.timeZone??"system";try{const[{substituteFieldsInLinksAndAttributes:o}]=await Promise.all([this.featureUtilsPromise,this._arcadeTask?.promise]);n?.fetchMissingFields&&(t=await this._checkAndReQueryGraphics(e,t));const{fieldInfoMap:l,workingTitle:s}=this,u=s&&l;t.forEach(t=>{const c=t.getObjectId()??t.attributes[e.objectIdField];let p=u?o({attributes:t.attributes,expressionAttributes:null,fieldInfoMap:l,globalAttributes:this._createFormattedAttributes(e,t,r).global,layer:e,text:s}):"";n?.removeHTML&&(p=a.Nd.sanitize(p).replaceAll(d," ")),i.set(c,p)})}catch{}return i}async _checkAndReQueryGraphics(e,t){const n=t.map(t=>t.getObjectId()??t.attributes[e.objectIdField]).filter(o.Ru);if(n.length!==t.length)return t;if(t.some(e=>!(0,p.Kl)(e,this.requiredFields))){const i=e.createQuery();i.where="1=1",i.outFields=[...this.requiredFields],i.objectIds=n;const r=await e.queryFeatures(i);if(r?.features.length===t.length)return r.features}return t}_createFieldInfoMap(e){const t=new Map;if(!e)return t;for(const n of e){if(!n.fieldName)continue;const e=this.fieldsIndex.get(n.fieldName),i=e?.name??n.fieldName;n.fieldName=i,t.set(i.toLowerCase(),n)}return t}_createFormattedAttributes(e,t,n="system"){const i=this.effectivePopupTemplate?.fieldInfos??[],r={};if(!this._featureUtils)return{};if(!this.hasBadExpressions&&this.calculatedExpressions.length>0&&this._arcadeTask?.value){const n=this._arcadeTask.value.Feature.createFromGraphicLikeObject(t.geometry,t.attributes,e,null);for(const e of this.calculatedExpressions)try{r[`expression/${e.name}`]=e.func({vars:{$feature:n}})}catch{}}const o={...t.attributes,...r};return{global:this._featureUtils.formatAttributes({fieldInfos:i,attributes:o,graphic:t,timeZone:n,layer:e,fieldInfoMap:this.fieldInfoMap}),content:[]}}_extractFieldNames(e){return(0,p.nw)(e).filter(e=>!(e.startsWith("relationships/")||e.startsWith("expression/")))}};(0,i.Cg)([(0,u.MZ)({readOnly:!0})],h.prototype,"_arcadeTask",null),(0,i.Cg)([(0,u.MZ)()],h.prototype,"_featureUtils",void 0),(0,i.Cg)([(0,u.MZ)({readOnly:!0})],h.prototype,"featureUtilsPromise",null),(0,i.Cg)([(0,u.MZ)({readOnly:!0})],h.prototype,"calculatedExpressions",null),(0,i.Cg)([(0,u.MZ)()],h.prototype,"displayField",void 0),(0,i.Cg)([(0,u.MZ)()],h.prototype,"effectivePopupTemplate",void 0),(0,i.Cg)([(0,u.MZ)()],h.prototype,"expressionsUsedInTitle",null),(0,i.Cg)([(0,u.MZ)()],h.prototype,"fieldsIndex",void 0),(0,i.Cg)([(0,u.MZ)()],h.prototype,"fieldInfoMap",null),(0,i.Cg)([(0,u.MZ)()],h.prototype,"fields",void 0),(0,i.Cg)([(0,u.MZ)()],h.prototype,"objectIdField",void 0),(0,i.Cg)([(0,u.MZ)()],h.prototype,"requiredFields",null),h=(0,i.Cg)([(0,c.$)("esri.layers.support.TitleCreator")],h)},29005:(e,t,n)=>{n.d(t,{A:()=>c});var i=n(31635),r=n(69540),o=n(66552),l=n(25482),s=n(10107),a=(n(44208),n(53966),n(87811),n(64108));const u=new o.J({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let c=class extends((0,r.OU)(l.o)){constructor(e){super(e),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};(0,i.Cg)([(0,s.MZ)({json:{write:!0}})],c.prototype,"name",void 0),(0,i.Cg)([(0,s.MZ)({json:{write:!0}})],c.prototype,"description",void 0),(0,i.Cg)([(0,s.MZ)({json:{read:u.read,write:u.write}})],c.prototype,"drawingTool",void 0),(0,i.Cg)([(0,s.MZ)({json:{write:!0}})],c.prototype,"prototype",void 0),(0,i.Cg)([(0,s.MZ)({json:{write:!0}})],c.prototype,"thumbnail",void 0),c=(0,i.Cg)([(0,a.$)("esri.layers.support.FeatureTemplate")],c)},32730:(e,t,n)=>{n.d(t,{BI:()=>g,D3:()=>h,XJ:()=>m,lc:()=>d,mX:()=>M,rU:()=>y,tH:()=>I});var i=n(799);const r="__begin__",o="__end__",l=new RegExp(r,"ig"),s=new RegExp(o,"ig"),a=new RegExp("^"+r,"i"),u=new RegExp(o+"$","i"),c='"',p=c+" + ",f=" + "+c;function d(e){return e.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function h(e){return e.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function m(e){const t={expression:"",type:"none"};return e.labelExpressionInfo?e.labelExpressionInfo.value?(t.expression=e.labelExpressionInfo.value,t.type="conventional"):e.labelExpressionInfo.expression&&(t.expression=e.labelExpressionInfo.expression,t.type="arcade"):null!=e.labelExpression&&(t.expression=d(e.labelExpression),t.type="conventional"),t}function g(e){const t=m(e);if(!t)return null;switch(t.type){case"conventional":return M(t.expression);case"arcade":return t.expression}return null}function y(e){const t=m(e);if(!t)return null;switch(t.type){case"conventional":return function(e){const t=e?.match(v);return t?.[1].trim()||null}(t.expression);case"arcade":return I(t.expression)}return null}function M(e){let t;return e?(t=(0,i.HC)(e,e=>r+'$feature["'+e+'"]'+o),t=a.test(t)?t.replace(a,""):c+t,t=u.test(t)?t.replace(u,""):t+c,t=t.replaceAll(l,p).replaceAll(s,f)):t='""',t}const v=/^\s*\{([^}]+)\}\s*$/i,w=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,b=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,x=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function I(e){if(!e)return null;let t=w.exec(e)||b.exec(e);return t?t[1]||t[3]:(t=x.exec(e),t?t[2]:null)}},37352:(e,t,n)=>{n.d(t,{A:()=>u});var i,r=n(31635),o=n(7762),l=n(25482),s=n(10107),a=(n(44208),n(53966),n(87811),n(64108));let u=i=class extends l.o{constructor(e){super(e),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new o.A}clone(){return new i({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};(0,r.Cg)([(0,s.MZ)({type:String,json:{write:{isRequired:!0}}})],u.prototype,"floorField",void 0),(0,r.Cg)([(0,s.MZ)({json:{read:!1,write:!1}})],u.prototype,"viewAllMode",void 0),(0,r.Cg)([(0,s.MZ)({json:{read:!1,write:!1}})],u.prototype,"viewAllLevelIds",void 0),u=i=(0,r.Cg)([(0,a.$)("esri.layers.support.LayerFloorInfo")],u)},37539:(e,t,n)=>{n.d(t,{pO:()=>m,jd:()=>f,Tp:()=>d,w5:()=>p});var i=n(34727),r=n(83047),o=n(73941),l=n(79258);Math.PI;const s=l.$O.radius,a=l.$O.eccentricitySquared,u={a1:s*a,a2:s*a*s*a,a3:s*a*a/2,a4:s*a*s*a*2.5,a5:s*a+s*a*a/2,a6:1-a};l.$O.radius,l.$O.flattening,l.Sw.radius,l.Sw.flattening,l.sH.radius,l.sH.flattening,l.sH.radius;var c=n(21325);const p={2:{5:m,7:null,9:null,10:m,1:I,6:null,8:null,0:null,3:y,11:M,2:m,4:j},5:{5:m,7:null,9:null,10:m,1:I,6:null,8:null,0:null,3:y,11:M,2:m,4:j},7:{5:null,7:m,9:null,10:m,1:null,6:x,8:null,0:null,3:null,11:null,2:null,4:null},9:{5:null,7:null,9:m,10:m,1:null,6:null,8:b,0:null,3:null,11:null,2:null,4:null},3:{5:g,7:null,9:null,10:g,1:function(e,t,n,i){const r=e[t]/N,o=O-2*Math.atan(Math.exp(-e[t+1]/N)),l=N+e[t+2],s=Math.cos(o)*l;n[i]=Math.cos(r)*s,n[i+1]=Math.sin(r)*s,n[i+2]=Math.sin(o)*l},6:null,8:null,0:null,3:m,11:function(e,t,n,i){g(e,t,n,i),M(n,i,n,i)},2:g,4:function(e,t,n,i){g(e,t,n,i),j(n,i,n,i)}},4:{5:C,7:null,9:null,10:C,1:function(e,t,n,i){C(e,t,n,i),I(n,i,n,i)},6:null,8:null,0:null,3:function(e,t,n,i){C(e,t,n,i),y(n,i,n,i)},11:function(e,t,n,i){C(e,t,n,i),M(n,i,n,i)},2:C,4:m},1:{5:_,7:null,9:null,10:_,1:m,6:null,8:null,0:null,3:function(e,t,n,i){_(e,t,n,i),y(n,i,n,i)},11:function(e,t,n,i){_(e,t,n,i),M(n,i,n,i)},2:_,4:function(e,t,n,i){_(e,t,n,i),j(n,i,n,i)}},6:{5:null,7:A,9:null,10:A,1:null,6:m,8:null,0:null,3:null,11:null,2:null,4:null},8:{5:null,7:null,9:F,10:F,1:null,6:null,8:m,0:null,3:null,11:null,2:null,4:null},0:{5:null,7:null,9:null,10:null,1:null,6:null,8:null,0:m,3:null,11:null,2:null,4:null},10:{5:m,7:m,9:m,10:m,1:I,6:x,8:b,0:null,3:y,11:M,2:m,4:j},11:{5:v,7:null,9:null,10:v,1:function(e,t,n,i){v(e,t,n,i),I(n,i,n,i)},6:null,8:null,0:null,3:function(e,t,n,i){v(e,t,n,i),y(n,i,n,i)},11:m,2:v,4:function(e,t,n,i){v(e,t,n,i),j(n,i,n,i)}}};function f(e,t){return d(e,t)?.projector}function d(e,t){if(null==e||null==t)return null;if(R.source.spatialReference===e&&R.dest.spatialReference===t)return R;const n=h(e,R.source),i=h(t,R.dest);return 0===n&&0===i?(0,c.aI)(e,t)?R.projector=m:R.projector=null:R.projector=p[n][i],R}function h(e,t){return e?t.spatialReference===e?t.spatialReferenceId:(t.spatialReference=e,"metersPerUnit"in t&&(t.metersPerUnit=(0,r.GA)(e,1)),(0,o.jA)(e)?t.spatialReferenceId=1:(0,c.oT)(e)?t.spatialReferenceId=2:(0,c.K8)(e)?t.spatialReferenceId=3:(0,c.r1)(e)?t.spatialReferenceId=11:e.wkt===o.Ro.wkt?t.spatialReferenceId=4:4490===e.wkid?t.spatialReferenceId=5:e.wkt===o.FY.wkt?t.spatialReferenceId=6:e.wkt===o.LJ.wkt?t.spatialReferenceId=8:(0,c.q8)(e)?t.spatialReferenceId=7:(0,c.KQ)(e)?t.spatialReferenceId=9:t.spatialReferenceId=0):0}function m(e,t,n,i){e!==n&&(n[i++]=e[t++],n[i++]=e[t++],n[i]=e[t])}function g(e,t,n,i){n[i]=S*(e[t]/N),n[i+1]=S*(O-2*Math.atan(Math.exp(-e[t+1]/N))),n[i+2]=e[t+2]}function y(e,t,n,r){!function(e,t,n,r,o){const l=.4999999*Math.PI,s=(0,i.qE)(Z*e[t+1],-l,l),a=Math.sin(s);n[r++]=Z*e[t]*o.radius,n[r++]=o.halfSemiMajorAxis*Math.log((1+a)/(1-a)),n[r]=e[t+2]}(e,t,n,r,l.$O)}function M(e,t,n,i){n[i]=e[t]*E,n[i+1]=e[t+1]*E,n[i+2]=e[t+2]}function v(e,t,n,i){n[i]=e[t]*P,n[i+1]=e[t+1]*P,n[i+2]=e[t+2]}function w(e,t,n,i,r){const o=r+e[t+2],l=Z*e[t+1],s=Z*e[t],a=Math.cos(l)*o;n[i]=Math.cos(s)*a,n[i+1]=Math.sin(s)*a,n[i+2]=Math.sin(l)*o}function b(e,t,n,i){w(e,t,n,i,l.Sw.radius)}function x(e,t,n,i){w(e,t,n,i,l.sH.radius)}function I(e,t,n,i){w(e,t,n,i,l.$O.radius)}function T(e,t,n,r,o){const l=e[t],s=e[t+1],a=e[t+2],u=Math.sqrt(l*l+s*s+a*a),c=(0,i.YN)(a/(0===u?1:u)),p=Math.atan2(s,l);n[r++]=S*p,n[r++]=S*c,n[r]=u-o}function F(e,t,n,i){T(e,t,n,i,l.Sw.radius)}function A(e,t,n,i){T(e,t,n,i,l.sH.radius)}function _(e,t,n,i){T(e,t,n,i,l.$O.radius)}function j(e,t,n,i){!function(e,t,n,i,r){const o=Z*e[t],l=Z*e[t+1],s=e[t+2],a=Math.sin(l),u=Math.cos(l),c=r.radius/Math.sqrt(1-r.eccentricitySquared*a*a);n[i++]=(c+s)*u*Math.cos(o),n[i++]=(c+s)*u*Math.sin(o),n[i++]=(c*(1-r.eccentricitySquared)+s)*a}(e,t,n,i,l.$O)}function C(e,t,n,i){const r=u,o=e[t],s=e[t+1],a=e[t+2];let c,p,f,d,h,m,g,y,M,v,w,b,x,I,T,F,A,_,j,C,R;c=Math.abs(a),p=o*o+s*s,f=Math.sqrt(p),d=p+a*a,h=Math.sqrt(d),C=Math.atan2(s,o),m=a*a/d,g=p/d,I=r.a2/h,T=r.a3-r.a4/h,g>.3?(y=c/h*(1+g*(r.a1+I+m*T)/h),j=Math.asin(y),v=y*y,M=Math.sqrt(1-v)):(M=f/h*(1-m*(r.a5-I-g*T)/h),j=Math.acos(M),v=1-M*M,y=Math.sqrt(v)),w=1-l.$O.eccentricitySquared*v,b=l.$O.radius/Math.sqrt(w),x=r.a6*b,I=f-b*M,T=c-x*y,A=M*I+y*T,F=M*T-y*I,_=F/(x/w+A),j+=_,R=A+F*_/2,a<0&&(j=-j),n[i++]=S*C,n[i++]=S*j,n[i]=R}const R={source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:m},Z=(0,i.kU)(1),S=(0,i.KJ)(1),O=.5*Math.PI,N=l.$O.radius,E=N*Math.PI/180,P=180/(N*Math.PI)},41366:(e,t,n)=>{n.d(t,{K:()=>f,Q:()=>u});var i=n(31635),r=n(66552),o=n(53966),l=n(10107),s=(n(44208),n(87811),n(93223)),a=n(64108);const u=(0,r.O)()({naturalLog:"natural-log",squareRoot:"square-root",percentOfTotal:"percent-of-total",log:"log",field:"field"}),c="percent-of-total",p="field",f=e=>{const t=e;let n=class extends t{constructor(){super(...arguments),this.normalizationField=null,this.normalizationMaxValue=null,this.normalizationMinValue=null,this.normalizationTotal=null}get normalizationType(){let e=this._get("normalizationType");const t=!!this.normalizationField,n=null!=this.normalizationTotal;return t||n?(e=t&&p||n&&c||null,t&&n&&o.A.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):e!==p&&e!==c||(e=null),e}set normalizationType(e){this._set("normalizationType",e)}};return(0,i.Cg)([(0,l.MZ)({type:String,json:{name:"parameters.normalizationField",write:!0}})],n.prototype,"normalizationField",void 0),(0,i.Cg)([(0,l.MZ)({type:Number,json:{name:"parameters.normalizationMaxValue",write:!0}})],n.prototype,"normalizationMaxValue",void 0),(0,i.Cg)([(0,l.MZ)({type:Number,json:{name:"parameters.normalizationMinValue",write:!0}})],n.prototype,"normalizationMinValue",void 0),(0,i.Cg)([(0,l.MZ)({type:Number,json:{name:"parameters.normalizationTotal",write:!0}})],n.prototype,"normalizationTotal",void 0),(0,i.Cg)([(0,s.e)(u,{name:"parameters.normalizationType"})],n.prototype,"normalizationType",null),n=(0,i.Cg)([(0,a.$)("esri.rest.support.NormalizationBinParametersMixin")],n),n}},41560:(e,t,n)=>{n.d(t,{Ch:()=>l,mW:()=>o});var i=n(34727),r=n(39516);function o(e,t){return{...t,filterMode:e.mode}}function l(e,t,n){const o=function(e){if("manual"===u(e))return null;const t=[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY];for(const{minScale:n,maxScale:i}of e.filters)t[0]=Math.max(t[0],c(n)),t[1]=Math.min(t[1],p(i));return t}(e);if(o&&((0,i.gg)(t,o[0])||(0,i.ZH)(n,o[1])))return"";const l=Array.from(s(e,t,n)),a=function(e,t,n){if(0===e.length)return!0;const r=c(e.at(0)?.minScale),o=p(e.at(-1)?.maxScale);if((0,i.ZH)(r,t)||(0,i.gg)(o,n))return!0;for(let t=0;t<e.length-1;t++){const n=e[t],r=e[t+1];if((0,i.ZH)(c(r.minScale),p(n.maxScale)))return!0}return!1}(l,t,n)?"1=1":l.map(e=>e.where||"1=1").reduce((e,t)=>(0,r.IW)(e,t),"");return a&&"1=1"!==a?a:""}function*s(e,t,n){if("manual"===u(e)){const t=e.filters.find(t=>t.id===e.activeFilterId);t&&(yield t)}else{"object"==typeof t&&(t=t.scale);for(const i of e.filters)a(i.minScale,i.maxScale,t,n)&&(yield i)}}function a(e,t,n,r){return e=c(e),n=c(n),t=p(t),!(!(0,i.Sp)(n,e)&&(r??n)>e||(0,i.Hx)(t,n)||void 0!==r&&(0,i.Sp)(r,e))}function u(e){return"mode"in e?e.mode:e.filterMode}function c(e){return e||Number.POSITIVE_INFINITY}function p(e){return e||0}},45067:(e,t,n)=>{n.d(t,{A:()=>p});var i=n(31635),r=n(69540),o=n(66552),l=n(25482),s=n(10107),a=(n(44208),n(53966),n(87811),n(64108));const u=new o.J({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),c=new o.J({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let p=class extends((0,r.OU)(l.o)){constructor(e){super(e),this.cardinality=null,this.catalogId=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};(0,i.Cg)([(0,s.MZ)({json:{read:u.read,write:u.write}})],p.prototype,"cardinality",void 0),(0,i.Cg)([(0,s.MZ)({json:{name:"catalogID"}})],p.prototype,"catalogId",void 0),(0,i.Cg)([(0,s.MZ)({json:{read:!0,write:!0}})],p.prototype,"composite",void 0),(0,i.Cg)([(0,s.MZ)({json:{read:!0,write:!0}})],p.prototype,"id",void 0),(0,i.Cg)([(0,s.MZ)({json:{read:!0,write:!0}})],p.prototype,"keyField",void 0),(0,i.Cg)([(0,s.MZ)({json:{read:!0,write:!0}})],p.prototype,"keyFieldInRelationshipTable",void 0),(0,i.Cg)([(0,s.MZ)({json:{read:!0,write:!0}})],p.prototype,"name",void 0),(0,i.Cg)([(0,s.MZ)({json:{read:!0,write:!0}})],p.prototype,"relatedTableId",void 0),(0,i.Cg)([(0,s.MZ)({json:{read:!0,write:!0}})],p.prototype,"relationshipTableId",void 0),(0,i.Cg)([(0,s.MZ)({json:{read:c.read,write:c.write}})],p.prototype,"role",void 0),p=(0,i.Cg)([(0,a.$)("esri.layers.support.Relationship")],p)},50498:(e,t,n)=>{n.d(t,{Ye:()=>p,gy:()=>c,yR:()=>f});var i=n(66552),r=n(5443),o=n(91075),l=n(48526),s=n(86738),a=n(39829),u=n(82799);const c=(0,i.O)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),p=(0,i.O)()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),f={base:o.A,key:"type",typeMap:{extent:r.A,multipoint:l.A,point:s.A,polyline:u.A,polygon:a.A}}},52106:(e,t,n)=>{n.d(t,{A:()=>x});var i,r=n(31635),o=n(37838),l=n(69540),s=n(51447),a=n(25482),u=n(53966),c=n(36708),p=n(24326),f=n(10107),d=(n(44208),n(87811),n(64108)),h=n(12195),m=n(65864),g=n(50498),y=n(55156),M=n(60950),v=n(54339),w=n(33910);function b(e){if(null==e)return null;const t={};for(const n in e){const i=e[n];i&&(t[n]=i.toJSON())}return 0!==Object.keys(t).length?t:null}let x=class extends((0,l.OU)(a.o)){static{i=this}constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:(0,p.c)(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&(0,s.eF)(u.A.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const t=this._get("aggregateGeometries");JSON.stringify(t)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const t=this._get("attributes");t!==e&&(this._set("attributes",e),this._notifyLayer("attributes",t,e))}set geometry(e){const t=this._get("geometry");t!==e&&(this._set("geometry",e),"mesh"!==e?.type&&this._notifyLayer("geometry",t,e))}set popupTemplate(e){const t=this._get("popupTemplate");t!==e&&(this._set("popupTemplate",e),this._notifyLayer("popupTemplate",t,e))}set symbol(e){const t=this._get("symbol");t!==e&&(this._set("symbol",e),this._notifyLayer("symbol",t,e))}get version(){return this._version}set visible(e){const t=this._get("visible");t!==e&&(this._set("visible",e),this._notifyLayer("visible",t,e))}cloneShallow(){return new i({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const t=(0,M.E_)(this.origin);if(t)return t.popupTemplate??(e?t.defaultPopupTemplate:null)??null;const n=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const t of[n,this.sourceLayer,this.layer])if(t&&"object"==typeof t){if("popupTemplate"in t&&t.popupTemplate)return t.popupTemplate;if(e&&"defaultPopupTemplate"in t&&null!=t.defaultPopupTemplate)return t.defaultPopupTemplate}return null}getAttribute(e){return this.attributes?.[e]}setAttribute(e,t){if(this.attributes){const n=this.getAttribute(e);this.attributes[e]=t,this._notifyLayer("attributes",n,t,e)}else this.attributes={[e]:t}}getObjectId(){const e=(0,y.I)(this.origin);if(e)return(0,v.r)(this,e);const t=this.sourceLayer??this.layer;return t?(0,v.r)(this,t):null}getGlobalId(){const e=(0,y.I)(this.origin);if(e?.globalIdField)return this.getAttribute(e.globalIdField);const t=this.sourceLayer??this.layer;return t&&"globalIdField"in t&&t.globalIdField?this.getAttribute(t.globalIdField):null}toJSON(){return{aggregateGeometries:b(this.aggregateGeometries),geometry:null!=this.geometry?this.geometry.toJSON():null,symbol:null!=this.symbol?this.symbol.toJSON():null,attributes:(0,h.W)(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(e={}){const{geometry:t}=this;if("mesh"===t?.type){const n={origin:t.origin,transform:t.transform};this._notifyLayer("origin-transform",n,n,e.action)}}_notifyLayer(e,t,n,i){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const r={graphic:this,property:e,oldValue:t,newValue:n};"origin-transform"===e&&(r.action=i),"attributes"===e&&(r.attributeName=i),this.layer.graphicChanged(r)}_watchMeshGeometryChanges(){this.addHandles([(0,c.z7)(()=>"mesh"===this.geometry?.type&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0,({localMatrix:e,origin:t})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===t||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=t,this.notifyMeshTransformChanged())}),(0,c.z7)(()=>"mesh"===this.geometry?.type?{vertexAttributes:this.geometry.vertexAttributes}:void 0,()=>{const e=this.geometry;"mesh"===e?.type&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=e.transform?.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(e,t)=>e===t,sync:!0})])}};(0,r.Cg)([(0,f.MZ)({value:null,json:{read:function(e){if(!e)return null;const t={};for(const n in e){const i=(0,m.rS)(e[n]);i&&(t[n]=i)}return 0!==Object.keys(t).length?t:null}}})],x.prototype,"aggregateGeometries",null),(0,r.Cg)([(0,f.MZ)({value:null})],x.prototype,"attributes",null),(0,r.Cg)([(0,f.MZ)({value:null,types:g.yR,json:{read:m.rS}})],x.prototype,"geometry",null),(0,r.Cg)([(0,f.MZ)({type:Boolean})],x.prototype,"isAggregate",void 0),(0,r.Cg)([(0,f.MZ)({clonable:!1})],x.prototype,"layer",void 0),(0,r.Cg)([(0,f.MZ)({clonable:"reference"})],x.prototype,"origin",void 0),(0,r.Cg)([(0,f.MZ)({type:o.A,value:null})],x.prototype,"popupTemplate",null),(0,r.Cg)([(0,f.MZ)({clonable:"reference"})],x.prototype,"sourceLayer",void 0),(0,r.Cg)([(0,f.MZ)({value:null,types:w.Es})],x.prototype,"symbol",null),(0,r.Cg)([(0,f.MZ)({clonable:!1,json:{read:!1,write:!1}})],x.prototype,"_version",void 0),(0,r.Cg)([(0,f.MZ)({type:Boolean,value:!0})],x.prototype,"visible",null),x=i=(0,r.Cg)([(0,d.$)("esri.Graphic")],x)},52136:(e,t,n)=>{n.d(t,{p:()=>l});var i=n(31635),r=n(10107),o=(n(44208),n(53966),n(87811),n(64108));const l=e=>{const t=e;let n=class extends t{get apiKey(){return this._isOverridden("apiKey")?this._get("apiKey"):"portalItem"in this?this.portalItem?.apiKey:null}set apiKey(e){null!=e?this._override("apiKey",e):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return(0,i.Cg)([(0,r.MZ)({type:String})],n.prototype,"apiKey",null),n=(0,i.Cg)([(0,o.$)("esri.layers.mixins.APIKeyMixin")],n),n}},54339:(e,t,n)=>{function i(e,t){switch(t.type){case"object-id":case"unique-id-simple":return e.attributes[t.fieldName];case"unique-id-composite":{const n=[];for(const i of t.fieldNames)n.push(e.attributes[i]??null);return JSON.stringify(n)}}}function r(e,t){if("uniqueIdFields"in t&&t.uniqueIdFields?.length){if(1===t.uniqueIdFields.length)return e.attributes?.[t.uniqueIdFields[0]];const n=t.uniqueIdFields.map(t=>e.attributes?.[t]);return JSON.stringify(n)}return"objectIdField"in t&&t.objectIdField?e.attributes?.[t.objectIdField]:null}n.d(t,{W:()=>i,r:()=>r})},55156:(e,t,n)=>{n.d(t,{I:()=>r,e:()=>i});const i=Symbol("idFieldsProviderSymbol");function r(e){return(t=e)&&i in t?e[i]:void 0;var t}},62815:(e,t,n)=>{n.d(t,{N:()=>l});var i=n(83047),r=n(73941),o=n(21325);function l(e,t,n){if(null==t||null==n||n.vcsWkid||(0,o.aI)(t,n)||(0,r.xP)(t)||(0,r.xP)(n))return null;const l=(0,i.G9)(t)/(0,i.G9)(n);if(1===l)return null;switch(e){case"point":case"esriGeometryPoint":return e=>function(e,t){null!=e?.z&&(e.z*=t)}(e,l);case"polyline":case"esriGeometryPolyline":return e=>function(e,t){if(e)for(const n of e.paths)for(const e of n)e.length>2&&(e[2]*=t)}(e,l);case"polygon":case"esriGeometryPolygon":return e=>function(e,t){if(e)for(const n of e.rings)for(const e of n)e.length>2&&(e[2]*=t)}(e,l);case"multipoint":case"esriGeometryMultipoint":return e=>function(e,t){if(e)for(const n of e.points)n.length>2&&(n[2]*=t)}(e,l);case"extent":case"esriGeometryEnvelope":return e=>function(e,t){e&&null!=e.zmin&&null!=e.zmax&&(e.zmin*=t,e.zmax*=t)}(e,l);default:return null}}},70328:(e,t,n)=>{n.d(t,{BI:()=>v,DC:()=>p,Ej:()=>d,Ie:()=>y,Jt:()=>M,Ne:()=>h,RF:()=>c,aI:()=>b,fA:()=>l,gE:()=>a,hZ:()=>g,iT:()=>f,is:()=>w,qv:()=>x,vI:()=>m,vY:()=>s,v_:()=>I,vt:()=>o,w1:()=>u});var i=n(5443),r=(n(19419),n(4197));function o(e=I){return[e[0],e[1],e[2],e[3],e[4],e[5]]}function l(e,t,n,i,r,l,s=o()){return s[0]=e,s[1]=t,s[2]=n,s[3]=i,s[4]=r,s[5]=l,s}function s(e,t=o()){return function(e,t,n,i=o()){return g(i,x),function(e,t,n=0,i=t.length/3){let r=e[0],o=e[1],l=e[2],s=e[3],a=e[4],u=e[5];for(let e=0;e<i;e++)r=Math.min(r,t[n+3*e]),o=Math.min(o,t[n+3*e+1]),l=Math.min(l,t[n+3*e+2]),s=Math.max(s,t[n+3*e]),a=Math.max(a,t[n+3*e+1]),u=Math.max(u,t[n+3*e+2]);e[0]=r,e[1]=o,e[2]=l,e[3]=s,e[4]=a,e[5]=u}(i,e,t,n),i}(e,0,e.length/3,t)}function a(e,t=(0,r.jh)(24)){const[n,i,o,l,s,a]=e;return t[0]=n,t[1]=i,t[2]=o,t[3]=n,t[4]=i,t[5]=a,t[6]=n,t[7]=s,t[8]=o,t[9]=n,t[10]=s,t[11]=a,t[12]=l,t[13]=i,t[14]=o,t[15]=l,t[16]=i,t[17]=a,t[18]=l,t[19]=s,t[20]=o,t[21]=l,t[22]=s,t[23]=a,t}function u(e,t){const n=isFinite(e[2])||isFinite(e[5]);return new i.A(n?{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],zmin:e[2],zmax:e[5],spatialReference:t}:{xmin:e[0],xmax:e[3],ymin:e[1],ymax:e[4],spatialReference:t})}function c(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[3]),e[4]=Math.max(e[4],t[4]),e[5]=Math.max(e[5],t[5])}function p(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[3]=Math.max(e[3],t[2]),e[4]=Math.max(e[4],t[3])}function f(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.min(e[2],t[2]),e[3]=Math.max(e[3],t[0]),e[4]=Math.max(e[4],t[1]),e[5]=Math.max(e[5],t[2])}function d(e,t=[0,0,0]){return t[0]=function(e){return e[0]>=e[3]?0:e[3]-e[0]}(e),t[1]=function(e){return e[1]>=e[4]?0:e[4]-e[1]}(e),t[2]=function(e){return e[2]>=e[5]?0:e[5]-e[2]}(e),t}function h(e,t,n=e){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n!==e&&(n[3]=e[3],n[4]=e[4],n[5]=e[5]),n}function m(e,t,n=e){return n[3]=t[0],n[4]=t[1],n[5]=t[2],n!==e&&(n[0]=e[0],n[1]=e[1],n[2]=e[2]),e}function g(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function y(e){return e?g(e,x):o(x)}function M(e,t){return e[0]=t[0],e[1]=t[1],e[2]=Number.NEGATIVE_INFINITY,e[3]=t[2],e[4]=t[3],e[5]=Number.POSITIVE_INFINITY,e}function v(e,t,n,i,r){return e[0]=t,e[1]=n,e[2]=Number.NEGATIVE_INFINITY,e[3]=i,e[4]=r,e[5]=Number.POSITIVE_INFINITY,e}function w(e){return 6===e.length}function b(e,t,n){if(null==e||null==t)return e===t;if(!w(e)||!w(t))return!1;if(n){for(let i=0;i<e.length;i++)if(!n(e[i],t[i]))return!1}else for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}const x=[1/0,1/0,1/0,-1/0,-1/0,-1/0],I=[0,0,0,0,0,0];o()},91218:(e,t,n)=>{n.r(t),n.d(t,{canProjectWithoutEngine:()=>V,initializeProjection:()=>B,isEqualBaseGCS:()=>D,isLoaded:()=>R,isLoadedOrLoad:()=>Z,isLoadedOrLoadFor:()=>S,load:()=>N,project:()=>E,projectExtent:()=>ne,projectMany:()=>P,projectMultipoint:()=>H,projectOrLoad:()=>k,projectOrLoadMany:()=>z,projectPoint:()=>K,projectPolygon:()=>ee,projectPolyline:()=>Q,projectWithZConversion:()=>U,projectWithoutEngine:()=>J,requiresLoad:()=>O,test:()=>G,tryProjectWithZConversion:()=>q,unload:()=>$});var i=n(49186),r=n(74887),o=n(62788),l=n(95488),s=n(51850),a=n(21276),u=n(73941),c=n(5443),p=n(91075),f=n(48526),d=n(86738),h=n(39829),m=n(82799),g=n(16930),y=n(159),M=n(9762),v=n(37539);function w(e,t,n,i,r,o){return b[0]=e,b[1]=t,b[2]=n,(0,M.projectBuffer)(b,i,0,r,o,0)}const b=(0,s.vt)();var x=n(21325),I=n(62815);let T=null,F=null,A=null,_=null,j={};const C=new l.I;function R(){return!!(F?.isLoaded()&&A?.isLoaded()&&_?.isLoaded())}function Z(){return!!R()||((0,o.gc)(C),N(),!1)}function S(e,t){return!e||!t||V(e,t)||Z()}function O(e,t){return!V(e,t)&&!R()}async function N(e){null==T&&(T=Promise.all([n.e(3276).then(n.bind(n,83276)).then(e=>(F=e,F.load())),n.e(8377).then(n.bind(n,8377)).then(e=>(A=e,A.load())),n.e(2158).then(n.bind(n,12158)).then(e=>(_=e,_.load()))])),await T,(0,r.Te)(e),C.notify()}function E(e,t,n){return Array.isArray(e)?0===e.length?[]:((0,a.H)(e),P(e,e[0].spatialReference,t,n)):((0,a.f)(e),P([e],e.spatialReference,t,n)[0])}function P(e,t,n,i){if(null==t||null==n)return e;if(V(t,n,i))return e.map(e=>J(e,t,n));if(null==i?.geographicTransformation&&(0,u.jA)(t))return e.map(e=>J(e,t,g.A.WGS84)).map(e=>q(e,n));if(null==i?.geographicTransformation&&(0,u.jA)(n))return e.map(e=>q(e,g.A.WGS84)).map(e=>J(e,g.A.WGS84,n));if(!R())throw new L;if(!i?.geographicTransformation)if(i?.extendedParams)i={...i,geographicTransformation:_.getTransformation(t,n,i.areaOfInterestExtent)||new y.A};else if(!i?.areaOfInterestExtent){const e=function(e,t){return[e.wkid?.toString()??"-1",e.wkt?.toString()??"",e.wkt2?.toString()??"",t.wkid?.toString()??"-1",t.wkt?.toString()??"",t.wkt2?.toString()??""].join()}(t,n);let r=j[e];r||(r=_.getTransformation(t,n)||new y.A,j[e]=r),i={geographicTransformation:r}}return e[0].spatialReference||(e[0].spatialReference=t),e[0]instanceof p.A?F.executeMany(e,n,i):A.executeMany(e,n,i)}function k(e,t){const n=z([e],t);return null!=n.pending?{pending:n.pending,geometry:null}:null!=n.geometries?{pending:null,geometry:n.geometries[0]}:{pending:null,geometry:null}}function z(e,t){if(!R())for(const n of e)if(null!=n&&!(0,x.aI)(n.spatialReference,t)&&(0,x.fn)(n.spatialReference)&&(0,x.fn)(t)&&!V(n.spatialReference,t))return(0,o.gc)(C),{pending:N(),geometries:null};return{pending:null,geometries:e.map(e=>null==e?null:(0,x.aI)(e.spatialReference,t)?e:(0,x.fn)(e.spatialReference)&&(0,x.fn)(t)?q(e,t):null)}}class L extends i.A{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function $(){T=null,F=null,A=null,_=null,j={}}const G={get loadPromise(){return T}};function q(e,t){try{const n=E(e,t);if(null==n)return null;"xmin"in e&&"xmin"in n&&(n.zmin=e.zmin,n.zmax=e.zmax);const i=(0,I.N)(n.type,e.spatialReference,t);return null!=i&&i(n),n}catch(e){if(!(e instanceof L))throw e;return null}}async function U(e,t,n){const i=e.spatialReference;return null!=i&&null!=t&&await B(i,t,null,n),q(e,t)}function V(e,t,n){return!(n?.areaOfInterestExtent||n?.extendedParams||n?.geographicTransformation)&&(!!(0,x.aI)(e,t)||(0,x.fn)(e)&&(0,x.fn)(t)&&!!(0,v.jd)(e,t))}function D(e,t){if((0,x.aI)(e,t))return!0;if(!(0,x.fn)(e)||!(0,x.fn)(t))return!1;const n=(0,x.oT)(e)||(0,x.K8)(e)||(0,x.x1)(e),i=(0,x.oT)(t)||(0,x.K8)(t)||(0,x.x1)(t);return n&&i}async function B(e,t,n,i){if(R())return(0,r.NO)(i);if(Array.isArray(e)){for(const{source:t,dest:n,options:r}of e)if(t&&n&&!V(t,n,r))return N(i)}else if(e&&t&&!V(e,t,n))return N(i);return(0,r.NO)(i)}function J(e,t,n){return e?"x"in e?W(e,t,new d.A,n,0):"xmin"in e?ie(e,t,new c.A,n,0):"rings"in e?te(e,t,new h.A,n,0):"paths"in e?X(e,t,new m.A,n,0):"points"in e?Y(e,t,new f.A,n,0):null:null}function K(e,t,n=t.spatialReference,i=0){return null!=n&&null!=e.spatialReference&&null!=W(e,e.spatialReference,t,n,i)}function W(e,t,n,i,r){oe[0]=e.x,oe[1]=e.y;const o=e.z;return oe[2]=void 0!==o?o:r,(0,M.projectBuffer)(oe,t,0,oe,i,0)?(n.x=oe[0],n.y=oe[1],n.spatialReference=i,void 0!==o||(0,u.xP)(i)?(n.z=oe[2],n.hasZ=!0):(n.z=void 0,n.hasZ=!1),void 0===e.m?(n.m=void 0,n.hasM=!1):(n.m=e.m,n.hasM=!0),n):null}function H(e,t,n=t.spatialReference,i=0){return null!=e.spatialReference&&null!=n&&null!=Y(e,e.spatialReference,t,n,i)}function Y(e,t,n,i,r){const{points:o,hasZ:l,hasM:s}=e,a=[],c=o.length,p=[];for(const e of o)p.push(e[0],e[1],l?e[2]:r);if(!(0,M.projectBuffer)(p,t,0,p,i,0,c))return null;const f=l||(0,u.xP)(i);for(let e=0;e<c;++e){const t=3*e,n=p[t],i=p[t+1];f&&s?a.push([n,i,p[t+2],o[e][3]]):f?a.push([n,i,p[t+2]]):s?a.push([n,i,o[e][2]]):a.push([n,i])}return n.points=a,n.spatialReference=i,n.hasZ=l,n.hasM=s,n}function Q(e,t,n=t.spatialReference,i=0){return null!=e.spatialReference&&null!=n&&null!=X(e,e.spatialReference,t,n,i)}function X(e,t,n,i,r){const{paths:o,hasZ:l,hasM:s}=e,a=[];if(!re(o,l??!1,s??!1,t,a,i,r))return null;const c=l||(0,u.xP)(i);return n.paths=a,n.spatialReference=i,n.hasZ=c,n.hasM=s,n}function ee(e,t,n=t.spatialReference,i=0){return null!=e.spatialReference&&null!=n&&null!=te(e,e.spatialReference,t,n,i)}function te(e,t,n,i,r){const{rings:o,hasZ:l,hasM:s}=e,a=[];if(!re(o,l??!1,s??!1,t,a,i,r))return null;const c=l||(0,u.xP)(i);return n.rings=a,n.spatialReference=i,n.hasZ=c,n.hasM=s,n}function ne(e,t,n=t.spatialReference,i=0){return null!=e.spatialReference&&null!=n&&null!=ie(e,e.spatialReference,t,n,i)}function ie(e,t,n,i,r){const{xmin:o,ymin:l,xmax:s,ymax:a,hasZ:c,hasM:p}=e;if(!w(o,l,c?e.zmin:r,t,oe,i))return null;const f=c||(0,u.xP)(i);return n.xmin=oe[0],n.ymin=oe[1],f&&(n.zmin=oe[2]),w(s,a,c?e.zmax:r,t,oe,i)?(n.xmax=oe[0],n.ymax=oe[1],f&&(n.zmax=oe[2]),p&&(n.mmin=e.mmin,n.mmax=e.mmax),n.spatialReference=i,n):null}function re(e,t,n,i,r,o,l=0){const s=new Array;for(const n of e)for(const e of n)s.push(e[0],e[1],t?e[2]:l);if(!(0,M.projectBuffer)(s,i,0,s,o,0))return!1;let a=0;r.length=0;const c=t||(0,u.xP)(o);for(const t of e){const e=new Array;for(const i of t)c&&n?e.push([s[a++],s[a++],s[a++],i[3]]):c?e.push([s[a++],s[a++],s[a++]]):n?(e.push([s[a++],s[a++],i[2]]),a++):(e.push([s[a++],s[a++]]),a++);r.push(e)}return!0}const oe=(0,s.vt)()},95466:(e,t,n)=>{n.d(t,{A:()=>d});var i=n(49186),r=n(53966),o=n(91869),l=n(3330),s=n(12195),a=n(30524),u=n(98623),c=n(56400),p=n(28097);const f=new Map;class d{static fromJSON(e){return new d(e.fields,e.timeZoneByFieldName)}static fromLayer(e){return new d(e.fields??[],y(e))}static fromLayerJSON(e){return new d(e.fields??[],y(e))}constructor(e=[],t){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=e||[],this._timeZoneByFieldName=t?new Map(t):null;const n=[];for(const e of this.fields){const t=e?.name,i=m(t);if(t&&i){const r=h(t);this._fieldsMap.set(t,e),this._fieldsMap.set(r,e),this._normalizedFieldsMap.set(i,e),n.push(`${r}:${e.type}:${this._timeZoneByFieldName?.get(t)}`),(0,a.vE)(e)?(this.dateFields.push(e),this._dateFieldsSet.add(e)):(0,a.WA)(e)&&(this._numericFieldsSet.add(e),this.numericFields.push(e)),(0,a.te)(e)||(0,a.Xz)(e)||(e.editable=null==e.editable||!!e.editable,e.nullable=null==e.nullable||!!e.nullable)}}n.sort(),this.uid=n.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const e of this.fields)(0,a.te)(e)||(0,a.Xz)(e)||e.nullable||void 0!==(0,a.lD)(e)||this._requiredFields.push(e)}return this._requiredFields}equals(e){return this.uid===e?.uid}has(e){return null!=this.get(e)}get(e){if(!e)return;let t=this._fieldsMap.get(e);return t||(t=this._fieldsMap.get(h(e))??this._normalizedFieldsMap.get(m(e)),t&&this._fieldsMap.set(e,t),t)}getTimeZone(e){const t=this.get(e&&"string"!=typeof e?e.name:e);return t?this._timeZoneByFieldName?this._timeZoneByFieldName.get(t.name):"date"===t.type||"esriFieldTypeDate"===t.type?(r.A.getLogger("esri.layers.support.FieldsIndex").errorOnce(new i.A("getTimeZone:no-timezone-information",`no time zone information for field '${t.name}'`)),u.n$):g.has(t.type)?u.L5:null:null}getLuxonTimeZone(e){const t=this.getTimeZone(e);return t?t===u.L5?l.GB.instance:t===u.n$?p.mQ.utcInstance:(0,o.tE)(f,t,()=>p.oh.create(t)):null}isDateField(e){return this._dateFieldsSet.has(this.get(e))}isTimeOnlyField(e){return(0,a.OH)(this.get(e))}isNumericField(e){return this._numericFieldsSet.has(this.get(e))}normalizeFieldName(e){return this.get(e)?.name??void 0}toJSON(){return{fields:this.fields.map(e=>(0,s.W)(e)?e.toJSON():e),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}}function h(e){return e.trim().toLowerCase()}function m(e){return(0,a.rS)(e)?.toLowerCase()??""}const g=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function y(e){const t=new Map;if(!e.fields)return t;const n=!0===e.datesInUnknownTimezone,{timeInfo:i,editFieldsInfo:r}=e,o=(i?"startField"in i?i.startField:i.startTimeField:"")??"",l=(i?"endField"in i?i.endField:i.endTimeField:"")??"",s=function(e){return"dateFieldsTimeZone"in e}(e)?e.dateFieldsTimeZone??null:e.dateFieldsTimeReference?(0,c.ZS)(e.dateFieldsTimeReference):null,a=r?function(e){return"timeZone"in e}(r)?r.timeZone??s:r.dateFieldsTimeReference?(0,c.ZS)(r.dateFieldsTimeReference):s??u.n$:null,p=i?function(e){return"timeZone"in e}(i)?i.timeZone??s:i.timeReference?(0,c.ZS)(i.timeReference):s:null,f=new Map([[h(r?.creationDateField??""),a],[h(r?.editDateField??""),a],[h(o),p],[h(l),p]]);for(const{name:i,type:r}of e.fields)if(g.has(r))t.set(i,u.L5);else if("date"!==r&&"esriFieldTypeDate"!==r)t.set(i,null);else if(n)t.set(i,u.L5);else{const e=f.get(h(i??""))??s;t.set(i,e)}return t}},99157:(e,t,n)=>{n.d(t,{A:()=>a});var i,r=n(31635),o=n(65008),l=n(10107),s=(n(44208),n(53966),n(87811),n(64108));let a=i=class extends o.A{constructor(e){super(e),this.isInverse=!1,this.wkt=null,this.wkid=null}getInverse(){return new i({isInverse:!this.isInverse,wkid:this.wkid,wkt:this.wkt})}};(0,r.Cg)([(0,l.MZ)()],a.prototype,"isInverse",void 0),(0,r.Cg)([(0,l.MZ)()],a.prototype,"wkt",void 0),(0,r.Cg)([(0,l.MZ)()],a.prototype,"wkid",void 0),a=i=(0,r.Cg)([(0,s.$)("esri.geometry.operators.support.GeographicTransformationStep")],a)}}]);