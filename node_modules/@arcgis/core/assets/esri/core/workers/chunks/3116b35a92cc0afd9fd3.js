"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[2288],{159:(e,n,t)=>{t.d(n,{A:()=>u});var r,o=t(31635),i=t(65008),a=t(10107),l=(t(44208),t(53966),t(87811),t(64108)),s=t(99157);let u=r=class extends i.A{constructor(e){super(e),this.steps=[]}getInverse(){const e=new r;for(let n=this.steps.length-1;n>=0;n--){const t=this.steps[n];e.steps.push(t.getInverse())}return e}};(0,o.Cg)([(0,a.MZ)({type:[s.A],nonNullable:!0})],u.prototype,"steps",void 0),u=r=(0,o.Cg)([(0,l.$)("esri.geometry.operators.support.GeographicTransformation")],u)},9762:(e,n,t)=>{t.r(n),t.d(n,{projectBuffer:()=>o});var r=t(37539);function o(e,n,t,o,i,a,l=Math.floor(e.length/3)){const s=(0,r.jd)(n,i);if(null==s)return!1;if(s===r.pO){if(e===o&&t===a)return!0;const n=t+3*l;for(let r=t,i=a;r<n;r++,i++)o[i]=e[r];return!0}const u=t+3*l;for(let n=t,r=a;n<u;n+=3,r+=3)s(e,n,o,r);return!0}},23150:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(31635),o=t(10107),i=(t(44208),t(53966),t(87811),t(64108)),a=t(82799),l=t(54238);let s=class extends l.A{constructor(e){super(e),this.originId=null,this.destinationId=null,this.layoutGeometry=null}};(0,r.Cg)([(0,o.MZ)({type:String,json:{write:!0}})],s.prototype,"originId",void 0),(0,r.Cg)([(0,o.MZ)({type:String,json:{write:!0}})],s.prototype,"destinationId",void 0),(0,r.Cg)([(0,o.MZ)({type:a.A,json:{write:!0}})],s.prototype,"layoutGeometry",void 0),s=(0,r.Cg)([(0,i.$)("esri.rest.knowledgeGraph.Relationship")],s)},25927:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(31635),o=t(10107),i=(t(44208),t(53966),t(87811),t(64108)),a=t(86738),l=t(54238);let s=class extends l.A{constructor(e){super(e),this.layoutGeometry=null}};(0,r.Cg)([(0,o.MZ)({type:a.A,json:{write:!0}})],s.prototype,"layoutGeometry",void 0),s=(0,r.Cg)([(0,i.$)("esri.rest.knowledgeGraph.Entity")],s)},37539:(e,n,t)=>{t.d(n,{pO:()=>g,jd:()=>f,Tp:()=>d,w5:()=>p});var r=t(34727),o=t(83047),i=t(73941),a=t(79258);Math.PI;const l=a.$O.radius,s=a.$O.eccentricitySquared,u={a1:l*s,a2:l*s*l*s,a3:l*s*s/2,a4:l*s*l*s*2.5,a5:l*s+l*s*s/2,a6:1-s};a.$O.radius,a.$O.flattening,a.Sw.radius,a.Sw.flattening,a.sH.radius,a.sH.flattening,a.sH.radius;var c=t(21325);const p={2:{5:g,7:null,9:null,10:g,1:A,6:null,8:null,0:null,3:y,11:w,2:g,4:C},5:{5:g,7:null,9:null,10:g,1:A,6:null,8:null,0:null,3:y,11:w,2:g,4:C},7:{5:null,7:g,9:null,10:g,1:null,6:x,8:null,0:null,3:null,11:null,2:null,4:null},9:{5:null,7:null,9:g,10:g,1:null,6:null,8:M,0:null,3:null,11:null,2:null,4:null},3:{5:m,7:null,9:null,10:m,1:function(e,n,t,r){const o=e[n]/T,i=$-2*Math.atan(Math.exp(-e[n+1]/T)),a=T+e[n+2],l=Math.cos(i)*a;t[r]=Math.cos(o)*l,t[r+1]=Math.sin(o)*l,t[r+2]=Math.sin(i)*a},6:null,8:null,0:null,3:g,11:function(e,n,t,r){m(e,n,t,r),w(t,r,t,r)},2:m,4:function(e,n,t,r){m(e,n,t,r),C(t,r,t,r)}},4:{5:k,7:null,9:null,10:k,1:function(e,n,t,r){k(e,n,t,r),A(t,r,t,r)},6:null,8:null,0:null,3:function(e,n,t,r){k(e,n,t,r),y(t,r,t,r)},11:function(e,n,t,r){k(e,n,t,r),w(t,r,t,r)},2:k,4:g},1:{5:P,7:null,9:null,10:P,1:g,6:null,8:null,0:null,3:function(e,n,t,r){P(e,n,t,r),y(t,r,t,r)},11:function(e,n,t,r){P(e,n,t,r),w(t,r,t,r)},2:P,4:function(e,n,t,r){P(e,n,t,r),C(t,r,t,r)}},6:{5:null,7:I,9:null,10:I,1:null,6:g,8:null,0:null,3:null,11:null,2:null,4:null},8:{5:null,7:null,9:j,10:j,1:null,6:null,8:g,0:null,3:null,11:null,2:null,4:null},0:{5:null,7:null,9:null,10:null,1:null,6:null,8:null,0:g,3:null,11:null,2:null,4:null},10:{5:g,7:g,9:g,10:g,1:A,6:x,8:M,0:null,3:y,11:w,2:g,4:C},11:{5:R,7:null,9:null,10:R,1:function(e,n,t,r){R(e,n,t,r),A(t,r,t,r)},6:null,8:null,0:null,3:function(e,n,t,r){R(e,n,t,r),y(t,r,t,r)},11:g,2:R,4:function(e,n,t,r){R(e,n,t,r),C(t,r,t,r)}}};function f(e,n){return d(e,n)?.projector}function d(e,n){if(null==e||null==n)return null;if(G.source.spatialReference===e&&G.dest.spatialReference===n)return G;const t=h(e,G.source),r=h(n,G.dest);return 0===t&&0===r?(0,c.aI)(e,n)?G.projector=g:G.projector=null:G.projector=p[t][r],G}function h(e,n){return e?n.spatialReference===e?n.spatialReferenceId:(n.spatialReference=e,"metersPerUnit"in n&&(n.metersPerUnit=(0,o.GA)(e,1)),(0,i.jA)(e)?n.spatialReferenceId=1:(0,c.oT)(e)?n.spatialReferenceId=2:(0,c.K8)(e)?n.spatialReferenceId=3:(0,c.r1)(e)?n.spatialReferenceId=11:e.wkt===i.Ro.wkt?n.spatialReferenceId=4:4490===e.wkid?n.spatialReferenceId=5:e.wkt===i.FY.wkt?n.spatialReferenceId=6:e.wkt===i.LJ.wkt?n.spatialReferenceId=8:(0,c.q8)(e)?n.spatialReferenceId=7:(0,c.KQ)(e)?n.spatialReferenceId=9:n.spatialReferenceId=0):0}function g(e,n,t,r){e!==t&&(t[r++]=e[n++],t[r++]=e[n++],t[r]=e[n])}function m(e,n,t,r){t[r]=O*(e[n]/T),t[r+1]=O*($-2*Math.atan(Math.exp(-e[n+1]/T))),t[r+2]=e[n+2]}function y(e,n,t,o){!function(e,n,t,o,i){const a=.4999999*Math.PI,l=(0,r.qE)(Z*e[n+1],-a,a),s=Math.sin(l);t[o++]=Z*e[n]*i.radius,t[o++]=i.halfSemiMajorAxis*Math.log((1+s)/(1-s)),t[o]=e[n+2]}(e,n,t,o,a.$O)}function w(e,n,t,r){t[r]=e[n]*b,t[r+1]=e[n+1]*b,t[r+2]=e[n+2]}function R(e,n,t,r){t[r]=e[n]*z,t[r+1]=e[n+1]*z,t[r+2]=e[n+2]}function v(e,n,t,r,o){const i=o+e[n+2],a=Z*e[n+1],l=Z*e[n],s=Math.cos(a)*i;t[r]=Math.cos(l)*s,t[r+1]=Math.sin(l)*s,t[r+2]=Math.sin(a)*i}function M(e,n,t,r){v(e,n,t,r,a.Sw.radius)}function x(e,n,t,r){v(e,n,t,r,a.sH.radius)}function A(e,n,t,r){v(e,n,t,r,a.$O.radius)}function S(e,n,t,o,i){const a=e[n],l=e[n+1],s=e[n+2],u=Math.sqrt(a*a+l*l+s*s),c=(0,r.YN)(s/(0===u?1:u)),p=Math.atan2(l,a);t[o++]=O*p,t[o++]=O*c,t[o]=u-i}function j(e,n,t,r){S(e,n,t,r,a.Sw.radius)}function I(e,n,t,r){S(e,n,t,r,a.sH.radius)}function P(e,n,t,r){S(e,n,t,r,a.$O.radius)}function C(e,n,t,r){!function(e,n,t,r,o){const i=Z*e[n],a=Z*e[n+1],l=e[n+2],s=Math.sin(a),u=Math.cos(a),c=o.radius/Math.sqrt(1-o.eccentricitySquared*s*s);t[r++]=(c+l)*u*Math.cos(i),t[r++]=(c+l)*u*Math.sin(i),t[r++]=(c*(1-o.eccentricitySquared)+l)*s}(e,n,t,r,a.$O)}function k(e,n,t,r){const o=u,i=e[n],l=e[n+1],s=e[n+2];let c,p,f,d,h,g,m,y,w,R,v,M,x,A,S,j,I,P,C,k,G;c=Math.abs(s),p=i*i+l*l,f=Math.sqrt(p),d=p+s*s,h=Math.sqrt(d),k=Math.atan2(l,i),g=s*s/d,m=p/d,A=o.a2/h,S=o.a3-o.a4/h,m>.3?(y=c/h*(1+m*(o.a1+A+g*S)/h),C=Math.asin(y),R=y*y,w=Math.sqrt(1-R)):(w=f/h*(1-g*(o.a5-A-m*S)/h),C=Math.acos(w),R=1-w*w,y=Math.sqrt(R)),v=1-a.$O.eccentricitySquared*R,M=a.$O.radius/Math.sqrt(v),x=o.a6*M,A=f-M*w,S=c-x*y,I=w*A+y*S,j=w*S-y*A,P=j/(x/v+I),C+=P,G=I+j*P/2,s<0&&(C=-C),t[r++]=O*k,t[r++]=O*C,t[r]=G}const G={source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:g},Z=(0,r.kU)(1),O=(0,r.KJ)(1),$=.5*Math.PI,T=a.$O.radius,b=T*Math.PI/180,z=180/(T*Math.PI)},40662:(e,n,t)=>{t.d(n,{A:()=>a});var r=t(31635),o=(t(53966),t(44208),t(87811),t(49186),t(64108)),i=t(77901);let a=class extends i.A{constructor(e){super(e)}};a=(0,r.Cg)([(0,o.$)("esri.rest.knowledgeGraph.ObjectValue")],a)},42095:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(31635),o=t(25482),i=t(10107),a=(t(44208),t(53966),t(87811),t(64108)),l=t(77901);let s=class extends o.o{constructor(e){super(e),this.path=[]}};(0,r.Cg)([(0,i.MZ)({type:[l.A],json:{write:!0}})],s.prototype,"path",void 0),s=(0,r.Cg)([(0,a.$)("esri.rest.knowledgeGraph.Path")],s)},42538:(e,n,t)=>{t.d(n,{A:()=>u});var r=t(31635),o=t(10107),i=(t(44208),t(53966),t(87811),t(64108)),a=t(16930),l=t(65008);let s=class extends l.A{constructor(e){super(e),this.openCypherQuery=""}};(0,r.Cg)([(0,o.MZ)()],s.prototype,"openCypherQuery",void 0),s=(0,r.Cg)([(0,i.$)("esri.rest.knowledgeGraph.GraphQuery")],s);let u=class extends s{constructor(e){super(e),this.bindParameters=null,this.bindGeometryQuantizationParameters=null,this.outputQuantizationParameters=null,this.outputSpatialReference=null,this.provenanceBehavior=null}};(0,r.Cg)([(0,o.MZ)()],u.prototype,"bindParameters",void 0),(0,r.Cg)([(0,o.MZ)()],u.prototype,"bindGeometryQuantizationParameters",void 0),(0,r.Cg)([(0,o.MZ)()],u.prototype,"outputQuantizationParameters",void 0),(0,r.Cg)([(0,o.MZ)({type:a.A})],u.prototype,"outputSpatialReference",void 0),(0,r.Cg)([(0,o.MZ)()],u.prototype,"provenanceBehavior",void 0),u=(0,r.Cg)([(0,i.$)("esri.rest.knowledgeGraph.GraphQueryStreaming")],u)},54238:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(31635),o=t(10107),i=(t(44208),t(53966),t(87811),t(64108)),a=t(77901);let l=class extends a.A{constructor(e){super(e),this.typeName=null,this.id=null}};(0,r.Cg)([(0,o.MZ)({type:String,json:{write:!0}})],l.prototype,"typeName",void 0),(0,r.Cg)([(0,o.MZ)({type:String,json:{write:!0}})],l.prototype,"id",void 0),l=(0,r.Cg)([(0,i.$)("esri.rest.knowledgeGraph.GraphNamedObject")],l)},62815:(e,n,t)=>{t.d(n,{N:()=>a});var r=t(83047),o=t(73941),i=t(21325);function a(e,n,t){if(null==n||null==t||t.vcsWkid||(0,i.aI)(n,t)||(0,o.xP)(n)||(0,o.xP)(t))return null;const a=(0,r.G9)(n)/(0,r.G9)(t);if(1===a)return null;switch(e){case"point":case"esriGeometryPoint":return e=>function(e,n){null!=e?.z&&(e.z*=n)}(e,a);case"polyline":case"esriGeometryPolyline":return e=>function(e,n){if(e)for(const t of e.paths)for(const e of t)e.length>2&&(e[2]*=n)}(e,a);case"polygon":case"esriGeometryPolygon":return e=>function(e,n){if(e)for(const t of e.rings)for(const e of t)e.length>2&&(e[2]*=n)}(e,a);case"multipoint":case"esriGeometryMultipoint":return e=>function(e,n){if(e)for(const t of e.points)t.length>2&&(t[2]*=n)}(e,a);case"extent":case"esriGeometryEnvelope":return e=>function(e,n){e&&null!=e.zmin&&null!=e.zmax&&(e.zmin*=n,e.zmax*=n)}(e,a);default:return null}}},77901:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(31635),o=t(25482),i=t(10107),a=(t(44208),t(53966),t(87811),t(64108));let l=class extends o.o{constructor(e){super(e),this.properties=null}};(0,r.Cg)([(0,i.MZ)({json:{write:!0}})],l.prototype,"properties",void 0),l=(0,r.Cg)([(0,a.$)("esri.rest.knowledgeGraph.GraphObject")],l)},80672:(e,n,t)=>{t.d(n,{R:()=>o});var r=t(20655);function o(e,n){return null===e?n:new r.A({url:e.field("url")})}},91218:(e,n,t)=>{t.r(n),t.d(n,{canProjectWithoutEngine:()=>E,initializeProjection:()=>K,isEqualBaseGCS:()=>F,isLoaded:()=>G,isLoadedOrLoad:()=>Z,isLoadedOrLoadFor:()=>O,load:()=>T,project:()=>b,projectExtent:()=>te,projectMany:()=>z,projectMultipoint:()=>V,projectOrLoad:()=>q,projectOrLoadMany:()=>N,projectPoint:()=>H,projectPolygon:()=>ee,projectPolyline:()=>X,projectWithZConversion:()=>L,projectWithoutEngine:()=>Q,requiresLoad:()=>$,test:()=>J,tryProjectWithZConversion:()=>D,unload:()=>B});var r=t(49186),o=t(74887),i=t(62788),a=t(95488),l=t(51850),s=t(21276),u=t(73941),c=t(5443),p=t(91075),f=t(48526),d=t(86738),h=t(39829),g=t(82799),m=t(16930),y=t(159),w=t(9762),R=t(37539);function v(e,n,t,r,o,i){return M[0]=e,M[1]=n,M[2]=t,(0,w.projectBuffer)(M,r,0,o,i,0)}const M=(0,l.vt)();var x=t(21325),A=t(62815);let S=null,j=null,I=null,P=null,C={};const k=new a.I;function G(){return!!(j?.isLoaded()&&I?.isLoaded()&&P?.isLoaded())}function Z(){return!!G()||((0,i.gc)(k),T(),!1)}function O(e,n){return!e||!n||E(e,n)||Z()}function $(e,n){return!E(e,n)&&!G()}async function T(e){null==S&&(S=Promise.all([t.e(3276).then(t.bind(t,83276)).then(e=>(j=e,j.load())),t.e(8377).then(t.bind(t,8377)).then(e=>(I=e,I.load())),t.e(2158).then(t.bind(t,12158)).then(e=>(P=e,P.load()))])),await S,(0,o.Te)(e),k.notify()}function b(e,n,t){return Array.isArray(e)?0===e.length?[]:((0,s.H)(e),z(e,e[0].spatialReference,n,t)):((0,s.f)(e),z([e],e.spatialReference,n,t)[0])}function z(e,n,t,r){if(null==n||null==t)return e;if(E(n,t,r))return e.map(e=>Q(e,n,t));if(null==r?.geographicTransformation&&(0,u.jA)(n))return e.map(e=>Q(e,n,m.A.WGS84)).map(e=>D(e,t));if(null==r?.geographicTransformation&&(0,u.jA)(t))return e.map(e=>D(e,m.A.WGS84)).map(e=>Q(e,m.A.WGS84,t));if(!G())throw new W;if(!r?.geographicTransformation)if(r?.extendedParams)r={...r,geographicTransformation:P.getTransformation(n,t,r.areaOfInterestExtent)||new y.A};else if(!r?.areaOfInterestExtent){const e=function(e,n){return[e.wkid?.toString()??"-1",e.wkt?.toString()??"",e.wkt2?.toString()??"",n.wkid?.toString()??"-1",n.wkt?.toString()??"",n.wkt2?.toString()??""].join()}(n,t);let o=C[e];o||(o=P.getTransformation(n,t)||new y.A,C[e]=o),r={geographicTransformation:o}}return e[0].spatialReference||(e[0].spatialReference=n),e[0]instanceof p.A?j.executeMany(e,t,r):I.executeMany(e,t,r)}function q(e,n){const t=N([e],n);return null!=t.pending?{pending:t.pending,geometry:null}:null!=t.geometries?{pending:null,geometry:t.geometries[0]}:{pending:null,geometry:null}}function N(e,n){if(!G())for(const t of e)if(null!=t&&!(0,x.aI)(t.spatialReference,n)&&(0,x.fn)(t.spatialReference)&&(0,x.fn)(n)&&!E(t.spatialReference,n))return(0,i.gc)(k),{pending:T(),geometries:null};return{pending:null,geometries:e.map(e=>null==e?null:(0,x.aI)(e.spatialReference,n)?e:(0,x.fn)(e.spatialReference)&&(0,x.fn)(n)?D(e,n):null)}}class W extends r.A{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}}function B(){S=null,j=null,I=null,P=null,C={}}const J={get loadPromise(){return S}};function D(e,n){try{const t=b(e,n);if(null==t)return null;"xmin"in e&&"xmin"in t&&(t.zmin=e.zmin,t.zmax=e.zmax);const r=(0,A.N)(t.type,e.spatialReference,n);return null!=r&&r(t),t}catch(e){if(!(e instanceof W))throw e;return null}}async function L(e,n,t){const r=e.spatialReference;return null!=r&&null!=n&&await K(r,n,null,t),D(e,n)}function E(e,n,t){return!(t?.areaOfInterestExtent||t?.extendedParams||t?.geographicTransformation)&&(!!(0,x.aI)(e,n)||(0,x.fn)(e)&&(0,x.fn)(n)&&!!(0,R.jd)(e,n))}function F(e,n){if((0,x.aI)(e,n))return!0;if(!(0,x.fn)(e)||!(0,x.fn)(n))return!1;const t=(0,x.oT)(e)||(0,x.K8)(e)||(0,x.x1)(e),r=(0,x.oT)(n)||(0,x.K8)(n)||(0,x.x1)(n);return t&&r}async function K(e,n,t,r){if(G())return(0,o.NO)(r);if(Array.isArray(e)){for(const{source:n,dest:t,options:o}of e)if(n&&t&&!E(n,t,o))return T(r)}else if(e&&n&&!E(e,n,t))return T(r);return(0,o.NO)(r)}function Q(e,n,t){return e?"x"in e?U(e,n,new d.A,t,0):"xmin"in e?re(e,n,new c.A,t,0):"rings"in e?ne(e,n,new h.A,t,0):"paths"in e?_(e,n,new g.A,t,0):"points"in e?Y(e,n,new f.A,t,0):null:null}function H(e,n,t=n.spatialReference,r=0){return null!=t&&null!=e.spatialReference&&null!=U(e,e.spatialReference,n,t,r)}function U(e,n,t,r,o){ie[0]=e.x,ie[1]=e.y;const i=e.z;return ie[2]=void 0!==i?i:o,(0,w.projectBuffer)(ie,n,0,ie,r,0)?(t.x=ie[0],t.y=ie[1],t.spatialReference=r,void 0!==i||(0,u.xP)(r)?(t.z=ie[2],t.hasZ=!0):(t.z=void 0,t.hasZ=!1),void 0===e.m?(t.m=void 0,t.hasM=!1):(t.m=e.m,t.hasM=!0),t):null}function V(e,n,t=n.spatialReference,r=0){return null!=e.spatialReference&&null!=t&&null!=Y(e,e.spatialReference,n,t,r)}function Y(e,n,t,r,o){const{points:i,hasZ:a,hasM:l}=e,s=[],c=i.length,p=[];for(const e of i)p.push(e[0],e[1],a?e[2]:o);if(!(0,w.projectBuffer)(p,n,0,p,r,0,c))return null;const f=a||(0,u.xP)(r);for(let e=0;e<c;++e){const n=3*e,t=p[n],r=p[n+1];f&&l?s.push([t,r,p[n+2],i[e][3]]):f?s.push([t,r,p[n+2]]):l?s.push([t,r,i[e][2]]):s.push([t,r])}return t.points=s,t.spatialReference=r,t.hasZ=a,t.hasM=l,t}function X(e,n,t=n.spatialReference,r=0){return null!=e.spatialReference&&null!=t&&null!=_(e,e.spatialReference,n,t,r)}function _(e,n,t,r,o){const{paths:i,hasZ:a,hasM:l}=e,s=[];if(!oe(i,a??!1,l??!1,n,s,r,o))return null;const c=a||(0,u.xP)(r);return t.paths=s,t.spatialReference=r,t.hasZ=c,t.hasM=l,t}function ee(e,n,t=n.spatialReference,r=0){return null!=e.spatialReference&&null!=t&&null!=ne(e,e.spatialReference,n,t,r)}function ne(e,n,t,r,o){const{rings:i,hasZ:a,hasM:l}=e,s=[];if(!oe(i,a??!1,l??!1,n,s,r,o))return null;const c=a||(0,u.xP)(r);return t.rings=s,t.spatialReference=r,t.hasZ=c,t.hasM=l,t}function te(e,n,t=n.spatialReference,r=0){return null!=e.spatialReference&&null!=t&&null!=re(e,e.spatialReference,n,t,r)}function re(e,n,t,r,o){const{xmin:i,ymin:a,xmax:l,ymax:s,hasZ:c,hasM:p}=e;if(!v(i,a,c?e.zmin:o,n,ie,r))return null;const f=c||(0,u.xP)(r);return t.xmin=ie[0],t.ymin=ie[1],f&&(t.zmin=ie[2]),v(l,s,c?e.zmax:o,n,ie,r)?(t.xmax=ie[0],t.ymax=ie[1],f&&(t.zmax=ie[2]),p&&(t.mmin=e.mmin,t.mmax=e.mmax),t.spatialReference=r,t):null}function oe(e,n,t,r,o,i,a=0){const l=new Array;for(const t of e)for(const e of t)l.push(e[0],e[1],n?e[2]:a);if(!(0,w.projectBuffer)(l,r,0,l,i,0))return!1;let s=0;o.length=0;const c=n||(0,u.xP)(i);for(const n of e){const e=new Array;for(const r of n)c&&t?e.push([l[s++],l[s++],l[s++],r[3]]):c?e.push([l[s++],l[s++],l[s++]]):t?(e.push([l[s++],l[s++],r[2]]),s++):(e.push([l[s++],l[s++]]),s++);o.push(e)}return!0}const ie=(0,l.vt)()},92288:(e,n,t)=>{t.r(n),t.d(n,{registerFunctions:()=>N});var r=t(92602),o=t(47609),i=t(66395),a=t(85935),l=t(78878),s=t(80672),u=t(91075),c=t(91218),p=t(16930),f=t(28735),d=t(20655),h=t(80812),g=t(78888),m=t(56507),y=t(65864),w=t(2272),R=t(92300),v=t(31635),M=t(25482),x=t(10107),A=(t(44208),t(53966),t(87811),t(64108)),S=t(21325);let j=class extends M.o{constructor(e){super(e),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const e=this.geometries.map(e=>e.toJSON()),n=this.geometries[0],t={};return t.outSR=(0,S.YX)(this.outSpatialReference),t.inSR=(0,S.YX)(n.spatialReference),t.geometries=JSON.stringify({geometryType:(0,y.$B)(n),geometries:e}),this.transformation&&(t.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),null!=this.transformForward&&(t.transformForward=this.transformForward),t}};(0,v.Cg)([(0,x.MZ)()],j.prototype,"geometries",void 0),(0,v.Cg)([(0,x.MZ)({type:p.A,json:{read:{source:"outSR"}}})],j.prototype,"outSpatialReference",void 0),(0,v.Cg)([(0,x.MZ)()],j.prototype,"transformation",void 0),(0,v.Cg)([(0,x.MZ)()],j.prototype,"transformForward",void 0),j=(0,v.Cg)([(0,A.$)("esri.rest.support.ProjectParameters")],j);const I=(0,m.dp)(j);var P=t(25927),C=t(42538),k=t(40662),G=t(42095),Z=t(23150),O=t(54218);let $=null;async function T(e,n){const r=new h.default({portal:e,id:n});return await r.load(),null===$&&($=await Promise.all([t.e(2869),t.e(3910),t.e(5323),t.e(217),t.e(2568),t.e(490)]).then(t.bind(t,62568))),await $.fetchKnowledgeGraph(r.url)}function b(e,n,t,r,o){if(null===e)return null;if((0,O.Kg)(e)||(0,O.Et)(e))return e;if((0,l.e)(e))return e.toJSDate();if((0,l.e)(e))return e.toJSDate();if((0,l.f)(e))return e.toStorageFormat();if((0,l.g)(e))return e.toStorageString();if((0,l.n)(e)){const i={};for(const a of e.keys())i[a]=b(e.field(a),n,t,r,o),i[a]instanceof u.A&&o.push({container:i,indexer:a});return i}if((0,O.cy)(e)){const i=e.map(e=>b(e,n,t,r,o));for(let e=0;e<i.length;e++)i[e]instanceof u.A&&o.push({container:i,indexer:e});return i}return(0,l.h)(e)?e.spatialReference.isWGS84?e:e.spatialReference.isWebMercator&&n?(0,f.ci)(e):e:void 0}function z(e,n){if(!e)return null;const t={};for(const r in e)t[r]=q(e[r],n);return t}function q(e,n){return null===e?null:(0,O.cy)(e)?e.map(e=>q(e,n)):e instanceof P.A?{graphTypeName:e.typeName,id:e.id,graphType:"entity",properties:z(e.properties,n)}:e instanceof k.A?{graphType:"object",properties:z(e.properties,n)}:e instanceof Z.A?{graphTypeName:e.typeName,id:e.id,graphType:"relationship",originId:e.originId??null,destinationId:e.destinationId??null,properties:z(e.properties,n)}:e instanceof G.A?{graphType:"path",path:e.path?e.path.map(e=>q(e,n)):null}:(0,l.h)(e)?function(e,n){if(!e)return e;if(e.spatialReference.isWGS84&&n.spatialReference.isWebMercator)return(0,f.Gh)(e);if(e.spatialReference.equals(n.spatialReference))return e;throw new a.D$(n,"WrongSpatialReference",null)}(e,n):(0,O.Kg)(e)||(0,O.Et)(e)||(0,O.$P)(e)?e:null}function N(e){"async"===e.mode&&(e.functions.knowledgegraphbyportalitem=function(n,t){return e.standardFunctionAsync(n,t,(e,r,i)=>{if((0,l.B)(i,2,2,n,t),null===i[0])throw new a.D$(n,"PortalRequired",t);if(i[0]instanceof o.A){const e=(0,l.u)(i[1]);let t;return t=n.services?.portal?n.services.portal:d.A.getDefault(),T((0,s.R)(i[0],t),e)}if(!1===(0,O.Kg)(i[0]))throw new a.D$(n,"InvalidParameter",t);const u=(0,l.u)(i[0]);return T(n.services?.portal??d.A.getDefault(),u)})},e.signatures.push({name:"knowledgegraphbyportalitem",min:2,max:2}),e.functions.querygraph=function(n,o){return e.standardFunctionAsync(n,o,async(e,s,u)=>{(0,l.B)(u,2,4,n,o);const f=u[0];if(!(0,l.o)(f))throw new a.D$(n,"InvalidParameter",o);const d=u[1];if(!(0,O.Kg)(d))throw new a.D$(n,"InvalidParameter",o);null===$&&($=await Promise.all([t.e(2869),t.e(3910),t.e(5323),t.e(217),t.e(2568),t.e(490)]).then(t.bind(t,62568)));let h=null;const m=(0,l.J)(u[2],null);if(!(m instanceof i.A||null===m))throw new a.D$(n,"InvalidParameter",o);if(m){let e=[];h=b(m,!0,!1,n,e),e=e.filter(e=>!e.container[e.indexer].spatialReference.isWGS84),e.length>0&&await async function(e){const n=r.A.geometryServiceUrl??"";if(!n){(0,c.isLoaded)()||await(0,c.load)();for(const n of e)n.container[n.indexer]=(0,c.project)(n.container[n.indexer],p.A.WGS84);return}const t=e.map(e=>e.container[e.indexer]),o=new j({geometries:t,outSpatialReference:p.A.WGS84}),i=await async function(e,n){n=I(n);const t=(0,w.Dl)(e),r={...t.query,f:"json",...n.toJSON()},o=n.outSpatialReference,i=(0,y.$B)(n.geometries[0]),a=(0,w.jV)(r,void 0);return(0,g.A)(t.path+"/project",a).then(({data:{geometries:e}})=>(0,R.V)(e,i,o))}(n,o);for(let n=0;n<i.length;n++){const t=e[n];t.container[t.indexer]=i[n]}}(e)}const v=(0,l.J)(u[3],!1),M=new C.A({openCypherQuery:d,bindParameters:h,provenanceBehavior:v?"include":"exclude"});(f?.serviceDefinition?.currentVersion??11.3)>11.2&&(M.outputSpatialReference=n.spatialReference);const x=(await $.executeQueryStreaming(f,M)).resultRowsStream.getReader(),A=[];try{for(;;){const{done:e,value:t}=await x.read();if(e)break;if((0,O.cy)(t))for(const e of t)A.push(q(e,n));else{const e=[];for(const r of t)e.push(q(t[r],n));A.push(e)}}}catch(e){throw e}return i.A.convertJsonToArcade(A,(0,l.K)(n),!1,!0)})},e.signatures.push({name:"querygraph",min:2,max:4}))}},92300:(e,n,t)=>{t.d(n,{V:()=>i,X:()=>o});var r=t(65864);function o(e){return{geometryType:(0,r.$B)(e[0]),geometries:e.map(e=>e.toJSON())}}function i(e,n,t){const o=(0,r.xD)(n);return e.map(e=>{const n=o.fromJSON(e);return n.spatialReference=t,n})}},99157:(e,n,t)=>{t.d(n,{A:()=>s});var r,o=t(31635),i=t(65008),a=t(10107),l=(t(44208),t(53966),t(87811),t(64108));let s=r=class extends i.A{constructor(e){super(e),this.isInverse=!1,this.wkt=null,this.wkid=null}getInverse(){return new r({isInverse:!this.isInverse,wkid:this.wkid,wkt:this.wkt})}};(0,o.Cg)([(0,a.MZ)()],s.prototype,"isInverse",void 0),(0,o.Cg)([(0,a.MZ)()],s.prototype,"wkt",void 0),(0,o.Cg)([(0,a.MZ)()],s.prototype,"wkid",void 0),s=r=(0,o.Cg)([(0,l.$)("esri.geometry.operators.support.GeographicTransformationStep")],s)}}]);