"use strict";(self.webpackChunkRemoteClient=self.webpackChunkRemoteClient||[]).push([[7136],{17136:(e,t,n)=>{n.d(t,{Y_:()=>j,O7:()=>S,el:()=>k});var s=n(92602),i=n(69052),r=n(49186),o=n(53966),c=n(39829),a=n(82799),l=n(16930),u=n(80754),f=n(21325),h=n(28735),p=n(78888),m=n(65864),g=n(2272),y=n(84952),d=n(92300);const M=()=>o.A.getLogger("esri.geometry.support.normalizeUtils");function A(e){return"polygon"===e[0].type}function x(e){return"polyline"===e[0].type}function w(e,t,n){if(t){const t=function(e,t){if(!(e instanceof a.A||e instanceof c.A)){const e="straightLineDensify: the input geometry is neither polyline nor polygon";throw M().error(e),new r.A("internal:geometry",e)}const n=(0,u.r8)(e),s=[];for(const e of n){const n=[];s.push(n),n.push([e[0][0],e[0][1]]);for(let s=0;s<e.length-1;s++){const i=e[s][0],r=e[s][1],o=e[s+1][0],c=e[s+1][1],a=Math.sqrt((o-i)*(o-i)+(c-r)*(c-r)),l=(c-r)/a,u=(o-i)/a,f=a/t;if(f>1){for(let e=1;e<=f-1;e++){const s=e*t,o=u*s+i,c=l*s+r;n.push([o,c])}const e=(a+Math.floor(f-1)*t)/2,s=u*e+i,o=l*e+r;n.push([s,o])}n.push([o,c])}}return function(e){return"polygon"===e.type}(e)?new c.A({rings:s,spatialReference:e.spatialReference}):new a.A({paths:s,spatialReference:e.spatialReference})}(e,1e6);e=(0,h.ci)(t,!0)}return n&&(e=(0,u.kS)(e,n)),e}function b(e,t,n){if(Array.isArray(e)){const s=e[0];if(s>t){const n=(0,u.kd)(s,t);e[0]=s+n*(-2*t)}else if(s<n){const t=(0,u.kd)(s,n);e[0]=s+t*(-2*n)}}else{const s=e.x;if(s>t){const n=(0,u.kd)(s,t);e=e.clone().offset(n*(-2*t),0)}else if(s<n){const t=(0,u.kd)(s,n);e=e.clone().offset(t*(-2*n),0)}}return e}function R(e,t){let n=-1;for(let s=0;s<t.cutIndexes.length;s++){const i=t.cutIndexes[s],r=t.geometries[s],o=(0,u.r8)(r);for(let e=0;e<o.length;e++){const t=o[e];t.some(n=>{if(n[0]<180)return!0;{let n=0;for(let e=0;e<t.length;e++){const s=t[e][0];n=s>n?s:n}n=Number(n.toFixed(9));const s=-360*(0,u.kd)(n,180);for(let n=0;n<t.length;n++){const t=r.getPoint(e,n);r.setPoint(e,n,t.clone().offset(s,0))}return!0}})}if(i===n){if(A(e))for(const t of(0,u.r8)(r))e[i]=e[i].addRing(t);else if(x(e))for(const t of(0,u.r8)(r))e[i]=e[i].addPath(t)}else n=i,e[i]=r}return e}async function k(e,t,n){if(!Array.isArray(e))return k([e],t);t&&"string"!=typeof t&&M().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const i="string"==typeof t?t:t?.url??s.A.geometryServiceUrl;let r,o,l,A,x,S,X,j,L=0;const N=[],v=[];for(const t of e)if(null!=t)if(r||(r=t.spatialReference,o=(0,f.Vp)(r),l=r.isWebMercator,S=l?102100:4326,A=u.j7[S].maxX,x=u.j7[S].minX,X=u.j7[S].plus180Line,j=u.j7[S].minus180Line),o)if("mesh"===t.type)v.push(t);else if("point"===t.type)v.push(b(t.clone(),A,x));else if("multipoint"===t.type){const e=t.clone();e.points=e.points.map(e=>b(e,A,x)),v.push(e)}else if("extent"===t.type){const e=t.clone()._normalize(!1,!1,o);v.push(e.rings?new c.A(e):e)}else if(t.extent){const e=t.extent,n=(0,u.kd)(e.xmin,x)*(2*A);let s=0===n?t.clone():(0,u.kS)(t.clone(),n);e.offset(n,0);let{xmin:i,xmax:r}=e;i=Number(i.toFixed(9)),r=Number(r.toFixed(9)),e.intersects(X)&&r!==A?(L=r>L?r:L,s=w(s,l),N.push(s),v.push("cut")):e.intersects(j)&&i!==x?(L=r*(2*A)>L?r*(2*A):L,s=w(s,l,360),N.push(s),v.push("cut")):v.push(s)}else v.push(t.clone());else v.push(t);else v.push(t);let z=(0,u.kd)(L,A),I=-90;const P=z,W=new a.A;for(;z>0;){const e=360*z-180;W.addPath([[e,I],[e,-1*I]]),I*=-1,z--}if(N.length>0&&P>0){const t=R(N,await async function(e,t,n,s){const i=(0,g.Dl)(e),r=t[0].spatialReference,o={...s,responseType:"json",query:{...i.query,f:"json",sr:(0,f.YX)(r),target:JSON.stringify({geometryType:(0,m.$B)(t[0]),geometries:t}),cutter:JSON.stringify(n)}},c=await(0,p.A)(i.path+"/cut",o),{cutIndexes:a,geometries:l=[]}=c.data;return{cutIndexes:a,geometries:l.map(e=>{const t=(0,m.rS)(e);return t.spatialReference=r,t})}}(i,N,W,n)),s=[],r=[];for(let n=0;n<v.length;n++){const i=v[n];if("cut"!==i)r.push(i);else{const i=t.shift(),o=e[n];null!=o&&"polygon"===o.type&&o.rings&&o.rings.length>1&&i.rings.length>=o.rings.length?(s.push(i),r.push("simplify")):r.push(l?(0,h.Gh)(i):i)}}if(!s.length)return r;const o=await async function(e,t,n){const s="string"==typeof e?(0,y.An)(e):e,i=t[0].spatialReference,r=(0,m.$B)(t[0]),o={...n,query:{...s.query,f:"json",sr:(0,f.YX)(i),geometries:JSON.stringify((0,d.X)(t))}},{data:c}=await(0,p.A)(s.path+"/simplify",o);return(0,d.V)(c.geometries,r,i)}(i,s,n),c=[];for(let e=0;e<r.length;e++){const t=r[e];"simplify"!==t?c.push(t):c.push(l?(0,h.Gh)(o.shift()):o.shift())}return c}const q=[];for(let e=0;e<v.length;e++){const t=v[e];if("cut"!==t)q.push(t);else{const e=N.shift();q.push(!0===l?(0,h.Gh)(e):e)}}return q}function S(e,t,n){const s=(0,f.Vp)(n);if(null==s)return e;const[i,r]=s.valid,o=2*r;let c=0,a=0;t>r?c=Math.ceil(Math.abs(t-r)/o):t<i&&(c=-Math.ceil(Math.abs(t-i)/o)),e>r?a=Math.ceil(Math.abs(e-r)/o):e<i&&(a=-Math.ceil(Math.abs(e-i)/o));let l=e+(c-a)*o;const u=l-t;return u>r?l-=o:u<i&&(l+=o),l}function X(e){const t=(0,f.Vp)(e);if(null==t)return null;const[n,s]=t.valid;return new i.hr(n,s)}const j=X(l.A.WGS84);X(l.A.WebMercator)},69052:(e,t,n)=>{n.d(t,{hr:()=>i,ie:()=>a,uC:()=>c});var s=n(34727);class i{constructor(e,t){this.min=e,this.max=t,this.range=t-e}normalize(e,t=0,n=!1){return r(this.range,this.min,this.max,e,t,n)}clamp(e,t=0){return(0,s.qE)(e-t,this.min,this.max)+t}monotonic(e,t,n){return e<t?t:t+o(this.range,e-t,n)}minimalMonotonic(e,t,n){return r(this.range,e,e+this.range,t,n)}center(e,t,n){return t=this.monotonic(e,t,n),this.normalize((e+t)/2,n)}diff(e,t,n){return this.monotonic(e,t,n)-e}shortestSignedDiff(e,t){e=this.normalize(e);const n=(t=this.normalize(t))-e,s=t<e?this.minimalMonotonic(e,t)-e:t-this.minimalMonotonic(t,e);return Math.abs(n)<Math.abs(s)?n:s}contains(e,t,n){return t=this.minimalMonotonic(e,t),(n=this.minimalMonotonic(e,n))>e&&n<t}}function r(e,t,n,s,i=0,r=!1){return(s-=i)<t?s+=o(e,t-s):s>n&&(s-=o(e,s-n)),r&&s===n&&(s=t),s+i}function o(e,t,n=0){return Math.ceil((t-n)/e)*e+n}const c=new i(0,2*Math.PI),a=(new i(-Math.PI,Math.PI),new i(0,360))},80754:(e,t,n)=>{n.d(t,{j7:()=>o,kS:()=>a,kd:()=>c,r8:()=>l});var s=n(82799),i=n(16930),r=n(65864);const o={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new s.A({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:i.A.WebMercator}),minus180Line:new s.A({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:i.A.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new s.A({paths:[[[180,-180],[180,180]]],spatialReference:i.A.WGS84}),minus180Line:new s.A({paths:[[[-180,-180],[-180,180]]],spatialReference:i.A.WGS84})}};function c(e,t){return Math.ceil((e-t)/(2*t))}function a(e,t){const n=l(e);for(const e of n)for(const n of e)n[0]+=t;return e}function l(e){return(0,r.Bi)(e)?e.rings:e.paths}},92300:(e,t,n)=>{n.d(t,{V:()=>r,X:()=>i});var s=n(65864);function i(e){return{geometryType:(0,s.$B)(e[0]),geometries:e.map(e=>e.toJSON())}}function r(e,t,n){const i=(0,s.xD)(t);return e.map(e=>{const t=i.fromJSON(e);return t.spatialReference=n,t})}}}]);