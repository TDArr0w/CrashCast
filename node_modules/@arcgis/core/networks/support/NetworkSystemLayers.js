/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{__decorate as s}from"tslib";import t from"../../core/Accessor.js";import o from"../../core/Error.js";import{property as r}from"../../core/accessorSupport/decorators/property.js";import"../../core/has.js";import"../../core/Logger.js";import"../../core/RandomLCG.js";import{subclass as e}from"../../core/accessorSupport/decorators/subclass.js";import a from"../../layers/FeatureLayer.js";let l=class extends t{constructor(s){super(s),this.rulesTableId=null,this.rulesTableUrl=null,this.subnetworksTable=null,this.subnetworksTableId=null,this.subnetworksTableUrl=null,this.dirtyAreasLayerId=null,this.dirtyAreasLayerUrl=null,this.associationsTable=null,this.associationsTableId=null,this.associationsTableUrl=null}destroy(){this.associationsTable?.destroy()}async loadAssociationsTable(s){if(!this.associationsTable){const{associationsTableUrl:s}=this;if(!s)throw new o("utility-network-system-layers:missing-associations-table-url","Unable to load the associations table, as the `associationsTableUrl` is not set.");this.associationsTable=new a({url:s})}return await this.associationsTable.load(s),this.associationsTable}async loadSubnetworksTable(s){if(!this.subnetworksTable){const{subnetworksTableUrl:s}=this;if(!s)throw new o("utility-network-system-layers:missing-subnetworks-table-url","Unable to load the subnetworks table, as the `subnetworksTableUrl` is not set.");this.subnetworksTable=new a({url:s})}return await this.subnetworksTable.load(s),this.subnetworksTable}};s([r({constructOnly:!0})],l.prototype,"rulesTableId",void 0),s([r({constructOnly:!0})],l.prototype,"rulesTableUrl",void 0),s([r()],l.prototype,"subnetworksTable",void 0),s([r({constructOnly:!0})],l.prototype,"subnetworksTableId",void 0),s([r({constructOnly:!0})],l.prototype,"subnetworksTableUrl",void 0),s([r({constructOnly:!0})],l.prototype,"dirtyAreasLayerId",void 0),s([r({constructOnly:!0})],l.prototype,"dirtyAreasLayerUrl",void 0),s([r()],l.prototype,"associationsTable",void 0),s([r({constructOnly:!0})],l.prototype,"associationsTableId",void 0),s([r({constructOnly:!0})],l.prototype,"associationsTableUrl",void 0),l=s([e("esri.networks.support.NetworkSystemLayers")],l);export{l as default};
