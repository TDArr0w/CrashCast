/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{__decorate as t}from"tslib";import{clone as o}from"../core/lang.js";import{property as e}from"../core/accessorSupport/decorators/property.js";import"../core/has.js";import"../core/Logger.js";import{enumeration as i}from"../core/accessorSupport/decorators/enumeration.js";import{subclass as r}from"../core/accessorSupport/decorators/subclass.js";import{writer as l}from"../core/accessorSupport/decorators/writer.js";import n from"./Font.js";import s from"./Symbol3DLayer.js";import{screenSizeProperty as a}from"./support/materialUtils.js";import p from"./support/OccludedVisibility.js";import{Symbol3DHalo as u}from"./support/Symbol3DHalo.js";import{Symbol3DMaterial as c}from"./support/Symbol3DMaterial.js";import{Symbol3DTextBackground as m}from"./support/Symbol3DTextBackground.js";import{horizontalAlignmentProperty as h,lineHeightProperty as d,verticalAlignmentProperty as f}from"./support/textUtils.js";var y;let g=class extends s{static{y=this}constructor(t){super(t),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline",this.occludedVisibility=null}get font(){return this._get("font")||null}set font(t){null!=t&&null!=this._userSize&&(t.size=this._userSize),this._set("font",t)}writeFont(t,o,e,i){const r={...i,textSymbol3D:!0};o.font=t.write({},r),delete o.font.size}get size(){return null!=this._userSize?this._userSize:null!=this.font?.size?this.font.size:9}set size(t){this._userSize=t,null!=this.font&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const t=new y({enabled:this.enabled,font:o(this.font),halo:o(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:null!=this.material?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:o(this.background),occludedVisibility:o(this.occludedVisibility)});return t._userSize=this._userSize,t}static fromTextSymbol(t){return new y({font:null!=t.font?t.font.clone():new n,halo:b(t.haloColor,t.haloSize),horizontalAlignment:t.horizontalAlignment,lineHeight:t.lineHeight,material:t.color?new c({color:t.color.clone()}):null,text:t.text,verticalAlignment:t.verticalAlignment,background:t.backgroundColor?new m({color:t.backgroundColor.clone()}):null})}};function b(t,e){return t&&null!=e&&e>0?new u({color:o(t),size:e}):null}t([e({type:n,json:{write:!0}})],g.prototype,"font",null),t([l("font")],g.prototype,"writeFont",null),t([e({type:u,json:{write:!0}})],g.prototype,"halo",void 0),t([e({...h,json:{default:"center",write:!0}})],g.prototype,"horizontalAlignment",void 0),t([e({...d,json:{default:1,write:!0}})],g.prototype,"lineHeight",void 0),t([e({type:c,json:{write:!0}})],g.prototype,"material",void 0),t([e({type:m,json:{write:!0}})],g.prototype,"background",void 0),t([e(a)],g.prototype,"size",null),t([e({type:String,json:{write:!0}})],g.prototype,"text",void 0),t([i({Text:"text"},{readOnly:!0})],g.prototype,"type",void 0),t([e({...f,json:{default:"baseline",write:!0}})],g.prototype,"verticalAlignment",void 0),t([e({type:p})],g.prototype,"occludedVisibility",void 0),g=y=t([r("esri.symbols.TextSymbol3DLayer")],g);export{g as default};
