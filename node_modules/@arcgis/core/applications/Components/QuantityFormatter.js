/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{__decorate as s}from"tslib";import"../../intl.js";import e from"../../core/Accessor.js";import{createTask as t}from"../../core/asyncUtils.js";import{formatLength as r,formatVerticalLength as o,formatArea as a,formatVolume as i,formatDecimal as m}from"../../core/quantityFormatUtils.js";import{formatAngleDegrees as n}from"../../core/unitFormatUtils.js";import{property as p}from"../../core/accessorSupport/decorators/property.js";import"../../core/has.js";import"../../core/Logger.js";import"../../core/RandomLCG.js";import{subclass as c}from"../../core/accessorSupport/decorators/subclass.js";import{onLocaleChange as g}from"../../intl/locale.js";import{fetchMessageBundle as l}from"../../intl/messages.js";let u=class extends e{constructor(s){super(s)}initialize(){this.addHandles(g(()=>this._load())),this._load()}destroy(){this._messagesTask.abort()}async when(){await this._messagesTask.promise}_load(){return null!=this._messagesTask&&this._messagesTask.abort(),this._messagesTask=t(()=>l("esri/core/t9n/Units")),this._messagesTask.promise}get _messages(){return this._messagesTask.value}formatLength(s,e,t){return this._messages?r(this._messages,s,s.unit,e,t):""}formatVerticalLength(s,e,t){return this._messages?o(this._messages,s,s.unit,e,t):""}formatArea(s,e,t){return this._messages?a(this._messages,s,s.unit,e,t):""}formatVolume(s,e,t){return this._messages?i(this._messages,s,s.unit,e,t):""}formatDecimal(s,e,t){return this._messages?m(this._messages,s,s.unit,e,t):""}formatAngleDegrees(s,e,t,r,o){return n(s,e,t,r,o)}};s([p()],u.prototype,"_messagesTask",void 0),s([p()],u.prototype,"_messages",null),u=s([c("esri.applications.Components.QuantityFormatter")],u);const h=u;export{h as default};
