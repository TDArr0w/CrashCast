/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{create as e}from"../../../../geometry/support/aaBoundingRect.js";import s from"./BrushVectorField.js";import{RasterVFTile as r}from"./RasterVFTile.js";import t from"../webgl/TileContainer.js";class i extends t{constructor(){super(...arguments),this.isCustomTilingScheme=!1,this.symbolTypes=["triangle"]}createTile(s){const t=this.tileInfoView.getTileBounds(e(),s),[i,o]=this.tileInfoView.tileInfo.size,n=this.tileInfoView.getTileResolution(s.level);return new r(s,n,t[0],t[3],i,o)}prepareRenderPasses(e){const r=e.registerRenderPass({name:"imagery (vf tile)",brushes:[s],target:()=>this.children.map(e=>e.tileData),drawPhase:1});return[...super.prepareRenderPasses(e),r]}doRender(e){this.visible&&1===e.drawPhase&&this.symbolTypes.forEach(s=>{e.renderPass=s,super.doRender(e)})}}export{i as RasterVFTileContainer};
