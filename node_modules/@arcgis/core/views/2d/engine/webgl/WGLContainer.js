/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import"../../../../core/has.js";import{brushes as e}from"../brushes.js";import{Container as s}from"../Container.js";import r from"./ClippingInfo.js";class i extends s{set clips(e){super.clips=e,this._updateClippingInfo(e)}renderChildren(e){e.painter.setPipelineState(null),null==this._renderPasses&&(this._renderPasses=this.prepareRenderPasses(e.painter));for(const r of this._renderPasses)try{r.render(e)}catch(s){}}prepareRenderPasses(s){return[s.registerRenderPass({name:"clip",brushes:[e.clip],target:()=>this._clippingInfos,drawPhase:87})]}_updateClippingInfo(e){null!=this._clippingInfos&&(this._clippingInfos.forEach(e=>e.destroy()),this._clippingInfos=null),null!=e&&e.length&&(this._clippingInfos=e.items.map(e=>r.fromClipArea(this.stage,e))),this.requestRender()}}export{i as default};
