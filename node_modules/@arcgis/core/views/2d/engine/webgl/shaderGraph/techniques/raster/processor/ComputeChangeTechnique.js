/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{BaseRasterProcessorTechnique as e}from"./BaseRasterProcessorTechnique.js";import{ComputeChangeShader as t}from"../../shaders/raster/processor/ComputeChangeShader.js";class s extends e{constructor(){super(...arguments),this.name="RasterComputeChangeProcessor",this.type=7,this.shaders={computeChange:new t}}_process(e,t){const s=e.rasterFunction.parameters,{rasters:o}=s,n={constantCount:this._getConstantCount(o),imageCount:o.length,method:s.method,isOutputRounded:s.isOutputRounded},r={domainRange:s.domainRange},{twoRasterConfig:a}=this._getMultipleInputConfig(t,o),i=this._getCommonConfig(e,t),u={shader:this.shaders.computeChange,uniforms:{config:i,domainRangeConfig:r,twoRasterConfig:a},defines:n,optionalAttributes:null,useComputeBuffer:!1},{painter:h,context:m}=e;h.submitDrawMesh(m,u,h.quadMesh)}}export{s as ComputeChangeTechnique};
