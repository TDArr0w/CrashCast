/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{BaseRasterProcessorTechnique as e}from"./BaseRasterProcessorTechnique.js";import{LocalShader as s}from"../../shaders/raster/processor/LocalShader.js";class t extends e{constructor(){super(...arguments),this.name="RasterLocalProcessor",this.type=14,this.shaders={local:new s}}_process(e,s){const t=e.rasterFunction.parameters,o={constantCount:this._getConstantCount(t.rasters),imageCount:t.imageCount,operationName:t.operationName,isOutputRounded:t.isOutputRounded},a={domainRange:t.domainRange},r="conditional"===t.operationName?t.rasters:t.rasters?.slice(0,2),n=this._getMultipleInputConfig(s,r),i=this._getCommonConfig(e,s),u={shader:this.shaders.local,uniforms:{config:i,domainRangeConfig:a,...n},defines:o,optionalAttributes:null,useComputeBuffer:!1},{painter:c,context:m}=e;c.submitDrawMesh(m,u,c.quadMesh)}}export{t as LocalTechnique};
