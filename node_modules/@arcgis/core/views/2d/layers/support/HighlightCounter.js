/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{__decorate as e}from"tslib";import t from"../../../../core/Accessor.js";import{getOrCreateMapValue as o}from"../../../../core/MapUtils.js";import r from"../../../../core/ReactiveMap.js";import"../../../../core/Logger.js";import"../../../../core/has.js";import"../../../../core/RandomLCG.js";import"../../../../core/Error.js";import{subclass as s}from"../../../../core/accessorSupport/decorators/subclass.js";let i=class extends t{constructor(){super(...arguments),this._idToCounters=new r}get size(){return this._idToCounters.size}get objectIds(){return this._idToCounters.keys()}get highlightNamesByObjectId(){return n(this._idToCounters)}add(e,t){let r=!1;for(const s of e){const e=o(this._idToCounters,s,()=>(r=!0,new Map)),i=e.get(t)??0;i||(r=!0),e.set(t,i+1)}return r}delete(e,t){let o=!1;for(const r of e){const e=this._idToCounters.get(r);if(!e)continue;let s=e.get(t);null!=s&&(s--,s>0?e.set(t,s):(e.delete(t),o=!0),0===e.size&&(this._idToCounters.delete(r),o=!0))}return o}};function*n(e){for(const[t,o]of e)yield[t,o.keys()]}i=e([s("esri.views.2d.layers.support.HighlightCounter")],i);export{i as HighlightCounter};
