/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{__decorate as e}from"tslib";import t from"../../../core/Error.js";import{property as o}from"../../../core/accessorSupport/decorators/property.js";import"../../../core/has.js";import"../../../core/Logger.js";import"../../../core/RandomLCG.js";import{subclass as r}from"../../../core/accessorSupport/decorators/subclass.js";import{AnalysisView2D as i}from"./AnalysisView2D.js";import{ElevationProfileVisualization2D as s}from"./ElevationProfile/ElevationProfileVisualization2D.js";import{ElevationProfileController as l}from"../../analysis/ElevationProfile/ElevationProfileController.js";import{ElevationProfileLineGroundComputation as n}from"../../analysis/ElevationProfile/ElevationProfileLineGroundComputation.js";import{ElevationProfileLineInputComputation as a}from"../../analysis/ElevationProfile/ElevationProfileLineInputComputation.js";import{ElevationProfileLineQueryComputation as p}from"../../analysis/ElevationProfile/ElevationProfileLineQueryComputation.js";import{ElevationProfileTool as c}from"../../analysis/ElevationProfile/ElevationProfileTool.js";let u=class extends i{constructor(e){super(e),this.type="elevation-profile-view-2d",this.analysis=null,this.hoveredPosition=null}initialize(){const{analysis:e,view:o}=this;this._controller=new l({analysis:e,analysisViewData:this,view:o,computationFactory:{create:e=>{switch(e.profile.type){case"ground":return new n(e);case"input":return new a(e);case"query":return new p(e);case"scene":throw new t("elevation-profile-analysis-view-2d:unsupported","The scene profile line type is not supported in 2D views.")}}}}),this._visualization=new s({view:o,analysisViewData:this}),this._sketchTool=new c({view:o,analysisViewData:this})}destroy(){this._controller?.destroy(),this._visualization?.destroy(),this._sketchTool?.destroy()}get effectiveDisplayUnits(){return this._controller?.effectiveDisplayUnits??{distance:"meters",elevation:"meters"}}get error(){return this._controller?.error}get hoveredPoints(){return this._controller?.hoveredPoints??[]}get interactive(){return super.interactive}set interactive(e){super.interactive=e}get progress(){return this._controller?.progress??0}get results(){return this._controller?.results??[]}get statistics(){return this._controller?.statistics}get updating(){return!0===this._controller?.updating||!0===this._visualization?.updating||!0===this._sketchTool?.updating}get visible(){return super.visible}set visible(e){super.visible=e}get sketchGraphic(){return this._sketchTool?.sketchGraphic}get toolState(){return this._sketchTool?.state??"idle"}place(e){return this._sketchTool.place(e)}pickFeature(e){return this._sketchTool.pickFeature(e)}};e([o({readOnly:!0})],u.prototype,"type",void 0),e([o({constructOnly:!0,nonNullable:!0})],u.prototype,"analysis",void 0),e([o({readOnly:!0})],u.prototype,"effectiveDisplayUnits",null),e([o({readOnly:!0})],u.prototype,"error",null),e([o()],u.prototype,"hoveredPosition",void 0),e([o()],u.prototype,"hoveredPoints",null),e([o({readOnly:!0})],u.prototype,"progress",null),e([o({readOnly:!0})],u.prototype,"results",null),e([o({readOnly:!0})],u.prototype,"statistics",null),e([o({readOnly:!0})],u.prototype,"updating",null),e([o()],u.prototype,"sketchGraphic",null),e([o()],u.prototype,"toolState",null),e([o()],u.prototype,"_controller",void 0),e([o()],u.prototype,"_visualization",void 0),e([o()],u.prototype,"_sketchTool",void 0),u=e([r("esri.views.2d.analysis.ElevationProfileAnalysisView2D")],u);const y=u;export{y as default};
