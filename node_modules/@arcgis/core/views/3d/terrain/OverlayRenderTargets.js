/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{OverlayFramebufferObject as e}from"./OverlayFramebufferObject.js";import{olidEnabled as t}from"../webgl-engine/effects/geometry/olidUtils.js";class r{constructor(t,r,s,o,i=1,a=6){this.output=s,this.content=o,this.redrawOnRequest=i,this.fbo=new e(t,a,r)}handleRenderRequest(e){return 1===e||e===this.redrawOnRequest}get valid(){return this.fbo.valid}}class s{constructor(e){this.targets=[new r(e,"overlay color",0,0),new r(e,"overlay IM color",0,1),new r(e,"overlay highlight",9,2,1,3),new r(e,"overlay water",3,3,0),new r(e,"overlay occluded",0,4)],t()&&this.targets.push(new r(e,"overlay olid",10,5,1,5))}getTexture(e){return this.targets[e]?.fbo.texture}dispose(e){if(0!==e)for(const t of this.targets)t.fbo.dispose();else this.targets[3].fbo.dispose()}computeValidity(){return this.targets.reduce((e,t,r)=>t.valid?e|=1<<r:e,0)}}export{s as OverlayRenderTargets,r as RenderTargetDescriptor};
