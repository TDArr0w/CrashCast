/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import e from"../../../../Color.js";import{watch as t}from"../../../../core/reactiveUtils.js";import{targetConfiguration as o,getObserverRGBA as r,observerConfiguration as i}from"./LineOfSightConfiguration.js";import{Manipulator3D as s}from"../../interactive/Manipulator3D.js";import{createManipulatorMaterial as n}from"../../interactive/manipulatorUtils.js";import{RenderObject as m}from"../../interactive/RenderObject.js";import{disableDisplayOnGrab as a}from"../../interactive/editingTools/manipulatorUtils.js";import{createSphereGeometry as l}from"../../webgl-engine/lib/GeometryUtil.js";class c extends s{constructor(e,o){const s=n(r(e.effectiveTheme)),c=l(s,i.size,32,32),f=new m(c);super({view:e,renderObjects:[f],metadata:o,elevationInfo:{mode:"absolute-height",offset:0}}),a(this),this.themeHandle=t(()=>({color:r(e.effectiveTheme)}),e=>{s.setParameters(e)})}destroy(){this.themeHandle.remove(),super.destroy()}}class f extends s{constructor(e,t){const{size:r,visibleColor:i,occludedColor:s,undefinedColor:n}=o;super({view:e,renderObjects:[d(r,i,16),d(r,s,32),d(r,n,64)],metadata:t,elevationInfo:{mode:"absolute-height",offset:0}}),a(this)}}function d(t,o,r){return new m(l(n(e.toUnitRGBA(o)),t,32,32),r)}export{c as LineOfSightObserverManipulator,f as LineOfSightTargetManipulator};
