/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{__decorate as i}from"tslib";import"../../../core/has.js";import{destroyMaybe as s}from"../../../core/maybe.js";import{property as t}from"../../../core/accessorSupport/decorators/property.js";import"../../../core/Logger.js";import"../../../core/RandomLCG.js";import{subclass as e}from"../../../core/accessorSupport/decorators/subclass.js";import{AnalysisView3D as a}from"./AnalysisView3D.js";import{SliceController as o}from"./Slice/SliceController.js";import l from"./Slice/SliceTool.js";import{SliceVisualization as r}from"./Slice/SliceVisualization.js";import{connectAnalysisViewToTool as n,removeAnalysisViewTool as p,startPlaceOperation as y,startExclusiveInteractiveOperation as c}from"../../analysis/analysisViewUtils.js";let u=class extends a{constructor(i){super(i),this.type="slice-view-3d",this.analysis=null,this.tool=null,this.plane=null,this.active=!0,this.userOperation=null,this._analysisVisualization=null,this._analysisController=null}initialize(){this._analysisVisualization=new r({view:this.view,analysis:this.analysis,analysisViewData:this}),this._analysisController=new o({view:this.view,analysis:this.analysis,analysisViewData:this}),this.addHandles(n(this,l))}destroy(){p(this),this._analysisVisualization=s(this._analysisVisualization),this._analysisController=s(this._analysisController)}get visible(){return super.visible}set visible(i){super.visible=i}get interactive(){return super.interactive}set interactive(i){super.interactive=i}get editable(){return!this._analysisVisualization.preview}set editable(i){this._analysisVisualization.preview=!i}get showGrid(){return this._analysisVisualization?.showGrid??!1}set showGrid(i){this._analysisVisualization&&(this._analysisVisualization.showGrid=i)}get testData(){}place(i){return this.active=!0,y(this,{placementOptions:i,onToolActivated:i=>i.start("place")})}async pickLayerToExclude(i){return this.active=!0,c(this,{abortOptions:i,onToolActivated:i=>i.start("exclude")})}};i([t({readOnly:!0})],u.prototype,"type",void 0),i([t({constructOnly:!0,nonNullable:!0})],u.prototype,"analysis",void 0),i([t()],u.prototype,"tool",void 0),i([t()],u.prototype,"plane",void 0),i([t()],u.prototype,"active",void 0),i([t()],u.prototype,"editable",null),i([t()],u.prototype,"showGrid",null),i([t()],u.prototype,"userOperation",void 0),i([t()],u.prototype,"_analysisVisualization",void 0),i([t()],u.prototype,"_analysisController",void 0),u=i([e("esri.views.3d.analysis.SliceAnalysisView3D")],u);const h=u;export{h as default};
