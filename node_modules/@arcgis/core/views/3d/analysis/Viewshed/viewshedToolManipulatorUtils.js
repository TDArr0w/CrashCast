/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{__decorate as r}from"tslib";import e from"../../../../Color.js";import o from"../../../../core/Handles.js";import{watch as t,initial as i}from"../../../../core/reactiveUtils.js";import{property as s}from"../../../../core/accessorSupport/decorators/property.js";import"../../../../core/has.js";import"../../../../core/Logger.js";import"../../../../core/RandomLCG.js";import"../../../../core/Warning.js";import"../../../../core/Error.js";import{viewshedToolManipulatorConfiguration as c}from"./ViewshedConfiguration.js";import{Manipulator3D as m}from"../../interactive/Manipulator3D.js";import{createManipulatorMaterial as a}from"../../interactive/manipulatorUtils.js";import{RenderObject as n}from"../../interactive/RenderObject.js";import{createSphereGeometry as p}from"../../webgl-engine/lib/GeometryUtil.js";class l extends m{constructor(r,e){super({view:r,autoScaleRenderObjects:!1,worldSized:!1,radius:c.observerSize,interactive:!1}),this._handles=new o;const s=a(this._color);this.renderObjects=[new n(p(s,c.observerSize,32,32))],e.manipulators.add(this),this._handles.add([t(()=>this._color,r=>{s.setParameters({color:r})},i)])}destroy(){this._handles.remove(),super.destroy()}get _color(){return e.toUnitRGBA(this.view.effectiveTheme.accentColor)}}r([s()],l.prototype,"_color",null);export{l as ViewshedObserverManipulator};
