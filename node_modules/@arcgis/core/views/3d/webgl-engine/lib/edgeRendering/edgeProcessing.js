/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{deduplicate as e}from"../../../../../geometry/support/meshUtils/deduplicate.js";import{computeNeighbors as t}from"../../../support/meshProcessing.js";import{newLayout as i}from"../../../support/buffer/InterleavedLayout.js";import{EdgeInputBufferLayout as s}from"./bufferLayouts.js";import{RegularEdgeBufferWriter as r,SilhouetteEdgeBufferWriter as n}from"./edgeBufferWriters.js";import{extractEdges as o}from"./edgePreprocessing.js";function c(e){const t=f(e.data,e.skipDeduplicate,e.indices,e.indicesLength);return p.updateSettings(e.writerSettings),d.updateSettings(e.writerSettings),o(t,p,d)}function f(i,r,n,o){if(r){const e=t(n,o,i.count);return new u(n,o,e,i)}const c=e(i.buffer,i.stride/4,{originalIndices:n}),f=t(c.indices,o,c.uniqueCount);return{faces:c.indices,facesLength:c.indices.length,neighbors:f,vertices:s.createView(c.buffer)}}class u{constructor(e,t,i,s){this.faces=e,this.facesLength=t,this.neighbors=i,this.vertices=s}}const p=new r,d=new n,a=i().vec3f("position0").vec3f("position1"),g=i().vec3f("position0").vec3f("position1").u16("componentIndex");export{c as extract,g as extractComponentsEdgeLocationsLayout,f as extractEdgeInformation,a as extractEdgeLocationsLayout};
