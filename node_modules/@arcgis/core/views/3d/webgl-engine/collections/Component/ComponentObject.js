/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{destroyMaybe as t}from"../../../../../core/maybe.js";import{j as o,o as e,g as r}from"../../../../../chunks/vec32.js";import{create as s}from"../../../../../core/libs/gl-matrix-2/factories/vec3f64.js";import{create as i}from"../../../../../geometry/support/aaBoundingBox.js";class a{constructor(t,o,e,r,s,i){this.transform=t,this.toMapSpace=o,this.obb=e,this.componentData=r,this.renderable=s,this.intersectionGeometry=i,this.visible=!1,this.offsetObb=null,this._aabbInWorldCoordinates=null}destroy(){this.intersectionGeometry=t(this.intersectionGeometry),this.renderable=t(this.renderable),this.componentData=t(this.componentData)}get aabbInWorldCoordinates(){let t=this._aabbInWorldCoordinates;return t||(t=this._computeAabbInWorldCoordinates(),this._aabbInWorldCoordinates=t),t}_computeAabbInWorldCoordinates(){const t=i(),{positions:a}=this.intersectionGeometry;if(Math.floor(a.length/3)>0){const{rotationScale:i,position:n}=this.transform;let h=1/0,m=1/0,c=1/0,l=-1/0,b=-1/0,d=-1/0;const p=s();for(let t=0;t<a.length;t+=3)o(p,a[t+0],a[t+1],a[t+2]),e(p,p,i),r(p,p,n),h=Math.min(h,p[0]),m=Math.min(m,p[1]),c=Math.min(c,p[2]),l=Math.max(l,p[0]),b=Math.max(b,p[1]),d=Math.max(d,p[2]);t[0]=h,t[1]=m,t[2]=c,t[3]=l,t[4]=b,t[5]=d}return t}}export{a as ComponentObject};
