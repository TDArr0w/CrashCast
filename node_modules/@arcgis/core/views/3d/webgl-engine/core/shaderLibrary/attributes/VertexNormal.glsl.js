/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{neverReached as r}from"../../../../../../core/compilerUtils.js";import{create as o}from"../../../../../../core/libs/gl-matrix-2/factories/mat3f64.js";import{create as a}from"../../../../../../core/libs/gl-matrix-2/factories/vec4f64.js";import{NormalAttribute as l}from"./NormalAttribute.glsl.js";import{VertexPositionPassParameters as m,VertexPositionDrawParameters as e}from"./VertexPosition.glsl.js";import{glsl as s}from"../../shaderModules/glsl.js";import{Matrix3DrawUniform as t}from"../../shaderModules/Matrix3DrawUniform.js";import{Matrix3PassUniform as i}from"../../shaderModules/Matrix3PassUniform.js";function d(o,a){switch(a.normalType){case 0:case 1:o.include(l,a),o.varyings.add("vNormalWorld","vec3"),o.varyings.add("vNormalView","vec3"),o.vertex.uniforms.add(new t("transformNormalGlobalFromModel",r=>r.transformNormalGlobalFromModel),new i("transformNormalViewFromGlobal",r=>r.transformNormalViewFromGlobal)).code.add(s`void forwardNormal() {
vNormalWorld = transformNormalGlobalFromModel * normalModel();
vNormalView = transformNormalViewFromGlobal * vNormalWorld;
}`);break;case 2:o.vertex.code.add(s`void forwardNormal() {}`);break;default:r(a.normalType);case 3:}}class f extends m{constructor(){super(...arguments),this.transformNormalViewFromGlobal=o()}}class c extends e{constructor(){super(...arguments),this.transformNormalGlobalFromModel=o(),this.toMapSpace=a()}}export{d as VertexNormal,c as VertexNormalDrawParameters,f as VertexNormalPassParameters};
