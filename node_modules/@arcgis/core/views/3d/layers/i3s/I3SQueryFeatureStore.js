/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{__decorate as r}from"tslib";import t from"../../../../core/Accessor.js";import{toConst as e}from"../../../../core/compilerUtils.js";import{EventEmitter as o}from"../../../../core/Evented.js";import{property as s}from"../../../../core/accessorSupport/decorators/property.js";import"../../../../core/Logger.js";import"../../../../core/RandomLCG.js";import{subclass as c}from"../../../../core/accessorSupport/decorators/subclass.js";import{projectBoundingSphere as n}from"../../../../geometry/projection/projectBoundingSphere.js";import{create as p,toRect as i}from"../../../../geometry/support/aaBoundingBox.js";import{intersects as a,create as u}from"../../../../geometry/support/aaBoundingRect.js";import{f as m}from"../../../../chunks/sphere.js";const f=p();let l=class extends t{constructor(r){super(r),this.events=new o}forEach(r){this.forAllFeatures(t=>(r(t),1))}forEachBounds(r,t){for(const e of r)t(this.getFeatureExtent(e,f))}forEachInBounds(r,t){this.forAllFeatures(o=>{const s=this.getFeatureExtent(e(o),h);return a(r,i(s,y))&&t(e(o)),1},t=>{if(n(t,this.sourceSpatialReference,d,this.viewSpatialReference),d[0]>=r[0]&&d[2]<=r[2]&&d[1]>=r[1]&&d[3]<=r[3])return 1;const e=Math.max(r[0],Math.min(d[0],r[2])),o=Math.max(r[1],Math.min(d[1],r[3])),s=d[0]-e,c=d[1]-o;return s*s+c*c<=d[3]*d[3]?1:2})}};r([s({constructOnly:!0})],l.prototype,"featureAdapter",void 0),r([s({constructOnly:!0})],l.prototype,"forAllFeatures",void 0),r([s({constructOnly:!0})],l.prototype,"getFeatureExtent",void 0),r([s({constructOnly:!0})],l.prototype,"sourceSpatialReference",void 0),r([s({constructOnly:!0})],l.prototype,"viewSpatialReference",void 0),l=r([c("esri.views.3d.layers.i3s.I3SQueryFeatureStore")],l);const d=m(0,0,0,0),h=p(),y=u();export{l as I3SQueryFeatureStore};
