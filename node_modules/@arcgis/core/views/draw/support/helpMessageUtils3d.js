/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{getMetersPerUnitForSR as e,getMetersPerVerticalUnitForSR as t}from"../../../core/unitUtils.js";import{j as o}from"../../../chunks/vec32.js";import{create as r}from"../../../core/libs/gl-matrix-2/factories/vec3f64.js";import{getGraphicEffectiveElevationInfo as i,zValueInAbsoluteHeightMode as n}from"../../../support/elevationInfoUtils.js";function s(r,s){const l=r?.geometry;if(!r||"mesh"!==l?.type||!s)return;const{renderCoordsHelper:f,elevationProvider:p}=s,{camera:u}=s.state,{extent:d}=l,{center:x,spatialReference:g}=d,v=e(g),j=t(g),z=e(f.spatialReference),R=d.width*v,y=d.height*j,C=(d.zmax??0)*j,U=C-(d.zmin??0)*j,b=Math.max(R,y,U)/z,{x:w,y:M}=x,P=x.z??0;o(h,w,M,P),f.toRenderCoords(h,g,h);const S=b/u.computeScreenPixelSizeAt(h);if(S>Math.min(u.width,u.height)/u.pixelRatio*a)return"meshTooClose";if(S<m)return"meshTooFar";const T=i(r),{absoluteZ:k}=n(w,M,C,g,s,T);return k<(p.getElevation(w,M,P,g,"ground")??0)*j+U*c?"meshUnderground":"mesh"}const m=20,a=1,c=.1,h=r();export{s as getDrawMeshHelpMessage};
