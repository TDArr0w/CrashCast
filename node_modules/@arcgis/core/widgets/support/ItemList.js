/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{Heading as e}from"./Heading.js";import{classes as t}from"./widgetUtils.js";import{tsx as n}from"./jsxFactory.js";import"@arcgis/toolkit/dom";const l="esri-item-list",i=`${l}__list-item`,o={filterContainerSticky:`${l}__filter-container--sticky`,group:`${l}__group`,groupHeader:`${l}__group__header`,item:i,itemDisabled:`${i}--disabled`,itemIcon:`${i}-icon`,itemContentEnd:`${i}-content-end`,noMatchesMessage:`${l}__no-matches-message`,scroller:`${l}__scroller`,scrollerEnabled:`${l}__scroller--enabled`},r=4;function s(e){const{disabled:t,filterText:l="",id:i,messages:o,onFilterChange:r,...s}=e;return n("div",{key:i},e.filterEnabled??1?c({disabled:t,filterText:l,id:i,messages:o,onFilterChange:r}):null,d({...s,disabled:t,enableListScroll:e.enableListScroll??!0,filterText:l,messages:o}))}function a(e){return!!e.items}function d(e){const{headingLevel:l,items:i,...r}=e;return 0===i.length?n("div",{class:o.noMatchesMessage,key:"no-matches"},e.messages.noMatches):n("div",{class:t({[o.scroller]:!0,[o.scrollerEnabled]:!!e.enableListScroll}),key:"item-container"},i.map(e=>a(e)?g({...r,group:e,headingLevel:l}):m({...r,grouped:!0,item:e})))}function c(e){const{disabled:t,messages:l,filterText:i,enableListScroll:r}=e;return n("div",{class:r?void 0:o.filterContainerSticky,key:"filter"},n("calcite-input",{disabled:t,placeholder:l.filterPlaceholder,type:"search",value:i,onCalciteInputInput:t=>{const n=t.currentTarget;e.onFilterChange?.(n.value)}}))}function m(e){const{disabled:l,identify:i,item:r,onItemMouseEnter:s,onItemMouseLeave:a,onItemSelect:d,renderIcon:c,renderCustomItem:m,renderItemContent:g,renderItemContentEnd:p,renderItemLabel:f,renderItemDescription:v,renderItemActionEnd:_,renderItemTitle:I,selectedItem:h}=e,y=u(r,i),C=y===u(h,i),k=m?.(e);if(k)return k;const $=g?.(r),L=p?.(r),M=_?.(r),E=!(!r.disabled&&!l),S=c?.(r);return n("calcite-list-item",{afterUpdate:e=>{e.selected=C},class:t({[o.item]:!0,[o.itemDisabled]:E}),"data-item":r,description:$?void 0:v?.(r)??void 0,disabled:E,key:y,label:$?void 0:f?.(r)??r.label??void 0,onblur:e=>a?.(b(e)),onfocus:e=>s?.(b(e)),onmouseenter:e=>s?.(b(e)),onmouseleave:e=>a?.(b(e)),selected:C,title:I?.(r)??void 0,onCalciteListItemSelect:e=>{e.preventDefault(),d?.(b(e))}},S?n("div",{class:o.itemIcon,key:"content-start",slot:"content-start"},S):void 0,$?n("div",{key:"content",slot:"content"},$):null,L?n("div",{class:o.itemContentEnd,key:"content-end",slot:"content-end"},L):null,M??null)}function u(e,t){return e?`${t?.(e)||e.id}__${e.label}`:""}function b(e){return e.currentTarget["data-item"]}function g(t){const{disabled:l,group:i,headingLevel:s=r,selectionMode:a="none",renderCustomGroupContent:d,...c}=t,u=d?.(t);return n("div",{class:o.group,key:i.label??void 0},n(e,{class:o.groupHeader,level:s},i.label),u||n("calcite-list",{disabled:l,label:i.label??"",selectionAppearance:"border",selectionMode:a},i.items.map(e=>m({...c,disabled:l,item:e,grouped:!0}))))}export{s as ItemList,g as renderGroup,m as renderItem};
