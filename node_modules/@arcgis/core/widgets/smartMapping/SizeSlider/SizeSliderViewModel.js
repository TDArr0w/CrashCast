/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{__decorate as e}from"tslib";import{property as s}from"../../../core/accessorSupport/decorators/property.js";import"../../../core/has.js";import"../../../core/Logger.js";import"../../../core/RandomLCG.js";import{subclass as t}from"../../../core/accessorSupport/decorators/subclass.js";import r from"../SmartMappingPrimaryHandleSliderViewModel.js";let o=class extends r{constructor(e){super(e),this.persistSizeRangeEnabled=!1}set stops(e){super.stops=e}updateStops(e){const{primaryHandleEnabled:s,persistSizeRangeEnabled:t,stops:r}=this,o=this.getValuesFromStops();if(!o?.length)return;if(e.sort((e,s)=>e.value>s.value?1:-1).forEach(e=>{o[e.index]=e.value}),r.forEach((e,s)=>e.value=o[s]),s&&t){const{stops:e}=this,s=this.getValuesFromStops(),t=e.map(e=>e.size),r=Math.max(...t),o=Math.min(...t),a=Math.max(...s),i=Math.min(...s),p=e[5===e.length?2:1].value,l=Math.abs(a-p),n=Math.abs(i-p),m=l>n?l:n,c=r-o;if(0===m)return;e.forEach(e=>{e.size=Math.abs(e.value-p)/m*c+o})}}};e([s()],o.prototype,"persistSizeRangeEnabled",void 0),o=e([t("esri.widgets.smartMapping.SizeSlider.SizeSliderViewModel")],o);const a=o;export{a as default};
