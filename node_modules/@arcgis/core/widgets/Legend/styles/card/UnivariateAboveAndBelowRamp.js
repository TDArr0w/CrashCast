/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{__decorate as e}from"tslib";import{property as t}from"../../../../core/accessorSupport/decorators/property.js";import"../../../../core/has.js";import"../../../../core/Logger.js";import"../../../../core/RandomLCG.js";import{subclass as o}from"../../../../core/accessorSupport/decorators/subclass.js";import r from"../../../Widget.js";import{css as i}from"./css.js";import{getUnivariateAboveAndBelowRampElements as s,getUnivariateSizeRampSize as l,getUnivariateColorRampSize as a,getUnivariateColorRampPreview as p,getUnivariateColorRampMargin as n}from"../support/univariateUtils.js";import{attachToNode as c}from"../../support/styleUtils.js";import{isRTL as m}from"../../../support/widgetUtils.js";import{tsx as d}from"../../../support/jsxFactory.js";import"@arcgis/toolkit/dom";let f=class extends r{constructor(e,t){super(e,t),this.cssEffectFilter=null,this.legendElement=null,this.opacity=1}render(){const{legendElement:e,opacity:t,cssEffectFilter:o,key:r}=this,{sizeRampElement:f,colorRampElement:y}=s(e,t,"horizontal");if(!f)return null;const h=l(f,"full",!0,"horizontal"),v=a(f,"above",!0,"horizontal"),u=a(f,"below",!0,"horizontal"),g=12,b=this.messages?.previewColorRampAriaLabel,w=p(y,{width:v,height:g,rampAlignment:"horizontal",opacity:t,type:"above",cssEffectFilter:o,ariaLabel:b}),x=p(y,{width:u,height:g,rampAlignment:"horizontal",opacity:t,type:"below",cssEffectFilter:o,ariaLabel:b}),j=n(f,"card"),E=f.infos.map(e=>e.label),z=E.length-1,C=E.map((e,t)=>0===t||t===z?d("div",{key:t},e):null),R={display:"flex",flexDirection:"column"},L={display:"flex",flexDirection:"row"},A={marginTop:"3px",display:"flex"};m(this.container)?A.marginRight=`${j}px`:A.marginLeft=`${j}px`;const k={width:`${h}px`,display:"flex",flexDirection:"row",justifyContent:"space-between"};return d("div",{class:i.layerRow,key:`${r}-container`,styles:R},d("div",{class:this.classes(i.symbolContainer,i.sizeRampHorizontal),styles:L},f.infos.map((e,t)=>d("div",{afterCreate:c,bind:e.preview,class:i.symbol,key:t}))),w?d("div",{class:i.univariateAboveAndBelowColorRamp,key:"color-ramp-preview",styles:A},d("div",{afterCreate:c,bind:w}),d("div",{afterCreate:c,bind:x})):null,d("div",{class:i.layerInfo},d("div",{class:i.rampLabelsContainer,styles:k},C)))}};e([t()],f.prototype,"cssEffectFilter",void 0),e([t()],f.prototype,"legendElement",void 0),e([t()],f.prototype,"messages",void 0),e([t()],f.prototype,"opacity",void 0),f=e([o("esri.widgets.Legend.styles.card.UnivariateAboveAndBelowRamp")],f);export{f as default};
