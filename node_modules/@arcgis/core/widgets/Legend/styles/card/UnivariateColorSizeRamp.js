/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{__decorate as e}from"tslib";import{property as t}from"../../../../core/accessorSupport/decorators/property.js";import"../../../../core/has.js";import"../../../../core/Logger.js";import"../../../../core/RandomLCG.js";import{subclass as o}from"../../../../core/accessorSupport/decorators/subclass.js";import s from"../../../Widget.js";import{css as r}from"./css.js";import{getUnivariateColorSizeRampElements as i,getUnivariateSizeRampSize as l,getUnivariateColorRampSize as a,getUnivariateColorRampPreview as p,getUnivariateColorRampMargin as n}from"../support/univariateUtils.js";import{attachToNode as c}from"../../support/styleUtils.js";import{isRTL as m}from"../../../support/widgetUtils.js";import{tsx as d}from"../../../support/jsxFactory.js";import"@arcgis/toolkit/dom";let f=class extends s{constructor(e,t){super(e,t),this.cssEffectFilter=null,this.legendElement=null,this.opacity=1}render(){const{legendElement:e,opacity:t,cssEffectFilter:o,key:s}=this,{sizeRampElement:f,colorRampElement:y}=i(e,"horizontal");if(!f)return null;const u=l(f,"full",!1,"horizontal"),g=a(f,"full",!1,"horizontal"),v=p(y,{width:g,height:12,rampAlignment:"horizontal",opacity:t,type:"full",cssEffectFilter:o,ariaLabel:this.messages?.previewColorRampAriaLabel}),h=n(f,"card"),x=f.infos.length-1,j=f.infos.map((e,t)=>0===t||t===x?d("div",{key:t},e.label):null),b={display:"flex",flexDirection:"column"},w={display:"flex",flexDirection:"row"},C={marginTop:"3px",display:"flex"};m(this.container)?C.marginRight=`${h}px`:C.marginLeft=`${h}px`;const E={width:`${u}px`,display:"flex",flexDirection:"row",justifyContent:"space-between"};return d("div",{class:r.layerRow,key:`${s}-container`,styles:b},d("div",{class:this.classes(r.symbolContainer,r.sizeRampHorizontal),styles:w},f.infos.map((e,t)=>d("div",{afterCreate:c,bind:e.preview,class:r.symbol,key:t}))),d("div",{class:r.univariateAboveAndBelowColorRamp,key:"color-ramp-preview",styles:C},d("div",{afterCreate:c,bind:v})),d("div",{class:r.layerInfo},d("div",{class:r.rampLabelsContainer,styles:E},j)))}};e([t()],f.prototype,"cssEffectFilter",void 0),e([t()],f.prototype,"legendElement",void 0),e([t()],f.prototype,"messages",void 0),e([t()],f.prototype,"opacity",void 0),f=e([o("esri.widgets.Legend.styles.card.UnivariateColorSizeRamp")],f);export{f as default};
