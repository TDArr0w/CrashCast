/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{__decorate as e}from"tslib";import{property as s}from"../../../../core/accessorSupport/decorators/property.js";import"../../../../core/has.js";import"../../../../core/Logger.js";import"../../../../core/RandomLCG.js";import{subclass as t}from"../../../../core/accessorSupport/decorators/subclass.js";import r from"../../../Widget.js";import{css as o}from"./css.js";import{getUnivariateColorSizeRampElements as i,getUnivariateColorRampMargin as l,getUnivariateColorRampSize as a,getUnivariateColorRampPreview as p,univariateColorRampContainerStyles as c,univariateColorRampStyles as m,univariateRampContainerStyles as n}from"../support/univariateUtils.js";import{attachToNode as d}from"../../support/styleUtils.js";import"../../../support/widgetUtils.js";import{tsx as y}from"../../../support/jsxFactory.js";import"@arcgis/toolkit/dom";let f=class extends r{constructor(e,s){super(e,s),this.cssEffectFilter=null,this.legendElement=null,this.opacity=1}render(){const{legendElement:e,opacity:s,cssEffectFilter:t,key:r}=this,{sizeRampElement:f,colorRampElement:v}=i(e);if(!f)return null;const u=l(f),g=12,b=a(f,"full",!1),h=p(v,{width:g,height:b,rampAlignment:"vertical",opacity:s,type:"full",cssEffectFilter:t,ariaLabel:this.messages?.previewColorRampAriaLabel}),j=f.infos.length-1,E=f.infos.map((e,s)=>0===s||s===j?y("div",{class:e.label?v?o.univariateAboveAndBelowLabel:o.rampLabel:void 0,key:`${r}-color-ramp-label-${e.label??s}`},e.label):null),w={display:"table-cell",verticalAlign:"middle"},L={marginTop:`${u}px`},C={height:`${b}px`};return y("div",{key:`${r}-container`,styles:n},y("div",{class:o.layerBody},f.infos.map((e,s)=>y("div",{class:this.classes(o.layerRow,o.sizeRamp),key:`${r}-row-${s}`},y("div",{afterCreate:d,bind:e.preview,class:o.symbol,styles:w})))),y("div",{styles:L},y("div",{styles:c},y("div",{styles:m},y("div",{afterCreate:d,bind:h,class:o.rampContainer})),y("div",{styles:m},y("div",{class:o.rampLabelsContainer,styles:C},E)))))}};e([s()],f.prototype,"cssEffectFilter",void 0),e([s()],f.prototype,"legendElement",void 0),e([s()],f.prototype,"messages",void 0),e([s()],f.prototype,"opacity",void 0),f=e([t("esri.widgets.Legend.styles.classic.UnivariateColorSizeRamp")],f);export{f as default};
