/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{__decorate as e}from"tslib";import"../../../../intl.js";import{property as t}from"../../../../core/accessorSupport/decorators/property.js";import"../../../../core/has.js";import"../../../../core/Logger.js";import"../../../../core/RandomLCG.js";import{subclass as s}from"../../../../core/accessorSupport/decorators/subclass.js";import r from"../../../Widget.js";import{css as o}from"./css.js";import{getRampStopLabel as i}from"../support/utils.js";import{attachToNode as l}from"../../support/styleUtils.js";import"../../../support/widgetUtils.js";import{tsx as p}from"../../../support/jsxFactory.js";import"@arcgis/toolkit/dom";import{substitute as a}from"../../../../intl/substitute.js";const m=24;let n=class extends r{constructor(e,t){super(e,t),this.legendElement=null,this.opacity=1}get _preview(){const e=this.legendElement.preview;if(!e)return null;const t="opacity-ramp"===this.legendElement.type?o.opacityRamp:"";return e.className=`${o.colorRamp} ${t}`,null!=this.opacity&&(e.style.opacity=this.opacity.toString()),e}render(){const{legendElement:e,_preview:t}=this;if(!t)return null;const s={width:`${m}px`},r={height:t.style.height},i=a(this.messages.previewColorRampAriaLabel,{label:null});return i&&t.querySelector("svg")?.setAttribute("aria-label",i),p("div",{class:o.layerRow,key:`${this.key}-row`},p("div",{class:o.symbolContainer,styles:s},p("div",{afterCreate:l,bind:t,class:o.rampContainer})),p("div",{class:o.layerInfo},p("div",{class:o.rampLabelsContainer,styles:r},e.infos.map((t,s)=>this._renderRampLabel(t,s,e.type)))))}_renderRampLabel(e,t,s){return p("div",{class:e.label?o.rampLabel:void 0,key:`${this.key}-stop-${e.label??t}-label`},i(e,s,this.messages))}};e([t()],n.prototype,"_preview",null),e([t()],n.prototype,"legendElement",void 0),e([t()],n.prototype,"messages",void 0),e([t()],n.prototype,"opacity",void 0),n=e([s("esri.widgets.Legend.styles.classic.ColorRamp")],n);export{n as default};
