/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{__decorate as e}from"tslib";import{property as s}from"../../../../core/accessorSupport/decorators/property.js";import"../../../../core/has.js";import"../../../../core/Logger.js";import"../../../../core/RandomLCG.js";import{subclass as t}from"../../../../core/accessorSupport/decorators/subclass.js";import r from"../../../Widget.js";import{css as i}from"./css.js";import{getUnivariateAboveAndBelowRampElements as l,getUnivariateColorRampSize as o,getUnivariateColorRampPreview as a,getUnivariateColorRampMargin as p,univariateColorRampContainerStyles as n,univariateColorRampStyles as c,univariateRampContainerStyles as m}from"../support/univariateUtils.js";import{attachToNode as d}from"../../support/styleUtils.js";import"../../../support/widgetUtils.js";import{tsx as v}from"../../../support/jsxFactory.js";import"@arcgis/toolkit/dom";let y=class extends r{constructor(e,s){super(e,s),this.cssEffectFilter=null,this.legendElement=null,this.opacity=1}render(){const{legendElement:e,opacity:s,cssEffectFilter:t,key:r}=this,{sizeRampElement:y,colorRampElement:b}=l(e,s);if(!y)return null;const f=this.messages.previewColorRampAriaLabel,u=o(y,"above",!0),g=o(y,"below",!0),h=12,w=a(b,{width:h,height:u,rampAlignment:"vertical",opacity:s,type:"above",cssEffectFilter:t,ariaLabel:f}),j=a(b,{width:h,height:g,rampAlignment:"vertical",opacity:s,type:"below",cssEffectFilter:t,ariaLabel:f}),L=p(y),A=y.infos.map(e=>e.label),E=A.map((e,s)=>{const t=2===s;return 0===s?v("div",{class:e?w?i.univariateAboveAndBelowLabel:i.rampLabel:void 0,key:`${r}-color-ramp-above-label-${e??s}`},e):t?v("div",null):null}),$=A.length-1,C=Math.floor(A.length/2),R=A.map((e,s)=>s===C||s===$?v("div",{class:e?w?i.univariateAboveAndBelowLabel:i.rampLabel:void 0,key:`${r}-color-ramp-below-label-${e??s}`},e):null),k={display:"table-cell",verticalAlign:"middle"},x={marginTop:`${L}px`},F={height:`${u}px`},B={height:`${g}px`};return v("div",{key:`${r}-container`,styles:m},v("div",{class:i.layerBody},y.infos.map((e,s)=>v("div",{class:this.classes(i.layerRow,i.sizeRamp),key:`${r}-row-${s}`},v("div",{afterCreate:d,bind:e.preview,class:i.symbol,styles:k}),w||s%2!=0?null:v("div",{class:i.layerInfo},A[s])))),w?v("div",{styles:x},v("div",{styles:n},v("div",{styles:c},v("div",{afterCreate:d,bind:w,class:i.rampContainer})),v("div",{styles:c},v("div",{class:i.rampLabelsContainer,styles:F},E))),v("div",{styles:n},v("div",{styles:c},v("div",{afterCreate:d,bind:j,class:i.rampContainer})),v("div",{styles:c},v("div",{class:i.rampLabelsContainer,styles:B},R)))):null)}};e([s()],y.prototype,"cssEffectFilter",void 0),e([s()],y.prototype,"legendElement",void 0),e([s()],y.prototype,"messages",void 0),e([s()],y.prototype,"opacity",void 0),y=e([t("esri.widgets.Legend.styles.classic.UnivariateAboveAndBelowRamp")],y);export{y as default};
