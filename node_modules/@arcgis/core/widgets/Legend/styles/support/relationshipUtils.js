/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{generateFillAttributes as e,renderDef as a,renderShape as l,getBoundingBox as r,computeBBox as t,getTransformMatrix as o,generateStrokeAttributes as s}from"../../../../symbols/support/svgUtils.js";import{isRTL as i,classes as n}from"../../../support/widgetUtils.js";import{tsx as d}from"../../../support/jsxFactory.js";import"@arcgis/toolkit/dom";const m="esri-relationship-ramp",b=`${m}--diamond`,u=`${m}--square`,c="http://www.w3.org/2000/svg",f={diamondContainer:`${b}__container`,diamondLeftCol:`${b}__left-column`,diamondRightCol:`${b}__right-column`,diamondMidCol:`${b}__middle-column`,diamondMidColLabel:`${b}__middle-column--label`,diamondMidColRamp:`${b}__middle-column--ramp`,squareTable:`${u}__table`,squareTableRow:`${u}__table-row`,squareTableCell:`${u}__table-cell`,squareTableLabel:`${u}__table-label`,squareTableLabelLeftBottom:`${u}__table-label--left-bottom`,squareTableLabelRightBottom:`${u}__table-label--right-bottom`,squareTableLabelLeftTop:`${u}__table-label--left-top`,squareTableLabelRightTop:`${u}__table-label--right-top`};function k(e,a,l={}){const{focus:r,labels:t}=e,o=!!r,s=h(e,a,l),m={justifyContent:"center"},b=i(),u=l.key??a;return o?d("div",{class:f.diamondContainer,key:`${u}-container`,styles:m},d("div",{class:f.diamondLeftCol},b?t.right:t.left),d("div",{class:f.diamondMidCol},d("div",{class:f.diamondMidColLabel},t.top),s,d("div",{class:f.diamondMidColLabel},t.bottom)),d("div",{class:f.diamondRightCol},b?t.left:t.right)):d("div",{class:f.squareTable,key:`${u}-container`},d("div",{class:f.squareTableRow},d("div",{class:n(f.squareTableCell,f.squareTableLabel,f.squareTableLabelRightBottom)},b?t.top:t.left),d("div",{class:f.squareTableCell}),d("div",{class:n(f.squareTableCell,f.squareTableLabel,f.squareTableLabelLeftBottom)},b?t.left:t.top)),d("div",{class:f.squareTableRow},d("div",{class:f.squareTableCell}),s,d("div",{class:f.squareTableCell})),d("div",{class:f.squareTableRow},d("div",{class:n(f.squareTableCell,f.squareTableLabel,f.squareTableLabelRightTop)},b?t.right:t.bottom),d("div",{class:f.squareTableCell}),d("div",{class:n(f.squareTableCell,f.squareTableLabel,f.squareTableLabelLeftTop)},b?t.bottom:t.right)))}function p(e,a,l){const r=`${l}_arrowStart`,t=`${l}_arrowEnd`,o="left"===e,s={markerStart:null,markerEnd:null};switch(a){case"HL":o?s.markerStart=`url(#${t})`:s.markerEnd=`url(#${r})`;break;case"LL":s.markerStart=`url(#${t})`;break;case"LH":o?s.markerEnd=`url(#${r})`:s.markerStart=`url(#${t})`;break;default:s.markerEnd=`url(#${r})`}return s}function h(i,n,m={}){const{focus:b,numClasses:u,colors:k,rotation:h}=i,{opacity:T,cssEffectFilter:_,ariaLabel:q}=m,$=m.size??60,g=!!b,L=Math.sqrt($**2+$**2)+(g?0:5),C=[],v=[],w=[],y=($||75)/u;for(let t=0;t<u;t++){const o=t*y;for(let i=0;i<u;i++){const n=i*y,d=e(k[t][i]),m=s(null),b={type:"rect",x:n,y:o,width:y,height:y},u=a(d);u&&C.push(u);const c=l(b,d.fill,m,null);c&&v.push(c),w.push(r(b))}}const x=15,R=15,E=10;let M=null;g||(M="margin: -15px -15px -18px -15px");const S=p("left",b,n),j=p("right",b,n),B=t(w),H=o(B,L,L,0,!1,h,!1),U=o(B,L,L,0,!1,g?-45:null,!1),W={filter:_??void 0,opacity:null==T?"":`${T}`};return d("div",{class:g?f.diamondMidColRamp:f.squareTableCell,styles:W},d("svg",{"aria-label":q,focusable:!1,height:L,role:"image",style:M,width:L,xmlns:c},d("defs",null,d("marker",{id:`${n}_arrowStart`,markerHeight:"10",markerUnits:"strokeWidth",markerWidth:"10",orient:"auto",refX:"5",refY:"5"},d("polyline",{fill:"none",points:"0,0 5,5 0,10",stroke:"#555555","stroke-width":"1"})),d("marker",{id:`${n}_arrowEnd`,markerHeight:"10",markerUnits:"strokeWidth",markerWidth:"10",orient:"auto",refX:"0",refY:"5"},d("polyline",{fill:"none",points:"5,0 0,5 5,10",stroke:"#555555","stroke-width":"1"})),C),d("g",{transform:H},v),d("g",{transform:U},d("line",{fill:"none","marker-end":S.markerEnd,"marker-start":S.markerStart,stroke:"#555555","stroke-width":"1",x1:-10,x2:-10,y1:$-x,y2:x}),d("line",{fill:"none","marker-end":j.markerEnd,"marker-start":j.markerStart,stroke:"#555555","stroke-width":"1",x1:R,x2:$-R,y1:$+E,y2:$+E}))))}export{k as renderRelationshipRamp};
