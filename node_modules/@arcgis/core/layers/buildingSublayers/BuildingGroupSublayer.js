/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{__decorate as r}from"tslib";import e from"../../core/Collection.js";import{loadAllChildren as o}from"../../core/loadAll.js";import s from"../../core/Warning.js";import{property as t}from"../../core/accessorSupport/decorators/property.js";import"../../core/has.js";import"../../core/Logger.js";import"../../core/RandomLCG.js";import{subclass as i}from"../../core/accessorSupport/decorators/subclass.js";import n from"./BuildingComponentSublayer.js";import u from"./BuildingSublayer.js";import{forEachBuildingSublayer as l}from"./utils.js";const p={type:e,readOnly:!0,json:{origins:{service:{read:{source:"sublayers",reader:a}}},read:!1}};function a(r,o,t){if(r&&Array.isArray(r))return new e(r.map(r=>{const e=c(r);if(e){const o=new e;return o.read(r,t),o}return t?.messages&&r&&t.messages.push(new s("building-scene-layer:unsupported-sublayer-type","Building scene sublayer of type '"+(r.type||"unknown")+"' are not supported",{definition:r,context:t})),null}))}function c(r){return"group"===r.layerType?d:n}let d=class extends u{constructor(r){super(r),this.type="building-group",this.listMode="show",this.sublayers=null}loadAll(){return o(this,r=>l(this.sublayers,e=>{"building-group"!==e.type&&r(e)}))}static{this.sublayersProperty=p}static{this.readSublayers=a}};r([t({type:["hide","show","hide-children"],json:{write:!0}})],d.prototype,"listMode",void 0),r([t(p)],d.prototype,"sublayers",void 0),d=r([i("esri.layers.buildingSublayers.BuildingGroupSublayer")],d);export{d as default};
