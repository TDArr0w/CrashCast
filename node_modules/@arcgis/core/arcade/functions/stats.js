/*
All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://js.arcgis.com/4.34/esri/copyright.txt for details.
*/
import{ArcadeExecutionError as n}from"../executionError.js";import{B as r,j as t,n as e}from"../../chunks/languageUtils.js";import{calculateStat as u}from"./fieldStats.js";import{isArray as i,isString as o}from"../../support/guards.js";function f(n,r){if(1===r.length){if(i(r[0]))return u(n,r[0],-1);if(t(r[0]))return u(n,r[0].toArray(),-1)}return u(n,r,-1)}function a(u,a){u.stdev=function(n,r){return a(n,r,(n,r,t)=>f("stdev",t))},u.variance=function(n,r){return a(n,r,(n,r,t)=>f("variance",t))},u.average=function(n,r){return a(n,r,(n,r,t)=>f("mean",t))},u.mean=function(n,r){return a(n,r,(n,r,t)=>f("mean",t))},u.sum=function(n,r){return a(n,r,(n,r,t)=>f("sum",t))},u.min=function(n,r){return a(n,r,(n,r,t)=>f("min",t))},u.max=function(n,r){return a(n,r,(n,r,t)=>f("max",t))},u.distinct=function(n,r){return a(n,r,(n,r,t)=>f("distinct",t))},u.count=function(u,f){return a(u,f,(a,c,m)=>{if(r(m,1,1,u,f),null==m[0])return 0;if(i(m[0])||o(m[0]))return m[0].length;if(t(m[0]))return m[0].length();if(e(m[0]))return m[0].entryCount();throw new n(u,"InvalidParameter",f)})}}export{a as registerFunctions};
